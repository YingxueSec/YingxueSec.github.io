<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ | Jackhou Blog</title><meta name="keywords" content="ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹,JavaScript"><meta name="author" content="Jack hou"><meta name="copyright" content="Jack hou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦"><meta name="application-name" content="ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦"><meta property="og:url" content="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/index.html"><meta property="og:site_name" content="Jackhou Blog"><meta property="og:description" content="This chapter documents JavaScript expressions and the operators with which many of those expressions are built. An expression is a phrase of JavaSc"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg"><meta property="article:author" content="Jack hou"><meta property="article:tag" content="Jackhou, blog"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg"><meta name="description" content="This chapter documents JavaScript expressions and the operators with which many of those expressions are built. An expression is a phrase of JavaSc"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ï¾ŸĞ”ï¾Ÿ)w ä¸è¦èµ°ï¼å†çœ‹çœ‹å˜›ï¼","backTitle":"â™ª(^âˆ‡^*)æ¬¢è¿è‚¥æ¥ï¼"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: 'https://twikoo.houyanbin.com/',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":null},
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€","rightMenuMsgToTraditionalChinese":"è½¬ä¸ºç¹ä½“","rightMenuMsgToSimplifiedChinese":"è½¬ä¸ºç®€ä½“"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"ä½œè€…: Jack hou","link":"é“¾æ¥: ","source":"æ¥æº: Jackhou Blog","info":"è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚","copySuccess":"å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Jackhou Blog',
  title: 'ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦',
  postAI: '',
  pageFillDescription: '4.1 Primary Expressions, 4.2 Object and Array Initializers, 4.3 Function Definition Expressions, 4.4 Property Access Expressions, 4.4.1 Conditional Property Access, 4.5 Invocation Expressions, 4.5.1 Conditional Invocation, 4.6 Object Creation Expressions, 4.7 Operator Overview, 4.7.1 Number of Operands, 4.7.2 Operand and Result Type, 4.7.3 Operator Side Effects, 4.7.4 Operator Precedence, 4.7.5 Operator Associativity, 4.7.6 Order of Evaluation, 4.8 Arithmetic Expressions, 4.8.1 The + Operator, 4.8.2 Unary Arithmetic Operators, 4.8.3 Bitwise Operators, 4.9 Relational Expressions, 4.9.1 Equality and Inequality Operators, 4.9.2 Comparison Operators, 4.9.3 The in Operator, 4.9.4 The instanceof Operator, 4.10 Logical Expressions, 4.10.1 Logical AND (ampamp), 4.10.2 Logical OR (||), 4.10.3 Logical NOT (!), 4.11 Assignment Expressions, 4.11.1 Assignment with Operation, 4.12 Evaluation Expressions, 4.12.1 eval(), 4.12.2 Global eval(), 4.12.3 Strict eval(), 4.13 Miscellaneous Operators, 4.13.1 The Conditional Operator (?), 4.13.2 First-Defined (??), 4.13.3 The typeof Operator, 4.13.4 The delete Operator, 4.13.5 The await Operator, 4.13.6 The void Operator, 4.13.7 The comma Operator (), 4.14 Summaryæœ¬ç« ä»‹ç»äº†è¡¨è¾¾å¼å’Œç”¨äºæ„å»ºè¿™äº›è¡¨è¾¾å¼çš„è¿ç®—ç¬¦è¡¨è¾¾å¼æ˜¯çš„ä¸€ä¸ªçŸ­è¯­å¯ä»¥è®¡ç®—å®ƒæ¥äº§ç”Ÿä¸€ä¸ªå€¼åœ¨ç¨‹åºä¸­åµŒå…¥çš„å¸¸é‡æ˜¯ä¸€ç§éå¸¸ç®€å•çš„è¡¨è¾¾å¼å˜é‡åä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„è¡¨è¾¾å¼è®¡ç®—ç»“æœä¸ºåˆ†é…ç»™è¯¥å˜é‡çš„ä»»ä½•å€¼å¤æ‚çš„è¡¨è¾¾å¼æ˜¯ç”±ç®€å•çš„è¡¨è¾¾å¼æ„å»ºçš„ä¾‹å¦‚æ•°ç»„è®¿é—®è¡¨è¾¾å¼ç”±ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºæ•°ç»„çš„è¡¨è¾¾å¼ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºæ•´æ•°çš„è¡¨è¾¾å¼å’Œä¸€ä¸ªå³æ–¹æ‹¬å·ç»„æˆè¿™ä¸ªæ–°çš„æ›´å¤æ‚çš„è¡¨è¾¾å¼è®¡ç®—ä¸ºå­˜å‚¨åœ¨æŒ‡å®šæ•°ç»„çš„æŒ‡å®šç´¢å¼•å¤„çš„å€¼ç±»ä¼¼åœ°å‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ç”±è®¡ç®—ä¸ºå‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªè¡¨è¾¾å¼å’Œç”¨ä½œå‡½æ•°å‚æ•°çš„é›¶ä¸ªæˆ–å¤šä¸ªé™„åŠ è¡¨è¾¾å¼ç»„æˆä»è¾ƒç®€å•çš„è¡¨è¾¾å¼æ„å»ºå¤æ‚è¡¨è¾¾å¼çš„æœ€å¸¸è§æ–¹æ³•æ˜¯ä½¿ç”¨è¿ç®—ç¬¦è¿ç®—ç¬¦ä»¥æŸç§æ–¹å¼ç»„åˆå…¶æ“ä½œæ•°çš„å€¼é€šå¸¸æ˜¯ä¸¤ä¸ªå¹¶è®¡ç®—ä¸ºä¸€ä¸ªæ–°å€¼ä¹˜æ³•è¿ç®—ç¬¦æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹è¡¨è¾¾å¼çš„å€¼æ˜¯è¡¨è¾¾å¼å’Œçš„å€¼çš„ä¹˜ç§¯ä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬æœ‰æ—¶è¯´è¿ç®—ç¬¦è¿”å›ä¸€ä¸ªå€¼è€Œä¸æ˜¯æ±‚å€¼ä¸€ä¸ªå€¼è¿™ä¸€ç« è®°å½•äº†æ‰€æœ‰çš„è¿ç®—ç¬¦ä¹Ÿè§£é‡Šäº†ä¸ä½¿ç”¨è¿ç®—ç¬¦çš„è¡¨è¾¾å¼æ¯”å¦‚æ•°ç»„ç´¢å¼•å’Œå‡½æ•°è°ƒç”¨å¦‚æœæ‚¨å·²ç»çŸ¥é“å¦ä¸€ç§ä½¿ç”¨é£æ ¼è¯­æ³•çš„ç¼–ç¨‹è¯­è¨€é‚£ä¹ˆæ‚¨ä¼šå‘ç°çš„å¤§å¤šæ•°è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦çš„è¯­æ³•å¯¹æ‚¨æ¥è¯´å·²ç»å¾ˆç†Ÿæ‚‰äº†æœ€ç®€å•çš„è¡¨è¾¾å¼è¢«ç§°ä¸ºåŸºæœ¬è¡¨è¾¾å¼æ˜¯é‚£äº›ç‹¬ç«‹çš„è¡¨è¾¾å¼å®ƒä»¬ä¸åŒ…æ‹¬ä»»ä½•æ›´ç®€å•çš„è¡¨è¾¾å¼ä¸­çš„ä¸»è¡¨è¾¾å¼æ˜¯å¸¸é‡æˆ–æ–‡å­—å€¼æŸäº›è¯­è¨€å…³é”®å­—å’Œå˜é‡å¼•ç”¨æ–‡æœ¬æ˜¯ç›´æ¥åµŒå…¥åˆ°ç¨‹åºä¸­çš„å¸¸æ•°å€¼å®ƒä»¬çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„åœ¨ä¸­ä»‹ç»äº†ç”¨äºæ•°å­—æ–‡å­—çš„è¯­æ³•åœ¨ä¸­è®°å½•äº†å­—ç¬¦ä¸²æ–‡å­—æ­£åˆ™è¡¨è¾¾å¼å­—é¢è¯­æ³•æ˜¯åœ¨ä¸­ä»‹ç»çš„å¹¶å°†åœ¨ä¸­è¯¦ç»†è¯´æ˜ä¸€äº›çš„ä¿ç•™å­—æ˜¯ä¸»è¦çš„è¡¨è¾¾å¼æˆ‘ä»¬åœ¨å’Œä¸­å­¦ä¹ äº†çœŸå‡å’Œç©ºä¸å…¶ä»–å…³é”®å­—ä¸åŒè¿™ä¸æ˜¯å¸¸é‡å®ƒåœ¨ç¨‹åºçš„ä¸åŒä½ç½®è®¡ç®—ä¸åŒçš„å€¼å…³é”®å­—ç”¨äºé¢å‘å¯¹è±¡ç¼–ç¨‹åœ¨æ–¹æ³•ä½“ä¸­è¿™å°†è®¡ç®—ä¸ºè°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡è¯·å‚é˜…ç¬¬ç« ç‰¹åˆ«æ˜¯å’Œç¬¬ç« æ¥äº†è§£æ›´å¤šè¿™æ–¹é¢çš„å†…å®¹æœ€åç¬¬ä¸‰ç§ç±»å‹çš„ä¸»è¡¨è¾¾å¼æ˜¯å¯¹å…¨å±€å¯¹è±¡çš„å˜é‡å¸¸é‡æˆ–å±æ€§çš„å¼•ç”¨å½“ä»»ä½•æ ‡è¯†ç¬¦åœ¨ç¨‹åºä¸­å•ç‹¬å‡ºç°æ—¶å‡å®šå®ƒæ˜¯å…¨å±€å¯¹è±¡çš„å˜é‡å¸¸é‡æˆ–å±æ€§å¹¶æŸ¥æ‰¾å…¶å€¼å¦‚æœä¸å­˜åœ¨å…·æœ‰è¯¥åç§°çš„å˜é‡åˆ™å°è¯•å¯¹ä¸å­˜åœ¨çš„å˜é‡æ±‚å€¼ä¼šæŠ›å‡ºä¸€ä¸ªå¯¹è±¡å’Œæ•°ç»„åˆå§‹åŒ–å™¨æ˜¯å…¶å€¼ä¸ºæ–°åˆ›å»ºçš„å¯¹è±¡æˆ–æ•°ç»„çš„è¡¨è¾¾å¼è¿™äº›åˆå§‹åŒ–å™¨è¡¨è¾¾å¼æœ‰æ—¶è¢«ç§°ä¸ºå¯¹è±¡å­—é¢é‡å’Œæ•°ç»„å­—é¢é‡ç„¶è€Œä¸çœŸæ­£çš„å­—é¢å€¼ä¸åŒå®ƒä»¬ä¸æ˜¯ä¸»è¡¨è¾¾å¼å› ä¸ºå®ƒä»¬åŒ…æ‹¬è®¸å¤šæŒ‡å®šå±æ€§å’Œå…ƒç´ å€¼çš„å­è¡¨è¾¾å¼æ•°ç»„åˆå§‹åŒ–å™¨çš„è¯­æ³•ç¨å¾®ç®€å•ä¸€äº›æˆ‘ä»¬å°†ä»è¿™äº›å¼€å§‹æ•°ç»„åˆå§‹åŒ–å™¨æ˜¯åŒ…å«åœ¨æ–¹æ‹¬å·å†…çš„ä»¥é€—å·åˆ†éš”çš„è¡¨è¾¾å¼åˆ—è¡¨æ•°ç»„åˆå§‹åŒ–å™¨çš„å€¼æ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„æ•°ç»„è¿™ä¸ªæ–°æ•°ç»„çš„å…ƒç´ è¢«åˆå§‹åŒ–ä¸ºé€—å·åˆ†éš”çš„è¡¨è¾¾å¼çš„å€¼æ•°ç»„åˆå§‹åŒ–å™¨ä¸­çš„å…ƒç´ è¡¨è¾¾å¼æœ¬èº«å¯ä»¥æ˜¯æ•°ç»„åˆå§‹åŒ–å™¨è¿™æ„å‘³ç€è¿™äº›è¡¨è¾¾å¼å¯ä»¥åˆ›å»ºåµŒå¥—æ•°ç»„æ•°ç»„åˆå§‹åŒ–å¼ä¸­çš„å…ƒç´ è¡¨è¾¾å¼åœ¨æ¯æ¬¡æ±‚å€¼æ•°ç»„åˆå§‹åŒ–å¼æ—¶éƒ½ä¼šæ±‚å€¼è¿™æ„å‘³ç€æ•°ç»„åˆå§‹åŒ–å™¨è¡¨è¾¾å¼çš„å€¼åœ¨æ¯æ¬¡æ±‚å€¼æ—¶å¯èƒ½ä¸åŒåªéœ€åœ¨é€—å·ä¹‹é—´çœç•¥ä¸€ä¸ªå€¼å°±å¯ä»¥å°†æœªå®šä¹‰çš„å…ƒç´ åŒ…å«åœ¨æ•°ç»„å­—é¢é‡ä¸­ä¾‹å¦‚ä¸‹é¢çš„æ•°ç»„åŒ…å«ä¸ªå…ƒç´ å…¶ä¸­ä¸ªæ˜¯æœªå®šä¹‰çš„å…ƒç´ åœ¨æ•°ç»„åˆå§‹åŒ–å™¨çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼åé¢å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€—å·å¹¶ä¸”ä¸ä¼šåˆ›å»ºæœªå®šä¹‰çš„å…ƒç´ ç„¶è€Œåœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç´¢å¼•ä¹‹åçš„ä»»ä½•æ•°ç»„è®¿é—®è¡¨è¾¾å¼éƒ½å¿…é¡»æ±‚å€¼ä¸ºå¯¹è±¡åˆå§‹åŒ–å™¨è¡¨è¾¾å¼ä¸æ•°ç»„åˆå§‹åŒ–å™¨è¡¨è¾¾å¼ç±»ä¼¼ä½†æ–¹æ‹¬å·è¢«èŠ±æ‹¬å·æ›¿æ¢æ¯ä¸ªå­è¡¨è¾¾å¼å‰é¢éƒ½æœ‰å±æ€§åå’Œå†’å·åœ¨ä¸­å¯¹è±¡å­—é¢é‡æœ‰æ›´ä¸°å¯Œçš„è¯­æ³•ç‰¹æ€§ä½ å¯ä»¥åœ¨ä¸­æ‰¾åˆ°ç»†èŠ‚å¯¹è±¡å­—é¢é‡å¯ä»¥åµŒå¥—ä¾‹å¦‚æˆ‘ä»¬å°†åœ¨ç¬¬ç« å’Œç¬¬ç« å†æ¬¡çœ‹åˆ°å¯¹è±¡å’Œæ•°ç»„åˆå§‹åŒ–å™¨å‡½æ•°å®šä¹‰è¡¨è¾¾å¼å®šä¹‰ä¸€ä¸ªå‡½æ•°è¿™ç§è¡¨è¾¾å¼çš„å€¼æ˜¯æ–°å®šä¹‰çš„å‡½æ•°åœ¨æŸç§æ„ä¹‰ä¸Šå‡½æ•°å®šä¹‰è¡¨è¾¾å¼æ˜¯å‡½æ•°å­—é¢é‡å°±åƒå¯¹è±¡åˆå§‹åŒ–å™¨æ˜¯å¯¹è±¡å­—é¢é‡ä¸€æ ·ä¸€ä¸ªå‡½æ•°å®šä¹‰è¡¨è¾¾å¼é€šå¸¸ç”±å…³é”®å­—å’Œä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ç»„æˆåˆ—è¡¨ä¸­åŒ…å«ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦å‚æ•°åå’Œä¸€ä¸ªä»£ç å—å‡½æ•°ä½“èŠ±æ‹¬å·ä¾‹å¦‚å‡½æ•°å®šä¹‰è¡¨è¾¾å¼è¿˜å¯ä»¥åŒ…å«å‡½æ•°çš„åç§°å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°è¯­å¥è€Œä¸æ˜¯å‡½æ•°è¡¨è¾¾å¼æ¥å®šä¹‰åœ¨åŠä»¥åçš„ç‰ˆæœ¬ä¸­å‡½æ•°è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ä¸€ç§ç´§å‡‘çš„æ–°ç®­å¤´å‡½æ•°è¯­æ³•å…³äºå‡½æ•°å®šä¹‰çš„å®Œæ•´ç»†èŠ‚è§ç¬¬ç« å±æ€§è®¿é—®è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸ºå¯¹è±¡å±æ€§æˆ–æ•°ç»„å…ƒç´ çš„å€¼ä¸ºå±æ€§è®¿é—®å®šä¹‰äº†ä¸¤ç§è¯­æ³•å±æ€§è®¿é—®çš„ç¬¬ä¸€ç§æ ·å¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼åé¢è·Ÿç€å¥ç‚¹å’Œæ ‡è¯†ç¬¦è¡¨è¾¾å¼æŒ‡å®šå¯¹è±¡æ ‡è¯†ç¬¦æŒ‡å®šæ‰€éœ€å±æ€§çš„åç§°ç¬¬äºŒç§ç±»å‹çš„å±æ€§è®¿é—®è·Ÿåœ¨ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼å¯¹è±¡æˆ–æ•°ç»„åé¢æ–¹æ‹¬å·ä¸­è¿˜æœ‰å¦ä¸€ä¸ªè¡¨è¾¾å¼ç¬¬äºŒä¸ªè¡¨è¾¾å¼æŒ‡å®šæ‰€éœ€å±æ€§çš„åç§°æˆ–æ‰€éœ€æ•°ç»„å…ƒç´ çš„ç´¢å¼•ä»¥ä¸‹æ˜¯ä¸€äº›å…·ä½“çš„ä¾‹å­ä½¿ç”¨ä»»ä¸€ç±»å‹çš„å±æ€§è®¿é—®è¡¨è¾¾å¼æ—¶å‰é¢çš„è¡¨è¾¾å¼é¦–å…ˆè¢«æ±‚å€¼å¦‚æœå€¼ä¸ºæˆ–æœªå®šä¹‰åˆ™è¡¨è¾¾å¼æŠ›å‡ºå› ä¸ºè¿™ä¸¤ä¸ªå€¼ä¸èƒ½å…·æœ‰å±æ€§å¦‚æœå¯¹è±¡è¡¨è¾¾å¼åé¢è·Ÿç€ç‚¹å’Œæ ‡è¯†ç¬¦åˆ™è¯¥æ ‡è¯†ç¬¦å‘½åçš„å±æ€§çš„å€¼å°†è¢«æŸ¥æ‰¾å¹¶æˆä¸ºè¡¨è¾¾å¼çš„æ•´ä½“å€¼å¦‚æœå¯¹è±¡è¡¨è¾¾å¼åé¢è·Ÿç€æ–¹æ‹¬å·ä¸­çš„å¦ä¸€ä¸ªè¡¨è¾¾å¼åˆ™è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼å¹¶å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²è¡¨è¾¾å¼çš„æ•´ä½“å€¼å°±æ˜¯ç”±è¯¥å­—ç¬¦ä¸²å‘½åçš„å±æ€§çš„å€¼åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹å¦‚æœå‘½åçš„å±æ€§ä¸å­˜åœ¨é‚£ä¹ˆå±æ€§è®¿é—®è¡¨è¾¾å¼çš„å€¼æ˜¯æœªå®šä¹‰çš„è¯­æ³•æ˜¯ä¸¤ç§å±æ€§è®¿é—®é€‰é¡¹ä¸­æ¯”è¾ƒç®€å•çš„ä¸€ç§ä½†è¯·æ³¨æ„åªæœ‰å½“æ‚¨æƒ³è¦è®¿é—®çš„å±æ€§å…·æœ‰åˆæ³•æ ‡è¯†ç¬¦çš„åç§°å¹¶ä¸”åœ¨ç¼–å†™ç¨‹åºæ—¶çŸ¥é“è¯¥åç§°æ—¶æ‰å¯ä»¥ä½¿ç”¨å®ƒå¦‚æœå±æ€§ååŒ…å«ç©ºæ ¼æˆ–æ ‡ç‚¹å­—ç¬¦æˆ–è€…æ˜¯æ•°å­—ç”¨äºæ•°ç»„åˆ™å¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•æ–¹æ‹¬å·ä¹Ÿç”¨äºå±æ€§åä¸æ˜¯é™æ€çš„è€Œæ˜¯è®¡ç®—çš„ç»“æœå‚çœ‹çš„ä¾‹å­å¯¹è±¡åŠå…¶å±æ€§å°†åœ¨ç¬¬ç« è¯¦ç»†ä»‹ç»æ•°ç»„åŠå…¶å…ƒç´ å°†åœ¨ç¬¬ç« ä»‹ç»å¢åŠ äº†ä¸¤ç§æ–°çš„å±æ€§è®¿é—®è¡¨è¾¾å¼åœ¨ä¸­å€¼å’Œæ˜¯ä»…æœ‰çš„ä¸¤ä¸ªæ²¡æœ‰å±æ€§çš„å€¼åœ¨æ­£åˆ™å±æ€§è®¿é—®è¡¨è¾¾å¼ä¸­ä½¿ç”¨æˆ–è€…å¦‚æœå·¦è¾¹çš„è¡¨è¾¾å¼è®¡ç®—ä¸ºæˆ–æœªå®šä¹‰åˆ™ä¼šå¾—åˆ°ä¸€ä¸ªä½ å¯ä»¥ç”¨å’Œè¯­æ³•é˜²æ­¢æ­¤ç±»é”™è¯¯è€ƒè™‘ä¸€ä¸‹è¿™ä¸ªè¡¨è¾¾å¼å¦‚æœæ˜¯æˆ–åˆ™è¡¨è¾¾å¼è®¡ç®—ä¸ºè€Œæ²¡æœ‰å°è¯•è®¿é—®å±æ€§å¦‚æœæ˜¯å…¶ä»–å€¼åˆ™çš„å€¼ç­‰äºçš„å€¼å¦‚æœæ²¡æœ‰åä¸ºçš„å±æ€§é‚£ä¹ˆè¿™ä¸ªå€¼ä¹Ÿå°†æ˜¯æœªå®šä¹‰çš„',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-26 15:36:18',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="åšå®¢"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="åšå®¢"/><span class="back-menu-item-text">åšå®¢</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="å®‰çŸ¥é±¼å›¾åºŠ"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="å®‰çŸ¥é±¼å›¾åºŠ"/><span class="back-menu-item-text">å®‰çŸ¥é±¼å›¾åºŠ</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Jackhou Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> è¿½ç•ªé¡µ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™"><a class="site-page" onclick="anzhiyu.totraveling()" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> æœç´¢</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> æœ€æ–°è¯„è®º</span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 1.05rem;">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 1.05rem;">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 1.05rem;">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem;">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 1.05rem;">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 1.05rem;">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 1.05rem;">ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 1.05rem;">åŒ¿å<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem;">åšå®¢<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.05rem;">å®‰å…¨<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 1.05rem;">æ”¯ä»˜<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 1.05rem;">æ”»é˜²<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 1.05rem;">æ—…è¡Œ<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem;">è™šæ‹Ÿæœº<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 1.05rem;">è¶Šæƒ<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">å…«æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">äº”æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">å››æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">37</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">æŠ€æœ¯</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/JavaScript/" itemprop="url">JavaScript</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹</span></a><a class="article-meta__tags" href="/tags/JavaScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JavaScript</span></a></span></div></div><h1 class="post-title" itemprop="name headline">ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-04-25T16:00:57.000Z" title="å‘è¡¨äº 2023-04-26 00:00:57">2023-04-26</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-04-26T07:36:18.000Z" title="æ›´æ–°äº 2023-04-26 15:36:18">2023-04-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="é˜…è¯»é‡">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºé•¿æ²™"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>é•¿æ²™</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/"><header><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">æŠ€æœ¯</a><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/JavaScript/" itemprop="url">JavaScript</a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" tabindex="-1" itemprop="url">ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹</a><a href="/tags/JavaScript/" tabindex="-1" itemprop="url">JavaScript</a><h1 id="CrawlerTitle" itemprop="name headline">ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Jack hou</span><time itemprop="dateCreated datePublished" datetime="2023-04-25T16:00:57.000Z" title="å‘è¡¨äº 2023-04-26 00:00:57">2023-04-26</time><time itemprop="dateCreated datePublished" datetime="2023-04-26T07:36:18.000Z" title="æ›´æ–°äº 2023-04-26 15:36:18">2023-04-26</time></header><meta name="referrer" content="no-referrer"/>


<p>This chapter documents JavaScript expressions and the operators with which many of those expressions are built. An expression is a phrase of JavaScript that can be evaluated to produce a value. A constant embedded literally in your program is a very simple kind of expression. A variable name is also a simple expression that evaluates to whatever value has been assigned to that variable. Complex expressions are built from simpler expressions. An array access expression, for example, consists of one expression that evaluates to an array followed by an open square bracket, an expression that evaluates to an integer, and a close square bracket. This new, more complex expression evaluates to the value stored at the specified index of the specified array. Similarly, a function invocation expression consists of one expression that evaluates to a function object and zero or more additional expressions that are used as the arguments to the function.</p>
<blockquote>
<p>æœ¬ç« ä»‹ç»äº†JavaScriptè¡¨è¾¾å¼å’Œç”¨äºæ„å»ºè¿™äº›è¡¨è¾¾å¼çš„è¿ç®—ç¬¦ã€‚è¡¨è¾¾å¼æ˜¯JavaScriptçš„ä¸€ä¸ªçŸ­è¯­ï¼Œå¯ä»¥è®¡ç®—å®ƒæ¥äº§ç”Ÿä¸€ä¸ªå€¼ã€‚åœ¨ç¨‹åºä¸­åµŒå…¥çš„å¸¸é‡æ˜¯ä¸€ç§éå¸¸ç®€å•çš„è¡¨è¾¾å¼ã€‚å˜é‡åä¹Ÿæ˜¯ä¸€ä¸ªç®€å•çš„è¡¨è¾¾å¼ï¼Œè®¡ç®—ç»“æœä¸ºåˆ†é…ç»™è¯¥å˜é‡çš„ä»»ä½•å€¼ã€‚å¤æ‚çš„è¡¨è¾¾å¼æ˜¯ç”±ç®€å•çš„è¡¨è¾¾å¼æ„å»ºçš„ã€‚ä¾‹å¦‚ï¼Œæ•°ç»„è®¿é—®è¡¨è¾¾å¼ç”±ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºæ•°ç»„çš„è¡¨è¾¾å¼ã€ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºæ•´æ•°çš„è¡¨è¾¾å¼å’Œä¸€ä¸ªå³æ–¹æ‹¬å·ç»„æˆã€‚è¿™ä¸ªæ–°çš„æ›´å¤æ‚çš„è¡¨è¾¾å¼è®¡ç®—ä¸ºå­˜å‚¨åœ¨æŒ‡å®šæ•°ç»„çš„æŒ‡å®šç´¢å¼•å¤„çš„å€¼ã€‚ç±»ä¼¼åœ°ï¼Œå‡½æ•°è°ƒç”¨è¡¨è¾¾å¼ç”±è®¡ç®—ä¸ºå‡½æ•°å¯¹è±¡çš„ä¸€ä¸ªè¡¨è¾¾å¼å’Œç”¨ä½œå‡½æ•°å‚æ•°çš„é›¶ä¸ªæˆ–å¤šä¸ªé™„åŠ è¡¨è¾¾å¼ç»„æˆã€‚</p>
</blockquote>
<p>The most common way to build a complex expression out of simpler expressions is with an operator. An operator combines the values of its operands (usually two of them) in some way and evaluates to a new value. The multiplication operator * is a simple example. The expression x * y evaluates to the product of the values of the expressions x and y. For simplicity, we sometimes say that an operator returns a value rather than â€œevaluates toâ€ a value.</p>
<blockquote>
<p>ä»è¾ƒç®€å•çš„è¡¨è¾¾å¼æ„å»ºå¤æ‚è¡¨è¾¾å¼çš„æœ€å¸¸è§æ–¹æ³•æ˜¯ä½¿ç”¨è¿ç®—ç¬¦ã€‚è¿ç®—ç¬¦ä»¥æŸç§æ–¹å¼ç»„åˆå…¶æ“ä½œæ•°çš„å€¼(é€šå¸¸æ˜¯ä¸¤ä¸ª)å¹¶è®¡ç®—ä¸ºä¸€ä¸ªæ–°å€¼ã€‚ä¹˜æ³•è¿ç®—ç¬¦*æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ã€‚è¡¨è¾¾å¼x * yçš„å€¼æ˜¯è¡¨è¾¾å¼xå’Œyçš„å€¼çš„ä¹˜ç§¯ã€‚ä¸ºäº†ç®€å•èµ·è§ï¼Œæˆ‘ä»¬æœ‰æ—¶è¯´è¿ç®—ç¬¦è¿”å›ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯â€œæ±‚å€¼â€ä¸€ä¸ªå€¼ã€‚</p>
</blockquote>
<p>This chapter documents all of JavaScriptâ€™s operators, and it also explains expressions (such as array indexing and function invocation) that do not use operators. If you already know another programming language that uses C-style syntax, youâ€™ll find that the syntax of most of JavaScriptâ€™s expressions and operators is already familiar to you.</p>
<blockquote>
<p>è¿™ä¸€ç« è®°å½•äº†æ‰€æœ‰çš„JavaScriptè¿ç®—ç¬¦ï¼Œä¹Ÿè§£é‡Šäº†ä¸ä½¿ç”¨è¿ç®—ç¬¦çš„è¡¨è¾¾å¼(æ¯”å¦‚æ•°ç»„ç´¢å¼•å’Œå‡½æ•°è°ƒç”¨)ã€‚å¦‚æœæ‚¨å·²ç»çŸ¥é“å¦ä¸€ç§ä½¿ç”¨cé£æ ¼è¯­æ³•çš„ç¼–ç¨‹è¯­è¨€ï¼Œé‚£ä¹ˆæ‚¨ä¼šå‘ç°JavaScriptçš„å¤§å¤šæ•°è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦çš„è¯­æ³•å¯¹æ‚¨æ¥è¯´å·²ç»å¾ˆç†Ÿæ‚‰äº†ã€‚</p>
</blockquote>
<h2 id="4-1-Primary-Expressions"><a href="#4-1-Primary-Expressions" class="headerlink" title="4.1 Primary Expressions"></a>4.1 Primary Expressions</h2><p>The simplest expressions, known as primary expressions, are those that stand aloneâ€”they do not include any simpler expressions. Primary expressions in JavaScript are constant or literal values, certain language keywords, and variable references.</p>
<blockquote>
<p>æœ€ç®€å•çš„è¡¨è¾¾å¼è¢«ç§°ä¸ºåŸºæœ¬è¡¨è¾¾å¼ï¼Œæ˜¯é‚£äº›ç‹¬ç«‹çš„è¡¨è¾¾å¼â€”â€”å®ƒä»¬ä¸åŒ…æ‹¬ä»»ä½•æ›´ç®€å•çš„è¡¨è¾¾å¼ã€‚JavaScriptä¸­çš„ä¸»è¡¨è¾¾å¼æ˜¯å¸¸é‡æˆ–æ–‡å­—å€¼ã€æŸäº›è¯­è¨€å…³é”®å­—å’Œå˜é‡å¼•ç”¨ã€‚</p>
</blockquote>
<p>Literals are constant values that are embedded directly in your program. They look like these:</p>
<blockquote>
<p>æ–‡æœ¬æ˜¯ç›´æ¥åµŒå…¥åˆ°ç¨‹åºä¸­çš„å¸¸æ•°å€¼ã€‚å®ƒä»¬çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.23</span>         <span class="comment">// A number literal</span></span><br><span class="line"><span class="string">&quot;hello&quot;</span>      <span class="comment">// A string literal</span></span><br><span class="line">/pattern/    <span class="comment">// A regular expression literal</span></span><br></pre></td></tr></table></figure>

<p>JavaScript syntax for number literals was covered in Â§3.2. String literals were documented in Â§3.3. The regular expression literal syntax was introduced in Â§3.3.5 and will be documented in detail in Â§11.3.</p>
<blockquote>
<p>åœ¨Â§3.2ä¸­ä»‹ç»äº†ç”¨äºæ•°å­—æ–‡å­—çš„JavaScriptè¯­æ³•ã€‚åœ¨Â§3.3ä¸­è®°å½•äº†å­—ç¬¦ä¸²æ–‡å­—ã€‚æ­£åˆ™è¡¨è¾¾å¼å­—é¢è¯­æ³•æ˜¯åœ¨Â§3.3.5ä¸­ä»‹ç»çš„ï¼Œå¹¶å°†åœ¨Â§11.3ä¸­è¯¦ç»†è¯´æ˜ã€‚</p>
</blockquote>
<p>Some of JavaScriptâ€™s reserved words are primary expressions:</p>
<blockquote>
<p>ä¸€äº›JavaScriptçš„ä¿ç•™å­—æ˜¯ä¸»è¦çš„è¡¨è¾¾å¼:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">true</span>       <span class="comment">// Evalutes to the boolean true value</span></span><br><span class="line"><span class="literal">false</span>      <span class="comment">// Evaluates to the boolean false value</span></span><br><span class="line"><span class="literal">null</span>       <span class="comment">// Evaluates to the null value</span></span><br><span class="line"><span class="variable language_">this</span>       <span class="comment">// Evaluates to the &quot;current&quot; object</span></span><br></pre></td></tr></table></figure>

<p>We learned about true, false, and null in Â§3.4 and Â§3.5. Unlike the other keywords, this is not a constantâ€”it evaluates to different values in different places in the program. The this keyword is used in object-oriented programming. Within the body of a method, this evaluates to the object on which the method was invoked. See Â§4.5, Chapter 8 (especially Â§8.2.2), and Chapter 9 for more on this.</p>
<blockquote>
<p>æˆ‘ä»¬åœ¨Â§3.4å’ŒÂ§3.5ä¸­å­¦ä¹ äº†çœŸã€å‡å’Œç©ºã€‚ä¸å…¶ä»–å…³é”®å­—ä¸åŒï¼Œè¿™ä¸æ˜¯å¸¸é‡â€”å®ƒåœ¨ç¨‹åºçš„ä¸åŒä½ç½®è®¡ç®—ä¸åŒçš„å€¼ã€‚å…³é”®å­—thisç”¨äºé¢å‘å¯¹è±¡ç¼–ç¨‹ã€‚åœ¨æ–¹æ³•ä½“ä¸­ï¼Œè¿™å°†è®¡ç®—ä¸ºè°ƒç”¨è¯¥æ–¹æ³•çš„å¯¹è±¡ã€‚è¯·å‚é˜…Â§4.5ï¼Œç¬¬ 8 ç« (ç‰¹åˆ«æ˜¯Â§8.2.2)å’Œç¬¬ 9 ç« æ¥äº†è§£æ›´å¤šè¿™æ–¹é¢çš„å†…å®¹ã€‚</p>
</blockquote>
<p>Finally, the third type of primary expression is a reference to a variable, constant, or property of the global object:</p>
<blockquote>
<p>æœ€åï¼Œç¬¬ä¸‰ç§ç±»å‹çš„ä¸»è¡¨è¾¾å¼æ˜¯å¯¹å…¨å±€å¯¹è±¡çš„å˜é‡ã€å¸¸é‡æˆ–å±æ€§çš„å¼•ç”¨:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">i             <span class="comment">// Evaluates to the value of the variable i.</span></span><br><span class="line">sum           <span class="comment">// Evaluates to the value of the variable sum.</span></span><br><span class="line"><span class="literal">undefined</span>     <span class="comment">// The value of the &quot;undefined&quot; property of the global object</span></span><br></pre></td></tr></table></figure>

<p>When any identifier appears by itself in a program, JavaScript assumes it is a variable or constant or property of the global object and looks up its value. If no variable with that name exists, an attempt to evaluate a nonexistent variable throws a ReferenceError instead.</p>
<blockquote>
<p>å½“ä»»ä½•æ ‡è¯†ç¬¦åœ¨ç¨‹åºä¸­å•ç‹¬å‡ºç°æ—¶ï¼ŒJavaScriptå‡å®šå®ƒæ˜¯å…¨å±€å¯¹è±¡çš„å˜é‡ã€å¸¸é‡æˆ–å±æ€§ï¼Œå¹¶æŸ¥æ‰¾å…¶å€¼ã€‚å¦‚æœä¸å­˜åœ¨å…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œåˆ™å°è¯•å¯¹ä¸å­˜åœ¨çš„å˜é‡æ±‚å€¼ä¼šæŠ›å‡ºä¸€ä¸ªReferenceErrorã€‚</p>
</blockquote>
<h2 id="4-2-Object-and-Array-Initializers"><a href="#4-2-Object-and-Array-Initializers" class="headerlink" title="4.2 Object and Array Initializers"></a>4.2 Object and Array Initializers</h2><p>Object and array initializers are expressions whose value is a newly created object or array. These initializer expressions are sometimes called object literals and array literals. Unlike true literals, however, they are not primary expressions, because they include a number of subexpressions that specify property and element values. Array initializers have a slightly simpler syntax, and weâ€™ll begin with those.</p>
<blockquote>
<p>å¯¹è±¡å’Œæ•°ç»„åˆå§‹åŒ–å™¨æ˜¯å…¶å€¼ä¸ºæ–°åˆ›å»ºçš„å¯¹è±¡æˆ–æ•°ç»„çš„è¡¨è¾¾å¼ã€‚è¿™äº›åˆå§‹åŒ–å™¨è¡¨è¾¾å¼æœ‰æ—¶è¢«ç§°ä¸ºå¯¹è±¡å­—é¢é‡å’Œæ•°ç»„å­—é¢é‡ã€‚ç„¶è€Œï¼Œä¸çœŸæ­£çš„å­—é¢å€¼ä¸åŒï¼Œå®ƒä»¬ä¸æ˜¯ä¸»è¡¨è¾¾å¼ï¼Œå› ä¸ºå®ƒä»¬åŒ…æ‹¬è®¸å¤šæŒ‡å®šå±æ€§å’Œå…ƒç´ å€¼çš„å­è¡¨è¾¾å¼ã€‚æ•°ç»„åˆå§‹åŒ–å™¨çš„è¯­æ³•ç¨å¾®ç®€å•ä¸€äº›ï¼Œæˆ‘ä»¬å°†ä»è¿™äº›å¼€å§‹ã€‚</p>
</blockquote>
<p>An array initializer is a comma-separated list of expressions contained within square brackets. The value of an array initializer is a newly created array. The elements of this new array are initialized to the values of the comma-separated expressions:</p>
<blockquote>
<p>æ•°ç»„åˆå§‹åŒ–å™¨æ˜¯åŒ…å«åœ¨æ–¹æ‹¬å·å†…çš„ä»¥é€—å·åˆ†éš”çš„è¡¨è¾¾å¼åˆ—è¡¨ã€‚æ•°ç»„åˆå§‹åŒ–å™¨çš„å€¼æ˜¯ä¸€ä¸ªæ–°åˆ›å»ºçš„æ•°ç»„ã€‚è¿™ä¸ªæ–°æ•°ç»„çš„å…ƒç´ è¢«åˆå§‹åŒ–ä¸ºé€—å·åˆ†éš”çš„è¡¨è¾¾å¼çš„å€¼:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[]         <span class="comment">// An empty array: no expressions inside brackets means no elements</span></span><br><span class="line">[<span class="number">1</span>+<span class="number">2</span>,<span class="number">3</span>+<span class="number">4</span>]  <span class="comment">// A 2-element array.  First element is 3, second is 7</span></span><br></pre></td></tr></table></figure>

<p>The element expressions in an array initializer can themselves be array initializers, which means that these expressions can create nested arrays:</p>
<blockquote>
<p>æ•°ç»„åˆå§‹åŒ–å™¨ä¸­çš„å…ƒç´ è¡¨è¾¾å¼æœ¬èº«å¯ä»¥æ˜¯æ•°ç»„åˆå§‹åŒ–å™¨ï¼Œè¿™æ„å‘³ç€è¿™äº›è¡¨è¾¾å¼å¯ä»¥åˆ›å»ºåµŒå¥—æ•°ç»„:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> matrix = [[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]];</span><br></pre></td></tr></table></figure>

<p>The element expressions in an array initializer are evaluated each time the array initializer is evaluated. This means that the value of an array initializer expression may be different each time it is evaluated.</p>
<blockquote>
<p>æ•°ç»„åˆå§‹åŒ–å¼ä¸­çš„å…ƒç´ è¡¨è¾¾å¼åœ¨æ¯æ¬¡æ±‚å€¼æ•°ç»„åˆå§‹åŒ–å¼æ—¶éƒ½ä¼šæ±‚å€¼ã€‚è¿™æ„å‘³ç€æ•°ç»„åˆå§‹åŒ–å™¨è¡¨è¾¾å¼çš„å€¼åœ¨æ¯æ¬¡æ±‚å€¼æ—¶å¯èƒ½ä¸åŒã€‚</p>
</blockquote>
<p>Undefined elements can be included in an array literal by simply omitting a value between commas. For example, the following array contains five elements, including three undefined elements:</p>
<blockquote>
<p>åªéœ€åœ¨é€—å·ä¹‹é—´çœç•¥ä¸€ä¸ªå€¼ï¼Œå°±å¯ä»¥å°†æœªå®šä¹‰çš„å…ƒç´ åŒ…å«åœ¨æ•°ç»„å­—é¢é‡ä¸­ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„æ•°ç»„åŒ…å«5ä¸ªå…ƒç´ ï¼Œå…¶ä¸­3ä¸ªæ˜¯æœªå®šä¹‰çš„å…ƒç´ :</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sparseArray = [<span class="number">1</span>,,,,<span class="number">5</span>];</span><br></pre></td></tr></table></figure>

<p>A single trailing comma is allowed after the last expression in an array initializer and does not create an undefined element. However, any array access expression for an index after that of the last expression will necessarily evaluate to undefined.</p>
<blockquote>
<p>åœ¨æ•°ç»„åˆå§‹åŒ–å™¨çš„æœ€åä¸€ä¸ªè¡¨è¾¾å¼åé¢å¯ä»¥ä½¿ç”¨ä¸€ä¸ªé€—å·ï¼Œå¹¶ä¸”ä¸ä¼šåˆ›å»ºæœªå®šä¹‰çš„å…ƒç´ ã€‚ç„¶è€Œï¼Œåœ¨æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç´¢å¼•ä¹‹åçš„ä»»ä½•æ•°ç»„è®¿é—®è¡¨è¾¾å¼éƒ½å¿…é¡»æ±‚å€¼ä¸ºundefinedã€‚</p>
</blockquote>
<p>Object initializer expressions are like array initializer expressions, but the square brackets are replaced by curly brackets, and each subexpression is prefixed with a property name and a colon:</p>
<blockquote>
<p>å¯¹è±¡åˆå§‹åŒ–å™¨è¡¨è¾¾å¼ä¸æ•°ç»„åˆå§‹åŒ–å™¨è¡¨è¾¾å¼ç±»ä¼¼ï¼Œä½†æ–¹æ‹¬å·è¢«èŠ±æ‹¬å·æ›¿æ¢ï¼Œæ¯ä¸ªå­è¡¨è¾¾å¼å‰é¢éƒ½æœ‰å±æ€§åå’Œå†’å·:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = &#123; <span class="attr">x</span>: <span class="number">2.3</span>, <span class="attr">y</span>: -<span class="number">1.2</span> &#125;;  <span class="comment">// An object with 2 properties</span></span><br><span class="line"><span class="keyword">let</span> q = &#123;&#125;;                   <span class="comment">// An empty object with no properties</span></span><br><span class="line">q.<span class="property">x</span> = <span class="number">2.3</span>; q.<span class="property">y</span> = -<span class="number">1.2</span>;        <span class="comment">// Now q has the same properties as p</span></span><br></pre></td></tr></table></figure>

<p>In ES6, object literals have a much more feature-rich syntax (you can find details in Â§6.10). Object literals can be nested. For example:</p>
<blockquote>
<p>åœ¨ES6ä¸­ï¼Œå¯¹è±¡å­—é¢é‡æœ‰æ›´ä¸°å¯Œçš„è¯­æ³•ç‰¹æ€§(ä½ å¯ä»¥åœ¨Â§6.10ä¸­æ‰¾åˆ°ç»†èŠ‚)ã€‚å¯¹è±¡å­—é¢é‡å¯ä»¥åµŒå¥—ã€‚ä¾‹å¦‚:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> rectangle = &#123;</span><br><span class="line">    <span class="attr">upperLeft</span>: &#123; <span class="attr">x</span>: <span class="number">2</span>, <span class="attr">y</span>: <span class="number">2</span> &#125;,</span><br><span class="line">    <span class="attr">lowerRight</span>: &#123; <span class="attr">x</span>: <span class="number">4</span>, <span class="attr">y</span>: <span class="number">5</span> &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>Weâ€™ll see object and array initializers again in Chapters 6 and 7.</p>
<blockquote>
<p>æˆ‘ä»¬å°†åœ¨ç¬¬ 6 ç« å’Œç¬¬ 7 ç« å†æ¬¡çœ‹åˆ°å¯¹è±¡å’Œæ•°ç»„åˆå§‹åŒ–å™¨ã€‚</p>
</blockquote>
<h2 id="4-3-Function-Definition-Expressions"><a href="#4-3-Function-Definition-Expressions" class="headerlink" title="4.3 Function Definition Expressions"></a>4.3 Function Definition Expressions</h2><p>A function definition expression defines a JavaScript function, and the value of such an expression is the newly defined function. In a sense, a function definition expression is a â€œfunction literalâ€ in the same way that an object initializer is an â€œobject literal.â€ A function definition expression typically consists of the keyword function followed by a comma-separated list of zero or more identifiers (the parameter names) in parentheses and a block of JavaScript code (the function body) in curly braces. For example:</p>
<blockquote>
<p>å‡½æ•°å®šä¹‰è¡¨è¾¾å¼å®šä¹‰ä¸€ä¸ªJavaScriptå‡½æ•°ï¼Œè¿™ç§è¡¨è¾¾å¼çš„å€¼æ˜¯æ–°å®šä¹‰çš„å‡½æ•°ã€‚åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œå‡½æ•°å®šä¹‰è¡¨è¾¾å¼æ˜¯â€œå‡½æ•°å­—é¢é‡â€ï¼Œå°±åƒå¯¹è±¡åˆå§‹åŒ–å™¨æ˜¯â€œå¯¹è±¡å­—é¢é‡â€ä¸€æ ·ã€‚ä¸€ä¸ªå‡½æ•°å®šä¹‰è¡¨è¾¾å¼é€šå¸¸ç”±å…³é”®å­—functionå’Œä¸€ä¸ªä»¥é€—å·åˆ†éš”çš„åˆ—è¡¨ç»„æˆï¼Œåˆ—è¡¨ä¸­åŒ…å«0ä¸ªæˆ–å¤šä¸ªæ ‡è¯†ç¬¦(å‚æ•°å)å’Œä¸€ä¸ªJavaScriptä»£ç å—(å‡½æ•°ä½“)(èŠ±æ‹¬å·)ã€‚ä¾‹å¦‚:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This function returns the square of the value passed to it.</span></span><br><span class="line"><span class="keyword">let</span> square = <span class="keyword">function</span>(<span class="params">x</span>) &#123; <span class="keyword">return</span> x * x; &#125;;</span><br></pre></td></tr></table></figure>

<p>A function definition expression can also include a name for the function. Functions can also be defined using a function statement rather than a function expression. And in ES6 and later, function expressions can use a compact new â€œarrow functionâ€ syntax. Complete details on function definition are in Chapter 8.</p>
<blockquote>
<p>å‡½æ•°å®šä¹‰è¡¨è¾¾å¼è¿˜å¯ä»¥åŒ…å«å‡½æ•°çš„åç§°ã€‚å‡½æ•°ä¹Ÿå¯ä»¥ä½¿ç”¨å‡½æ•°è¯­å¥è€Œä¸æ˜¯å‡½æ•°è¡¨è¾¾å¼æ¥å®šä¹‰ã€‚åœ¨ES6åŠä»¥åçš„ç‰ˆæœ¬ä¸­ï¼Œå‡½æ•°è¡¨è¾¾å¼å¯ä»¥ä½¿ç”¨ä¸€ç§ç´§å‡‘çš„æ–°â€œç®­å¤´å‡½æ•°â€è¯­æ³•ã€‚å…³äºå‡½æ•°å®šä¹‰çš„å®Œæ•´ç»†èŠ‚è§ç¬¬ 8 ç« ã€‚</p>
</blockquote>
<h2 id="4-4-Property-Access-Expressions"><a href="#4-4-Property-Access-Expressions" class="headerlink" title="4.4 Property Access Expressions"></a>4.4 Property Access Expressions</h2><p>A property access expression evaluates to the value of an object property or an array element. JavaScript defines two syntaxes for property access:</p>
<blockquote>
<p>å±æ€§è®¿é—®è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœä¸ºå¯¹è±¡å±æ€§æˆ–æ•°ç»„å…ƒç´ çš„å€¼ã€‚JavaScriptä¸ºå±æ€§è®¿é—®å®šä¹‰äº†ä¸¤ç§è¯­æ³•:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expression . identifier</span><br><span class="line">expression [ expression ]</span><br></pre></td></tr></table></figure>

<p>The first style of property access is an expression followed by a period and an identifier. The expression specifies the object, and the identifier specifies the name of the desired property. The second style of property access follows the first expression (the object or array) with another expression in square brackets. This second expression specifies the name of the desired property or the index of the desired array element. Here are some concrete examples:</p>
<blockquote>
<p>å±æ€§è®¿é—®çš„ç¬¬ä¸€ç§æ ·å¼æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåé¢è·Ÿç€å¥ç‚¹å’Œæ ‡è¯†ç¬¦ã€‚è¡¨è¾¾å¼æŒ‡å®šå¯¹è±¡ï¼Œæ ‡è¯†ç¬¦æŒ‡å®šæ‰€éœ€å±æ€§çš„åç§°ã€‚ç¬¬äºŒç§ç±»å‹çš„å±æ€§è®¿é—®è·Ÿåœ¨ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼(å¯¹è±¡æˆ–æ•°ç»„)åé¢ï¼Œæ–¹æ‹¬å·ä¸­è¿˜æœ‰å¦ä¸€ä¸ªè¡¨è¾¾å¼ã€‚ç¬¬äºŒä¸ªè¡¨è¾¾å¼æŒ‡å®šæ‰€éœ€å±æ€§çš„åç§°æˆ–æ‰€éœ€æ•°ç»„å…ƒç´ çš„ç´¢å¼•ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›å…·ä½“çš„ä¾‹å­:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: &#123;<span class="attr">z</span>: <span class="number">3</span>&#125;&#125;; <span class="comment">// An example object</span></span><br><span class="line"><span class="keyword">let</span> a = [o, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]];    <span class="comment">// An example array that contains the object</span></span><br><span class="line">o.<span class="property">x</span>                        <span class="comment">// =&gt; 1: property x of expression o</span></span><br><span class="line">o.<span class="property">y</span>.<span class="property">z</span>                      <span class="comment">// =&gt; 3: property z of expression o.y</span></span><br><span class="line">o[<span class="string">&quot;x&quot;</span>]                     <span class="comment">// =&gt; 1: property x of object o</span></span><br><span class="line">a[<span class="number">1</span>]                       <span class="comment">// =&gt; 4: element at index 1 of expression a</span></span><br><span class="line">a[<span class="number">2</span>][<span class="string">&quot;1&quot;</span>]                  <span class="comment">// =&gt; 6: element at index 1 of expression a[2]</span></span><br><span class="line">a[<span class="number">0</span>].<span class="property">x</span>                     <span class="comment">// =&gt; 1: property x of expression a[0]</span></span><br></pre></td></tr></table></figure>

<p>With either type of property access expression, the expression before the . or [ is first evaluated. If the value is null or undefined, the expression throws a TypeError, since these are the two JavaScript values that cannot have properties. If the object expression is followed by a dot and an identifier, the value of the property named by that identifier is looked up and becomes the overall value of the expression. If the object expression is followed by another expression in square brackets, that second expression is evaluated and converted to a string. The overall value of the expression is then the value of the property named by that string. In either case, if the named property does not exist, then the value of the property access expression is undefined.</p>
<blockquote>
<p>ä½¿ç”¨ä»»ä¸€ç±»å‹çš„å±æ€§è®¿é—®è¡¨è¾¾å¼æ—¶ï¼Œå‰é¢çš„è¡¨è¾¾å¼ã€‚or[é¦–å…ˆè¢«æ±‚å€¼ã€‚å¦‚æœå€¼ä¸ºnullæˆ–æœªå®šä¹‰ï¼Œåˆ™è¡¨è¾¾å¼æŠ›å‡ºTypeErrorï¼Œå› ä¸ºè¿™ä¸¤ä¸ªJavaScriptå€¼ä¸èƒ½å…·æœ‰å±æ€§ã€‚å¦‚æœå¯¹è±¡è¡¨è¾¾å¼åé¢è·Ÿç€ç‚¹å’Œæ ‡è¯†ç¬¦ï¼Œåˆ™è¯¥æ ‡è¯†ç¬¦å‘½åçš„å±æ€§çš„å€¼å°†è¢«æŸ¥æ‰¾å¹¶æˆä¸ºè¡¨è¾¾å¼çš„æ•´ä½“å€¼ã€‚å¦‚æœå¯¹è±¡è¡¨è¾¾å¼åé¢è·Ÿç€æ–¹æ‹¬å·ä¸­çš„å¦ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œåˆ™è®¡ç®—ç¬¬äºŒä¸ªè¡¨è¾¾å¼å¹¶å°†å…¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²ã€‚è¡¨è¾¾å¼çš„æ•´ä½“å€¼å°±æ˜¯ç”±è¯¥å­—ç¬¦ä¸²å‘½åçš„å±æ€§çš„å€¼ã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œå¦‚æœå‘½åçš„å±æ€§ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå±æ€§è®¿é—®è¡¨è¾¾å¼çš„å€¼æ˜¯æœªå®šä¹‰çš„ã€‚</p>
</blockquote>
<p>The .identifier syntax is the simpler of the two property access options, but notice that it can only be used when the property you want to access has a name that is a legal identifier, and when you know the name when you write the program. If the property name includes spaces or punctuation characters, or when it is a number (for arrays), you must use the square bracket notation. Square brackets are also used when the property name is not static but is itself the result of a computation (see Â§6.3.1 for an example).</p>
<blockquote>
<p>identifierè¯­æ³•æ˜¯ä¸¤ç§å±æ€§è®¿é—®é€‰é¡¹ä¸­æ¯”è¾ƒç®€å•çš„ä¸€ç§ï¼Œä½†è¯·æ³¨æ„ï¼Œåªæœ‰å½“æ‚¨æƒ³è¦è®¿é—®çš„å±æ€§å…·æœ‰åˆæ³•æ ‡è¯†ç¬¦çš„åç§°ï¼Œå¹¶ä¸”åœ¨ç¼–å†™ç¨‹åºæ—¶çŸ¥é“è¯¥åç§°æ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨å®ƒã€‚å¦‚æœå±æ€§ååŒ…å«ç©ºæ ¼æˆ–æ ‡ç‚¹å­—ç¬¦ï¼Œæˆ–è€…æ˜¯æ•°å­—(ç”¨äºæ•°ç»„)ï¼Œåˆ™å¿…é¡»ä½¿ç”¨æ–¹æ‹¬å·è¡¨ç¤ºæ³•ã€‚æ–¹æ‹¬å·ä¹Ÿç”¨äºå±æ€§åä¸æ˜¯é™æ€çš„ï¼Œè€Œæ˜¯è®¡ç®—çš„ç»“æœ(å‚çœ‹Â§6.3.1çš„ä¾‹å­)ã€‚</p>
</blockquote>
<p>Objects and their properties are covered in detail in Chapter 6, and arrays and their elements are covered in Chapter 7.</p>
<blockquote>
<p>å¯¹è±¡åŠå…¶å±æ€§å°†åœ¨ç¬¬ 6 ç« è¯¦ç»†ä»‹ç»ï¼Œæ•°ç»„åŠå…¶å…ƒç´ å°†åœ¨ç¬¬ 7 ç« ä»‹ç»ã€‚</p>
</blockquote>
<h3 id="4-4-1-Conditional-Property-Access"><a href="#4-4-1-Conditional-Property-Access" class="headerlink" title="4.4.1 Conditional Property Access"></a>4.4.1 Conditional Property Access</h3><p>ES2020 adds two new kinds of property access expressions:</p>
<blockquote>
<p>ES2020å¢åŠ äº†ä¸¤ç§æ–°çš„å±æ€§è®¿é—®è¡¨è¾¾å¼:</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">expression ?. identifier</span><br><span class="line">expression ?.[ expression ]</span><br></pre></td></tr></table></figure>

<p>In JavaScript, the values null and undefined are the only two values that do not have properties. In a regular property access expression using . or [], you get a TypeError if the expression on the left evaluates to null or undefined. You can use ?. and ?.[] syntax to guard against errors of this type.</p>
<blockquote>
<p>åœ¨JavaScriptä¸­ï¼Œå€¼nullå’Œundefinedæ˜¯ä»…æœ‰çš„ä¸¤ä¸ªæ²¡æœ‰å±æ€§çš„å€¼ã€‚åœ¨æ­£åˆ™å±æ€§è®¿é—®è¡¨è¾¾å¼ä¸­ä½¿ç”¨ã€‚æˆ–è€…[]ï¼Œå¦‚æœå·¦è¾¹çš„è¡¨è¾¾å¼è®¡ç®—ä¸ºnullæˆ–æœªå®šä¹‰ï¼Œåˆ™ä¼šå¾—åˆ°ä¸€ä¸ªTypeErrorã€‚ä½ å¯ä»¥ç”¨?å’Œ?ã€‚[]è¯­æ³•é˜²æ­¢æ­¤ç±»é”™è¯¯ã€‚</p>
</blockquote>
<p>Consider the expression a?.b. If a is null or undefined, then the expression evaluates to undefined without any attempt to access the property b. If a is some other value, then a?.b evaluates to whatever a.b would evaluate to (and if a does not have a property named b, then the value will again be undefined).</p>
<blockquote>
<p>è€ƒè™‘ä¸€ä¸‹a? bè¿™ä¸ªè¡¨è¾¾å¼ã€‚å¦‚æœaæ˜¯nullæˆ–undefinedï¼Œåˆ™è¡¨è¾¾å¼è®¡ç®—ä¸ºundefinedï¼Œè€Œæ²¡æœ‰å°è¯•è®¿é—®å±æ€§bã€‚å¦‚æœaæ˜¯å…¶ä»–å€¼ï¼Œåˆ™a?bçš„å€¼ç­‰äºa.bçš„å€¼(å¦‚æœaæ²¡æœ‰åä¸ºbçš„å±æ€§ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼ä¹Ÿå°†æ˜¯æœªå®šä¹‰çš„)ã€‚</p>
</blockquote>
<p>This form of property access expression is sometimes called â€œoptional chainingâ€ because it also works for longer â€œchainedâ€ property access expressions like this one:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">b</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">a.<span class="property">b</span>?.<span class="property">c</span>.<span class="property">d</span>   <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>
<p>a is an object, so a.b is a valid property access expression. But the value of a.b is null, so a.b.c would throw a TypeError. By using ?. instead of . we avoid the TypeError, and a.b?.c evaluates to undefined. This means that (a.b?.c).d will throw a TypeError, because that expression attempts to access a property of the value undefined. Butâ€”and this is a very important part of â€œoptional chainingâ€â€”a.b?.c.d (without the parentheses) simply evaluates to undefined and does not throw an error. This is because property access with ?. is â€œshort-circuitingâ€: if the subexpression to the left of ?. evaluates to null or undefined, then the entire expression immediately evaluates to undefined without any further property access attempts.</p>
<p>Of course, if a.b is an object, and if that object has no property named c, then a.b?.c.d will again throw a TypeError, and we will want to use another conditional property access:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = &#123; <span class="attr">b</span>: &#123;&#125; &#125;;</span><br><span class="line">a.<span class="property">b</span>?.<span class="property">c</span>?.<span class="property">d</span>  <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>
<p>Conditional property access is also possible using ?.[] instead of []. In the expression a?.[b][c], if the value of a is null or undefined, then the entire expression immediately evaluates to undefined, and subexpressions b and c are never even evaluated. If either of those expressions has side effects, the side effect will not occur if a is not defined:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a;          <span class="comment">// Oops, we forgot to initialize this variable!</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    a[index++]; <span class="comment">// Throws TypeError</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    index       <span class="comment">// =&gt; 1: increment occurs before TypeError is thrown</span></span><br><span class="line">&#125;</span><br><span class="line">a?.[index++]    <span class="comment">// =&gt; undefined: because a is undefined</span></span><br><span class="line">index           <span class="comment">// =&gt; 1: not incremented because ?.[] short-circuits</span></span><br><span class="line">a[index++]      <span class="comment">// !TypeError: can&#x27;t index undefined.</span></span><br></pre></td></tr></table></figure>
<p>Conditional property access with ?. and ?.[] is one of the newest features of JavaScript. As of early 2020, this new syntax is supported in the current or beta versions of most major browsers.</p>
<h2 id="4-5-Invocation-Expressions"><a href="#4-5-Invocation-Expressions" class="headerlink" title="4.5 Invocation Expressions"></a>4.5 Invocation Expressions</h2><p>An invocation expression is JavaScriptâ€™s syntax for calling (or executing) a function or method. It starts with a function expression that identifies the function to be called. The function expression is followed by an open parenthesis, a comma-separated list of zero or more argument expressions, and a close parenthesis. Some examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">f</span>(<span class="number">0</span>)            <span class="comment">// f is the function expression; 0 is the argument expression.</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">max</span>(x,y,z) <span class="comment">// Math.max is the function; x, y, and z are the arguments.</span></span><br><span class="line">a.<span class="title function_">sort</span>()        <span class="comment">// a.sort is the function; there are no arguments.</span></span><br></pre></td></tr></table></figure>
<p>When an invocation expression is evaluated, the function expression is evaluated first, and then the argument expressions are evaluated to produce a list of argument values. If the value of the function expression is not a function, a TypeError is thrown. Next, the argument values are assigned, in order, to the parameter names specified when the function was defined, and then the body of the function is executed. If the function uses a return statement to return a value, then that value becomes the value of the invocation expression. Otherwise, the value of the invocation expression is undefined. Complete details on function invocation, including an explanation of what happens when the number of argument expressions does not match the number of parameters in the function definition, are in Chapter 8.</p>
<p>Every invocation expression includes a pair of parentheses and an expression before the open parenthesis. If that expression is a property access expression, then the invocation is known as a method invocation. In method invocations, the object or array that is the subject of the property access becomes the value of the this keyword while the body of the function is being executed. This enables an object-oriented programming paradigm in which functions (which we call â€œmethodsâ€ when used this way) operate on the object of which they are part. See Chapter 9 for details.</p>
<h3 id="4-5-1-Conditional-Invocation"><a href="#4-5-1-Conditional-Invocation" class="headerlink" title="4.5.1 Conditional Invocation"></a>4.5.1 Conditional Invocation</h3><p>In ES2020, you can also invoke a function using ?.() instead of (). Normally when you invoke a function, if the expression to the left of the parentheses is null or undefined or any other non-function, a TypeError is thrown. With the new ?.() invocation syntax, if the expression to the left of the ?. evaluates to null or undefined, then the entire invocation expression evaluates to undefined and no exception is thrown.</p>
<p>Array objects have a sort() method that can optionally be passed a function argument that defines the desired sorting order for the array elements. Before ES2020, if you wanted to write a method like sort() that takes an optional function argument, you would typically use an if statement to check that the function argument was defined before invoking it in the body of the if:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x, log</span>) &#123; <span class="comment">// The second argument is an optional function</span></span><br><span class="line">    <span class="keyword">if</span> (log) &#123;            <span class="comment">// If the optional function is passed</span></span><br><span class="line">        <span class="title function_">log</span>(x);           <span class="comment">// Invoke it</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> x * x;         <span class="comment">// Return the square of the argument</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>With this conditional invocation syntax of ES2020, however, you can simply write the function invocation using ?.(), knowing that invocation will only happen if there is actually a value to be invoked:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x, log</span>) &#123; <span class="comment">// The second argument is an optional function</span></span><br><span class="line">    log?.(x);             <span class="comment">// Call the function if there is one</span></span><br><span class="line">    <span class="keyword">return</span> x * x;         <span class="comment">// Return the square of the argument</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note, however, that ?.() only checks whether the lefthand side is null or undefined. It does not verify that the value is actually a function. So the square() function in this example would still throw an exception if you passed two numbers to it, for example.</p>
<p>Like conditional property access expressions (Â§4.4.1), function invocation with ?.() is short-circuiting: if the value to the left of ?. is null or undefined, then none of the argument expressions within the parentheses are evaluated:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="literal">null</span>, x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="title function_">f</span>(x++); <span class="comment">// Throws TypeError because f is null</span></span><br><span class="line">&#125; <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    x       <span class="comment">// =&gt; 1: x gets incremented before the exception is thrown</span></span><br><span class="line">&#125;</span><br><span class="line">f?.(x++)    <span class="comment">// =&gt; undefined: f is null, but no exception thrown</span></span><br><span class="line">x           <span class="comment">// =&gt; 1: increment is skipped because of short-circuiting</span></span><br></pre></td></tr></table></figure>
<p>Conditional invocation expressions with ?.() work just as well for methods as they do for functions. But because method invocation also involves property access, it is worth taking a moment to be sure you understand the differences between the following expressions:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">o.<span class="title function_">m</span>()     <span class="comment">// Regular property access, regular invocation</span></span><br><span class="line">o?.<span class="title function_">m</span>()    <span class="comment">// Conditional property access, regular invocation</span></span><br><span class="line">o.<span class="property">m</span>?.()   <span class="comment">// Regular property access, conditional invocation</span></span><br></pre></td></tr></table></figure>
<p>In the first expression, o must be an object with a property m and the value of that property must be a function. In the second expression, if o is null or undefined, then the expression evaluates to undefined. But if o has any other value, then it must have a property m whose value is a function. And in the third expression, o must not be null or undefined. If it does not have a property m, or if the value of that property is null, then the entire expression evaluates to undefined.</p>
<p>Conditional invocation with ?.() is one of the newest features of JavaScript. As of the first months of 2020, this new syntax is supported in the current or beta versions of most major browsers.</p>
<h2 id="4-6-Object-Creation-Expressions"><a href="#4-6-Object-Creation-Expressions" class="headerlink" title="4.6 Object Creation Expressions"></a>4.6 Object Creation Expressions</h2><p>An object creation expression creates a new object and invokes a function (called a constructor) to initialize the properties of that object. Object creation expressions are like invocation expressions except that they are prefixed with the keyword new:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span>()</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<p>If no arguments are passed to the constructor function in an object creation expression, the empty pair of parentheses can be omitted:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Object</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Date</span></span><br></pre></td></tr></table></figure>
<p>The value of an object creation expression is the newly created object. Constructors are explained in more detail in Chapter 9.</p>
<h2 id="4-7-Operator-Overview"><a href="#4-7-Operator-Overview" class="headerlink" title="4.7 Operator Overview"></a>4.7 Operator Overview</h2><p>Operators are used for JavaScriptâ€™s arithmetic expressions, comparison expressions, logical expressions, assignment expressions, and more. Table 4-1 summarizes the operators and serves as a convenient reference.</p>
<p>Note that most operators are represented by punctuation characters such as + and &#x3D;. Some, however, are represented by keywords such as delete and instanceof. Keyword operators are regular operators, just like those expressed with punctuation; they simply have a less succinct syntax.</p>
<p>Table 4-1 is organized by operator precedence. The operators listed first have higher precedence than those listed last. Operators separated by a horizontal line have different precedence levels. The column labeled A gives the operator associativity, which can be L (left-to-right) or R (right-to-left), and the column N specifies the number of operands. The column labeled Types lists the expected types of the operands and (after the â†’ symbol) the result type for the operator. The subsections that follow the table explain the concepts of precedence, associativity, and operand type. The operators themselves are individually documented following that discussion.</p>
<p>Table 4-1. JavaScript operators</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Operation</th>
<th>A</th>
<th>N</th>
<th>Types</th>
</tr>
</thead>
<tbody><tr>
<td>++</td>
<td>Pre- or post-increment</td>
<td>R</td>
<td>1</td>
<td>lvalâ†’num</td>
</tr>
<tr>
<td>â€“</td>
<td>Pre- or post-decrement</td>
<td>R</td>
<td>1</td>
<td>lvalâ†’num</td>
</tr>
<tr>
<td>-</td>
<td>Negate number</td>
<td>R</td>
<td>1</td>
<td>numâ†’num</td>
</tr>
<tr>
<td>+</td>
<td>Convert to number</td>
<td>R</td>
<td>1</td>
<td>anyâ†’num</td>
</tr>
<tr>
<td>~</td>
<td>Invert bits</td>
<td>R</td>
<td>1</td>
<td>intâ†’int</td>
</tr>
<tr>
<td>!</td>
<td>Invert boolean value</td>
<td>R</td>
<td>1</td>
<td>boolâ†’bool</td>
</tr>
<tr>
<td>delete</td>
<td>Remove a property</td>
<td>R</td>
<td>1</td>
<td>lvalâ†’bool</td>
</tr>
<tr>
<td>typeof</td>
<td>Determine type of operand</td>
<td>R</td>
<td>1</td>
<td>anyâ†’str</td>
</tr>
<tr>
<td>void</td>
<td>Return undefined value</td>
<td>R</td>
<td>1</td>
<td>anyâ†’undef</td>
</tr>
<tr>
<td><code>**</code></td>
<td>Exponentiate</td>
<td>R</td>
<td>2</td>
<td>num,numâ†’num</td>
</tr>
<tr>
<td><code>*</code>, <code>/</code>, <code>%</code></td>
<td>Multiply, divide, remainder</td>
<td>L</td>
<td>2</td>
<td>num,numâ†’num</td>
</tr>
<tr>
<td>+, -</td>
<td>Add, subtract</td>
<td>L</td>
<td>2</td>
<td>num,numâ†’num</td>
</tr>
<tr>
<td>+</td>
<td>Concatenate strings</td>
<td>L</td>
<td>2</td>
<td>str,strâ†’str</td>
</tr>
<tr>
<td>&lt;&lt;</td>
<td>Shift left</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>Shift right with sign extension</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>Shift right with zero extension</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td>&lt;, &lt;&#x3D;,&gt;, &gt;&#x3D;</td>
<td>Compare in numeric order</td>
<td>L</td>
<td>2</td>
<td>num,numâ†’bool</td>
</tr>
<tr>
<td>&lt;, &lt;&#x3D;,&gt;, &gt;&#x3D;</td>
<td>Compare in alphabetical order</td>
<td>L</td>
<td>2</td>
<td>str,strâ†’bool</td>
</tr>
<tr>
<td>instanceof</td>
<td>Test object class</td>
<td>L</td>
<td>2</td>
<td>obj,funcâ†’bool</td>
</tr>
<tr>
<td>in</td>
<td>Test whether property exists</td>
<td>L</td>
<td>2</td>
<td>any,objâ†’bool</td>
</tr>
<tr>
<td>&#x3D;&#x3D;</td>
<td>Test for non-strict equality</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’bool</td>
</tr>
<tr>
<td>!&#x3D;</td>
<td>Test for non-strict inequality</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’bool</td>
</tr>
<tr>
<td>&#x3D;&#x3D;&#x3D;</td>
<td>Test for strict equality</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’bool</td>
</tr>
<tr>
<td>!&#x3D;&#x3D;</td>
<td>Test for strict inequality</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’bool</td>
</tr>
<tr>
<td>&amp;</td>
<td>Compute bitwise AND</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td>^</td>
<td>Compute bitwise XOR</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td>|</td>
<td>Compute bitwise OR</td>
<td>L</td>
<td>2</td>
<td>int,intâ†’int</td>
</tr>
<tr>
<td>&amp;&amp;</td>
<td>Compute logical AND</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’any</td>
</tr>
<tr>
<td>||</td>
<td>Compute logical OR</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’any</td>
</tr>
<tr>
<td>??</td>
<td>Choose 1st defined operand</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’any</td>
</tr>
<tr>
<td>?:</td>
<td>Choose 2nd or 3rd operand</td>
<td>R</td>
<td>3</td>
<td>bool,any,anyâ†’any</td>
</tr>
<tr>
<td>&#x3D;</td>
<td>Assign to a variable or property</td>
<td>R</td>
<td>2</td>
<td>lval,anyâ†’any</td>
</tr>
<tr>
<td><code>**=, *=, /=, %=,</code></td>
<td>Operate and assign</td>
<td>R</td>
<td>2</td>
<td>lval,anyâ†’any</td>
</tr>
<tr>
<td><code>+=</code>, <code>-=</code>, <code>&amp;=</code>, <code>^=</code>, |&#x3D;,</td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>&lt;&lt;=, &gt;&gt;=, &gt;&gt;&gt;=</code></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>,</td>
<td>Discard 1st operand, return 2nd</td>
<td>L</td>
<td>2</td>
<td>any,anyâ†’any</td>
</tr>
</tbody></table>
<h3 id="4-7-1-Number-of-Operands"><a href="#4-7-1-Number-of-Operands" class="headerlink" title="4.7.1 Number of Operands"></a>4.7.1 Number of Operands</h3><p>Operators can be categorized based on the number of operands they expect (their arity). Most JavaScript operators, like the * multiplication operator, are binary operators that combine two expressions into a single, more complex expression. That is, they expect two operands. JavaScript also supports a number of unary operators, which convert a single expression into a single, more complex expression. The âˆ’ operator in the expression âˆ’x is a unary operator that performs the operation of negation on the operand x. Finally, JavaScript supports one ternary operator, the conditional operator ?:, which combines three expressions into a single expression.</p>
<h3 id="4-7-2-Operand-and-Result-Type"><a href="#4-7-2-Operand-and-Result-Type" class="headerlink" title="4.7.2 Operand and Result Type"></a>4.7.2 Operand and Result Type</h3><p>Some operators work on values of any type, but most expect their operands to be of a specific type, and most operators return (or evaluate to) a value of a specific type. The Types column in Table 4-1 specifies operand types (before the arrow) and result type (after the arrow) for the operators.</p>
<p>JavaScript operators usually convert the type (see Â§3.9) of their operands as needed. The multiplication operator * expects numeric operands, but the expression â€œ3â€ * â€œ5â€ is legal because JavaScript can convert the operands to numbers. The value of this expression is the number 15, not the string â€œ15â€, of course. Remember also that every JavaScript value is either â€œtruthyâ€ or â€œfalsy,â€ so operators that expect boolean operands will work with an operand of any type.</p>
<p>Some operators behave differently depending on the type of the operands used with them. Most notably, the + operator adds numeric operands but concatenates string operands. Similarly, the comparison operators such as &lt; perform comparison in numerical or alphabetical order depending on the type of the operands. The descriptions of individual operators explain their type-dependencies and specify what type conversions they perform.</p>
<p>Notice that the assignment operators and a few of the other operators listed in Table 4-1 expect an operand of type lval. lvalue is a historical term that means â€œan expression that can legally appear on the left side of an assignment expression.â€ In JavaScript, variables, properties of objects, and elements of arrays are lvalues.</p>
<h3 id="4-7-3-Operator-Side-Effects"><a href="#4-7-3-Operator-Side-Effects" class="headerlink" title="4.7.3 Operator Side Effects"></a>4.7.3 Operator Side Effects</h3><p>Evaluating a simple expression like 2 * 3 never affects the state of your program, and any future computation your program performs will be unaffected by that evaluation. Some expressions, however, have side effects, and their evaluation may affect the result of future evaluations. The assignment operators are the most obvious example: if you assign a value to a variable or property, that changes the value of any expression that uses that variable or property. The ++ and â€“ increment and decrement operators are similar, since they perform an implicit assignment. The delete operator also has side effects: deleting a property is like (but not the same as) assigning undefined to the property.</p>
<p>No other JavaScript operators have side effects, but function invocation and object creation expressions will have side effects if any of the operators used in the function or constructor body have side effects.</p>
<h3 id="4-7-4-Operator-Precedence"><a href="#4-7-4-Operator-Precedence" class="headerlink" title="4.7.4 Operator Precedence"></a>4.7.4 Operator Precedence</h3><p>The operators listed in Table 4-1 are arranged in order from high precedence to low precedence, with horizontal lines separating groups of operators at the same precedence level. Operator precedence controls the order in which operations are performed. Operators with higher precedence (nearer the top of the table) are performed before those with lower precedence (nearer to the bottom).</p>
<p>Consider the following expression:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w = x + y*z;</span><br></pre></td></tr></table></figure>
<p>The multiplication operator * has a higher precedence than the addition operator +, so the multiplication is performed before the addition. Furthermore, the assignment operator &#x3D; has the lowest precedence, so the assignment is performed after all the operations on the right side are completed.</p>
<p>Operator precedence can be overridden with the explicit use of parentheses. To force the addition in the previous example to be performed first, write:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w = (x + y)*z;</span><br></pre></td></tr></table></figure>
<p>Note that property access and invocation expressions have higher precedence than any of the operators listed in Table 4-1. Consider this expression:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// my is an object with a property named functions whose value is an</span></span><br><span class="line"><span class="comment">// array of functions. We invoke function number x, passing it argument</span></span><br><span class="line"><span class="comment">// y, and then we ask for the type of the value returned.</span></span><br><span class="line"><span class="keyword">typeof</span> my.<span class="property">functions</span>[x](y)</span><br></pre></td></tr></table></figure>
<p>Although typeof is one of the highest-priority operators, the typeof operation is performed on the result of the property access, array index, and function invocation, all of which have higher priority than operators.</p>
<p>In practice, if you are at all unsure about the precedence of your operators, the simplest thing to do is to use parentheses to make the evaluation order explicit. The rules that are important to know are these: multiplication and division are performed before addition and subtraction, and assignment has very low precedence and is almost always performed last.</p>
<p>When new operators are added to JavaScript, they do not always fit naturally into this precedence scheme. The ?? operator (Â§4.13.2) is shown in the table as lower-precedence than || and &amp;&amp;, but, in fact, its precedence relative to those operators is not defined, and ES2020 requires you to explicitly use parentheses if you mix ?? with either || or &amp;&amp;. Similarly, the new ** exponentiation operator does not have a well-defined precedence relative to the unary negation operator, and you must use parentheses when combining negation with exponentiation.</p>
<h3 id="4-7-5-Operator-Associativity"><a href="#4-7-5-Operator-Associativity" class="headerlink" title="4.7.5 Operator Associativity"></a>4.7.5 Operator Associativity</h3><p>In Table 4-1, the column labeled A specifies the associativity of the operator. A value of L specifies left-to-right associativity, and a value of R specifies right-to-left associativity. The associativity of an operator specifies the order in which operations of the same precedence are performed. Left-to-right associativity means that operations are performed from left to right. For example, the subtraction operator has left-to-right associativity, so:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w = x - y - z;</span><br></pre></td></tr></table></figure>
<p>is the same as:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w = ((x - y) - z);</span><br></pre></td></tr></table></figure>
<p>On the other hand, the following expressions:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y = a ** b ** c;</span><br><span class="line">x = ~-y;</span><br><span class="line">w = x = y = z;</span><br><span class="line">q = a?<span class="attr">b</span>:c?<span class="attr">d</span>:e?<span class="attr">f</span>:g;</span><br></pre></td></tr></table></figure>
<p>are equivalent to:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">y = (a ** (b ** c));</span><br><span class="line">x = ~(-y);</span><br><span class="line">w = (x = (y = z));</span><br><span class="line">q = a?<span class="attr">b</span>:(c?<span class="attr">d</span>:(e?<span class="attr">f</span>:g));</span><br></pre></td></tr></table></figure>
<p>because the exponentiation, unary, assignment, and ternary conditional operators have right-to-left associativity.</p>
<h3 id="4-7-6-Order-of-Evaluation"><a href="#4-7-6-Order-of-Evaluation" class="headerlink" title="4.7.6 Order of Evaluation"></a>4.7.6 Order of Evaluation</h3><p>Operator precedence and associativity specify the order in which operations are performed in a complex expression, but they do not specify the order in which the subexpressions are evaluated. JavaScript always evaluates expressions in strictly left-to-right order. In the expression w &#x3D; x + y * z, for example, the subexpression w is evaluated first, followed by x, y, and z. Then the values of y and z are multiplied, added to the value of x, and assigned to the variable or property specified by expression w. Adding parentheses to the expressions can change the relative order of the multiplication, addition, and assignment, but not the left-to-right order of evaluation.</p>
<p>Order of evaluation only makes a difference if any of the expressions being evaluated has side effects that affect the value of another expression. If expression x increments a variable that is used by expression z, then the fact that x is evaluated before z is important.</p>
<h2 id="4-8-Arithmetic-Expressions"><a href="#4-8-Arithmetic-Expressions" class="headerlink" title="4.8 Arithmetic Expressions"></a>4.8 Arithmetic Expressions</h2><p>This section covers the operators that perform arithmetic or other numerical manipulations on their operands. The exponentiation, multiplication, division, and subtraction operators are straightforward and are covered first. The addition operator gets a subsection of its own because it can also perform string concatenation and has some unusual type conversion rules. The unary operators and the bitwise operators are also covered in subsections of their own.</p>
<p>Most of these arithmetic operators (except as noted as follows) can be used with BigInt (see Â§3.2.5) operands or with regular numbers, as long as you donâ€™t mix the two types.</p>
<p>The basic arithmetic operators are <code>**</code> (exponentiation), * (multiplication), &#x2F; (division), % (modulo: remainder after division), + (addition), and - (subtraction). As noted, weâ€™ll discuss the + operator in a section of its own. The other five basic operators simply evaluate their operands, convert the values to numbers if necessary, and then compute the power, product, quotient, remainder, or difference. Non-numeric operands that cannot convert to numbers convert to the NaN value. If either operand is (or converts to) NaN, the result of the operation is (almost always) NaN.</p>
<p>The <code>**</code> operator has higher precedence than *, &#x2F;, and % (which in turn have higher precedence than + and -). Unlike the other operators, <code>**</code> works right-to-left, so 2<code>**</code>2<code>**</code>3 is the same as 2<code>**</code>8, not 4<code>**</code>3. There is a natural ambiguity to expressions like -3<code>**</code>2. Depending on the relative precedence of unary minus and exponentiation, that expression could mean (-3)<code>**</code>2 or -(3<code>**</code>2). Different languages handle this differently, and rather than pick sides, JavaScript simply makes it a syntax error to omit parentheses in this case, forcing you to write an unambiguous expression. <code>**</code> is JavaScriptâ€™s newest arithmetic operator: it was added to the language with ES2016. The Math.pow() function has been available since the earliest versions of JavaScript, however, and it performs exactly the same operation as the <code>**</code> operator.</p>
<p>The &#x2F; operator divides its first operand by its second. If you are used to programming languages that distinguish between integer and floating-point numbers, you might expect to get an integer result when you divide one integer by another. In JavaScript, however, all numbers are floating-point, so all division operations have floating-point results: 5&#x2F;2 evaluates to 2.5, not 2. Division by zero yields positive or negative infinity, while 0&#x2F;0 evaluates to NaN: neither of these cases raises an error.</p>
<p>The % operator computes the first operand modulo the second operand. In other words, it returns the remainder after whole-number division of the first operand by the second operand. The sign of the result is the same as the sign of the first operand. For example, 5 % 2 evaluates to 1, and -5 % 2 evaluates to -1.</p>
<p>While the modulo operator is typically used with integer operands, it also works for floating-point values. For example, 6.5 % 2.1 evaluates to 0.2.</p>
<h3 id="4-8-1-The-Operator"><a href="#4-8-1-The-Operator" class="headerlink" title="4.8.1 The + Operator"></a>4.8.1 The + Operator</h3><p>The binary + operator adds numeric operands or concatenates string operands:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>                        <span class="comment">// =&gt; 3</span></span><br><span class="line"><span class="string">&quot;hello&quot;</span> + <span class="string">&quot; &quot;</span> + <span class="string">&quot;there&quot;</span>      <span class="comment">// =&gt; &quot;hello there&quot;</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="string">&quot;2&quot;</span>                    <span class="comment">// =&gt; &quot;12&quot;</span></span><br></pre></td></tr></table></figure>
<p>When the values of both operands are numbers, or are both strings, then it is obvious what the + operator does. In any other case, however, type conversion is necessary, and the operation to be performed depends on the conversion performed. The conversion rules for + give priority to string concatenation: if either of the operands is a string or an object that converts to a string, the other operand is converted to a string and concatenation is performed. Addition is performed only if neither operand is string-like.</p>
<p>Technically, the + operator behaves like this:</p>
<ul>
<li>If either of its operand values is an object, it converts it to a primitive using the object-to-primitive algorithm described in Â§3.9.3. Date objects are converted by their toString() method, and all other objects are converted via valueOf(), if that method returns a primitive value. However, most objects do not have a useful valueOf() method, so they are converted via toString() as well.</li>
<li>After object-to-primitive conversion, if either operand is a string, the other is converted to a string and concatenation is performed.</li>
<li>Otherwise, both operands are converted to numbers (or to NaN) and addition is performed.</li>
</ul>
<p>Here are some examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>         <span class="comment">// =&gt; 3: addition</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="string">&quot;2&quot;</span>     <span class="comment">// =&gt; &quot;12&quot;: concatenation</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="number">2</span>       <span class="comment">// =&gt; &quot;12&quot;: concatenation after number-to-string</span></span><br><span class="line"><span class="number">1</span> + &#123;&#125;        <span class="comment">// =&gt; &quot;1[object Object]&quot;: concatenation after object-to-string</span></span><br><span class="line"><span class="literal">true</span> + <span class="literal">true</span>   <span class="comment">// =&gt; 2: addition after boolean-to-number</span></span><br><span class="line"><span class="number">2</span> + <span class="literal">null</span>      <span class="comment">// =&gt; 2: addition after null converts to 0</span></span><br><span class="line"><span class="number">2</span> + <span class="literal">undefined</span> <span class="comment">// =&gt; NaN: addition after undefined converts to NaN</span></span><br></pre></td></tr></table></figure>
<p>Finally, it is important to note that when the + operator is used with strings and numbers, it may not be associative. That is, the result may depend on the order in which operations are performed.</p>
<p>For example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span> + <span class="string">&quot; blind mice&quot;</span>    <span class="comment">// =&gt; &quot;3 blind mice&quot;</span></span><br><span class="line"><span class="number">1</span> + (<span class="number">2</span> + <span class="string">&quot; blind mice&quot;</span>)  <span class="comment">// =&gt; &quot;12 blind mice&quot;</span></span><br></pre></td></tr></table></figure>
<p>The first line has no parentheses, and the + operator has left-to-right associativity, so the two numbers are added first, and their sum is concatenated with the string. In the second line, parentheses alter this order of operations: the number 2 is concatenated with the string to produce a new string. Then the number 1 is concatenated with the new string to produce the final result.</p>
<h3 id="4-8-2-Unary-Arithmetic-Operators"><a href="#4-8-2-Unary-Arithmetic-Operators" class="headerlink" title="4.8.2 Unary Arithmetic Operators"></a>4.8.2 Unary Arithmetic Operators</h3><p>Unary operators modify the value of a single operand to produce a new value. In JavaScript, the unary operators all have high precedence and are all right-associative. The arithmetic unary operators described in this section (+, -, ++, and â€“) all convert their single operand to a number, if necessary. Note that the punctuation characters + and - are used as both unary and binary operators.</p>
<p>The unary arithmetic operators are the following:</p>
<p>Unary plus (+)<br>The unary plus operator converts its operand to a number (or to NaN) and returns that converted value. When used with an operand that is already a number, it doesnâ€™t do anything. This operator may not be used with BigInt values, since they cannot be converted to regular numbers.</p>
<p>Unary minus (-)<br>When - is used as a unary operator, it converts its operand to a number, if necessary, and then changes the sign of the result.</p>
<p>Increment (++)<br>The ++ operator increments (i.e., adds 1 to) its single operand, which must be an lvalue (a variable, an element of an array, or a property of an object). The operator converts its operand to a number, adds 1 to that number, and assigns the incremented value back into the variable, element, or property.</p>
<p>The return value of the ++ operator depends on its position relative to the operand. When used before the operand, where it is known as the pre-increment operator, it increments the operand and evaluates to the incremented value of that operand. When used after the operand, where it is known as the post-increment operator, it increments its operand but evaluates to the unincremented value of that operand. Consider the difference between these two lines of code:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i = <span class="number">1</span>, j = ++i;    <span class="comment">// i and j are both 2</span></span><br><span class="line"><span class="keyword">let</span> n = <span class="number">1</span>, m = n++;    <span class="comment">// n is 2, m is 1</span></span><br></pre></td></tr></table></figure>
<p>Note that the expression x++ is not always the same as x&#x3D;x+1. The ++ operator never performs string concatenation: it always converts its operand to a number and increments it. If x is the string â€œ1â€, ++x is the number 2, but x+1 is the string â€œ11â€.</p>
<p>Also note that, because of JavaScriptâ€™s automatic semicolon insertion, you cannot insert a line break between the post-increment operator and the operand that precedes it. If you do so, JavaScript will treat the operand as a complete statement by itself and insert a semicolon before it.</p>
<p>This operator, in both its pre- and post-increment forms, is most commonly used to increment a counter that controls a for loop (Â§5.4.3).</p>
<p>Decrement (â€“)<br>The â€“ operator expects an lvalue operand. It converts the value of the operand to a number, subtracts 1, and assigns the decremented value back to the operand. Like the ++ operator, the return value of â€“ depends on its position relative to the operand. When used before the operand, it decrements and returns the decremented value. When used after the operand, it decrements the operand but returns the undecremented value. When used after its operand, no line break is allowed between the operand and the operator.</p>
<h3 id="4-8-3-Bitwise-Operators"><a href="#4-8-3-Bitwise-Operators" class="headerlink" title="4.8.3 Bitwise Operators"></a>4.8.3 Bitwise Operators</h3><p>The bitwise operators perform low-level manipulation of the bits in the binary representation of numbers. Although they do not perform traditional arithmetic operations, they are categorized as arithmetic operators here because they operate on numeric operands and return a numeric value. Four of these operators perform Boolean algebra on the individual bits of the operands, behaving as if each bit in each operand were a boolean value (1&#x3D;true, 0&#x3D;false). The other three bitwise operators are used to shift bits left and right. These operators are not commonly used in JavaScript programming, and if you are not familiar with the binary representation of integers, including the twoâ€™s complement representation of negative integers, you can probably skip this section.</p>
<p>The bitwise operators expect integer operands and behave as if those values were represented as 32-bit integers rather than 64-bit floating-point values. These operators convert their operands to numbers, if necessary, and then coerce the numeric values to 32-bit integers by dropping any fractional part and any bits beyond the 32nd. The shift operators require a right-side operand between 0 and 31. After converting this operand to an unsigned 32-bit integer, they drop any bits beyond the 5th, which yields a number in the appropriate range. Surprisingly, NaN, Infinity, and -Infinity all convert to 0 when used as operands of these bitwise operators.</p>
<p>All of these bitwise operators except &gt;&gt;&gt; can be used with regular number operands or with BigInt (see Â§3.2.5) operands.</p>
<p>Bitwise AND (&amp;)<br>The &amp; operator performs a Boolean AND operation on each bit of its integer arguments. A bit is set in the result only if the corresponding bit is set in both operands. For example, 0x1234 &amp; 0x00FF evaluates to 0x0034.</p>
<p>Bitwise OR (|)<br>The | operator performs a Boolean OR operation on each bit of its integer arguments. A bit is set in the result if the corresponding bit is set in one or both of the operands. For example, 0x1234 | 0x00FF evaluates to 0x12FF.</p>
<p>Bitwise XOR (^)<br>The ^ operator performs a Boolean exclusive OR operation on each bit of its integer arguments. Exclusive OR means that either operand one is true or operand two is true, but not both. A bit is set in this operationâ€™s result if a corresponding bit is set in one (but not both) of the two operands. For example, 0xFF00 ^ 0xF0F0 evaluates to 0x0FF0.</p>
<p>Bitwise NOT (~)<br>The ~ operator is a unary operator that appears before its single integer operand. It operates by reversing all bits in the operand. Because of the way signed integers are represented in JavaScript, applying the ~ operator to a value is equivalent to changing its sign and subtracting 1. For example, ~0x0F evaluates to 0xFFFFFFF0, or âˆ’16.</p>
<p>Shift left (&lt;&lt;)<br>The &lt;&lt; operator moves all bits in its first operand to the left by the number of places specified in the second operand, which should be an integer between 0 and 31. For example, in the operation a &lt;&lt; 1, the first bit (the ones bit) of a becomes the second bit (the twos bit), the second bit of a becomes the third, etc. A zero is used for the new first bit, and the value of the 32nd bit is lost. Shifting a value left by one position is equivalent to multiplying by 2, shifting two positions is equivalent to multiplying by 4, and so on. For example, 7 &lt;&lt; 2 evaluates to 28.</p>
<p>Shift right with sign (&gt;&gt;)<br>The &gt;&gt; operator moves all bits in its first operand to the right by the number of places specified in the second operand (an integer between 0 and 31). Bits that are shifted off the right are lost. The bits filled in on the left depend on the sign bit of the original operand, in order to preserve the sign of the result. If the first operand is positive, the result has zeros placed in the high bits; if the first operand is negative, the result has ones placed in the high bits. Shifting a positive value right one place is equivalent to dividing by 2 (discarding the remainder), shifting right two places is equivalent to integer division by 4, and so on. 7 &gt;&gt; 1 evaluates to 3, for example, but note that and âˆ’7 &gt;&gt; 1 evaluates to âˆ’4.</p>
<p>Shift right with zero fill (&gt;&gt;&gt;)<br>The &gt;&gt;&gt; operator is just like the &gt;&gt; operator, except that the bits shifted in on the left are always zero, regardless of the sign of the first operand. This is useful when you want to treat signed 32-bit values as if they are unsigned integers. âˆ’1 &gt;&gt; 4 evaluates to âˆ’1, but âˆ’1 &gt;&gt;&gt; 4 evaluates to 0x0FFFFFFF, for example. This is the only one of the JavaScript bitwise operators that cannot be used with BigInt values. BigInt does not represent negative numbers by setting the high bit the way that 32-bit integers do, and this operator only makes sense for that particular twoâ€™s complement representation.</p>
<h2 id="4-9-Relational-Expressions"><a href="#4-9-Relational-Expressions" class="headerlink" title="4.9 Relational Expressions"></a>4.9 Relational Expressions</h2><p>This section describes JavaScriptâ€™s relational operators. These operators test for a relationship (such as â€œequals,â€ â€œless than,â€ or â€œproperty ofâ€) between two values and return true or false depending on whether that relationship exists. Relational expressions always evaluate to a boolean value, and that value is often used to control the flow of program execution in if, while, and for statements (see Chapter 5). The subsections that follow document the equality and inequality operators, the comparison operators, and JavaScriptâ€™s other two relational operators, in and instanceof.</p>
<h3 id="4-9-1-Equality-and-Inequality-Operators"><a href="#4-9-1-Equality-and-Inequality-Operators" class="headerlink" title="4.9.1 Equality and Inequality Operators"></a>4.9.1 Equality and Inequality Operators</h3><p>The &#x3D;&#x3D; and &#x3D;&#x3D;&#x3D; operators check whether two values are the same, using two different definitions of sameness. Both operators accept operands of any type, and both return true if their operands are the same and false if they are different. The &#x3D;&#x3D;&#x3D; operator is known as the strict equality operator (or sometimes the identity operator), and it checks whether its two operands are â€œidenticalâ€ using a strict definition of sameness. The &#x3D;&#x3D; operator is known as the equality operator; it checks whether its two operands are â€œequalâ€ using a more relaxed definition of sameness that allows type conversions.</p>
<p>The !&#x3D; and !&#x3D;&#x3D; operators test for the exact opposite of the &#x3D;&#x3D; and &#x3D;&#x3D;&#x3D; operators. The !&#x3D; inequality operator returns false if two values are equal to each other according to &#x3D;&#x3D; and returns true otherwise. The !&#x3D;&#x3D; operator returns false if two values are strictly equal to each other and returns true otherwise. As youâ€™ll see in Â§4.10, the ! operator computes the Boolean NOT operation. This makes it easy to remember that !&#x3D; and !&#x3D;&#x3D; stand for â€œnot equal toâ€ and â€œnot strictly equal to.â€</p>
<p>THE &#x3D;, &#x3D;&#x3D;, AND &#x3D;&#x3D;&#x3D; OPERATORS<br>JavaScript supports &#x3D;, &#x3D;&#x3D;, and &#x3D;&#x3D;&#x3D; operators. Be sure you understand the differences between these assignment, equality, and strict equality operators, and be careful to use the correct one when coding! Although it is tempting to read all three operators as â€œequals,â€ it may help to reduce confusion if you read â€œgetsâ€ or â€œis assignedâ€ for &#x3D;, â€œis equal toâ€ for &#x3D;&#x3D;, and â€œis strictly equal toâ€ for &#x3D;&#x3D;&#x3D;.</p>
<p>The &#x3D;&#x3D; operator is a legacy feature of JavaScript and is widely considered to be a source of bugs. You should almost always use &#x3D;&#x3D;&#x3D; instead of &#x3D;&#x3D;, and !&#x3D;&#x3D; instead of !&#x3D;.</p>
<p>As mentioned in Â§3.8, JavaScript objects are compared by reference, not by value. An object is equal to itself, but not to any other object. If two distinct objects have the same number of properties, with the same names and values, they are still not equal. Similarly, two arrays that have the same elements in the same order are not equal to each other.</p>
<p>STRICT EQUALITY<br>The strict equality operator &#x3D;&#x3D;&#x3D; evaluates its operands, then compares the two values as follows, performing no type conversion:</p>
<ul>
<li>If the two values have different types, they are not equal.</li>
<li>If both values are null or both values are undefined, they are equal.</li>
<li>If both values are the boolean value true or both are the boolean value false, they are equal.</li>
<li>If one or both values is NaN, they are not equal. (This is surprising, but the NaN value is never equal to any other value, including itself! To check whether a value x is NaN, use x !&#x3D;&#x3D; x, or the global isNaN() function.)</li>
<li>If both values are numbers and have the same value, they are equal. If one value is 0 and the other is -0, they are also equal.</li>
<li>If both values are strings and contain exactly the same 16-bit values (see the sidebar in Â§3.3) in the same positions, they are equal. If the strings differ in length or content, they are not equal. Two strings may have the same meaning and the same visual appearance, but still be encoded using different sequences of 16-bit values. JavaScript performs no Unicode normalization, and a pair of strings like this is not considered equal to the &#x3D;&#x3D;&#x3D; or &#x3D;&#x3D; operators.</li>
<li>If both values refer to the same object, array, or function, they are equal. If they refer to different objects, they are not equal, even if both objects have identical properties.</li>
</ul>
<p>EQUALITY WITH TYPE CONVERSION<br>The equality operator &#x3D;&#x3D; is like the strict equality operator, but it is less strict. If the values of the two operands are not the same type, it attempts some type conversions and tries the comparison again:</p>
<ul>
<li>If the two values have the same type, test them for strict equality as described previously. If they are strictly equal, they are equal. If they are not strictly equal, they are not equal.</li>
<li>If the two values do not have the same type, the &#x3D;&#x3D; operator may still consider them equal. It uses the following rules and type conversions to check for equality:<ul>
<li>If one value is null and the other is undefined, they are equal.</li>
<li>If one value is a number and the other is a string, convert the string to a number and try the comparison again, using the converted value.</li>
<li>If either value is true, convert it to 1 and try the comparison again. If either value is false, convert it to 0 and try the comparison again.</li>
<li>If one value is an object and the other is a number or string, convert the object to a primitive using the algorithm described in Â§3.9.3 and try the comparison again. An object is converted to a primitive value by either its toString() method or its valueOf() method. The built-in classes of core JavaScript attempt valueOf() conversion before toString() conversion, except for the Date class, which performs toString() conversion.</li>
<li>Any other combinations of values are not equal.</li>
</ul>
</li>
</ul>
<p>As an example of testing for equality, consider the comparison:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;1&quot;</span> == <span class="literal">true</span>  <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<p>This expression evaluates to true, indicating that these very different-looking values are in fact equal. The boolean value true is first converted to the number 1, and the comparison is done again. Next, the string â€œ1â€ is converted to the number 1. Since both values are now the same, the comparison returns true.</p>
<h3 id="4-9-2-Comparison-Operators"><a href="#4-9-2-Comparison-Operators" class="headerlink" title="4.9.2 Comparison Operators"></a>4.9.2 Comparison Operators</h3><p>The comparison operators test the relative order (numerical or alphabetical) of their two operands:</p>
<p>Less than (&lt;)<br>The &lt; operator evaluates to true if its first operand is less than its second operand; otherwise, it evaluates to false.</p>
<p>Greater than (&gt;)<br>The &gt; operator evaluates to true if its first operand is greater than its second operand; otherwise, it evaluates to false.</p>
<p>Less than or equal (&lt;&#x3D;)<br>The &lt;&#x3D; operator evaluates to true if its first operand is less than or equal to its second operand; otherwise, it evaluates to false.</p>
<p>Greater than or equal (&gt;&#x3D;)<br>The &gt;&#x3D; operator evaluates to true if its first operand is greater than or equal to its second operand; otherwise, it evaluates to false.</p>
<p>The operands of these comparison operators may be of any type. Comparison can be performed only on numbers and strings, however, so operands that are not numbers or strings are converted.</p>
<p>Comparison and conversion occur as follows:</p>
<ul>
<li>If either operand evaluates to an object, that object is converted to a primitive value, as described at the end of Â§3.9.3; if its valueOf() method returns a primitive value, that value is used. Otherwise, the return value of its toString() method is used.</li>
<li>If, after any required object-to-primitive conversion, both operands are strings, the two strings are compared, using alphabetical order, where â€œalphabetical orderâ€ is defined by the numerical order of the 16-bit Unicode values that make up the strings.</li>
<li>If, after object-to-primitive conversion, at least one operand is not a string, both operands are converted to numbers and compared numerically. 0 and -0 are considered equal. Infinity is larger than any number other than itself, and -Infinity is smaller than any number other than itself. If either operand is (or converts to) NaN, then the comparison operator always returns false. Although the arithmetic operators do not allow BigInt values to be mixed with regular numbers, the comparison operators do allow comparisons between numbers and BigInts.</li>
</ul>
<p>Remember that JavaScript strings are sequences of 16-bit integer values, and that string comparison is just a numerical comparison of the values in the two strings. The numerical encoding order defined by Unicode may not match the traditional collation order used in any particular language or locale. Note in particular that string comparison is case-sensitive, and all capital ASCII letters are â€œless thanâ€ all lowercase ASCII letters. This rule can cause confusing results if you do not expect it. For example, according to the &lt; operator, the string â€œZooâ€ comes before the string â€œaardvarkâ€.</p>
<p>For a more robust string-comparison algorithm, try the String.localeCompare() method, which also takes locale-specific definitions of alphabetical order into account. For case-insensitive comparisons, you can convert the strings to all lowercase or all uppercase using String.toLowerCase() or String.toUpperCase(). And, for a more general and better localized string comparison tool, use the Intl.Collator class described in Â§11.7.3.</p>
<p>Both the + operator and the comparison operators behave differently for numeric and string operands. + favors strings: it performs concatenation if either operand is a string. The comparison operators favor numbers and only perform string comparison if both operands are strings:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> + <span class="number">2</span>        <span class="comment">// =&gt; 3: addition.</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="string">&quot;2&quot;</span>    <span class="comment">// =&gt; &quot;12&quot;: concatenation.</span></span><br><span class="line"><span class="string">&quot;1&quot;</span> + <span class="number">2</span>      <span class="comment">// =&gt; &quot;12&quot;: 2 is converted to &quot;2&quot;.</span></span><br><span class="line"><span class="number">11</span> &lt; <span class="number">3</span>       <span class="comment">// =&gt; false: numeric comparison.</span></span><br><span class="line"><span class="string">&quot;11&quot;</span> &lt; <span class="string">&quot;3&quot;</span>   <span class="comment">// =&gt; true: string comparison.</span></span><br><span class="line"><span class="string">&quot;11&quot;</span> &lt; <span class="number">3</span>     <span class="comment">// =&gt; false: numeric comparison, &quot;11&quot; converted to 11.</span></span><br><span class="line"><span class="string">&quot;one&quot;</span> &lt; <span class="number">3</span>    <span class="comment">// =&gt; false: numeric comparison, &quot;one&quot; converted to NaN.</span></span><br></pre></td></tr></table></figure>
<p>Finally, note that the &lt;&#x3D; (less than or equal) and &gt;&#x3D; (greater than or equal) operators do not rely on the equality or strict equality operators for determining whether two values are â€œequal.â€ Instead, the less-than-or-equal operator is simply defined as â€œnot greater than,â€ and the greater-than-or-equal operator is defined as â€œnot less than.â€ The one exception occurs when either operand is (or converts to) NaN, in which case, all four comparison operators return false.</p>
<h3 id="4-9-3-The-in-Operator"><a href="#4-9-3-The-in-Operator" class="headerlink" title="4.9.3 The in Operator"></a>4.9.3 The in Operator</h3><p>The in operator expects a left-side operand that is a string, symbol, or value that can be converted to a string. It expects a right-side operand that is an object. It evaluates to true if the left-side value is the name of a property of the right-side object. For example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">1</span>&#125;;  <span class="comment">// Define an object</span></span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> point               <span class="comment">// =&gt; true: object has property named &quot;x&quot;</span></span><br><span class="line"><span class="string">&quot;z&quot;</span> <span class="keyword">in</span> point               <span class="comment">// =&gt; false: object has no &quot;z&quot; property.</span></span><br><span class="line"><span class="string">&quot;toString&quot;</span> <span class="keyword">in</span> point        <span class="comment">// =&gt; true: object inherits toString method</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> data = [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];        <span class="comment">// An array with elements (indices) 0, 1, and 2</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> <span class="keyword">in</span> data                <span class="comment">// =&gt; true: array has an element &quot;0&quot;</span></span><br><span class="line"><span class="number">1</span> <span class="keyword">in</span> data                  <span class="comment">// =&gt; true: numbers are converted to strings</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">in</span> data                  <span class="comment">// =&gt; false: no element 3</span></span><br></pre></td></tr></table></figure>
<h3 id="4-9-4-The-instanceof-Operator"><a href="#4-9-4-The-instanceof-Operator" class="headerlink" title="4.9.4 The instanceof Operator"></a>4.9.4 The instanceof Operator</h3><p>The instanceof operator expects a left-side operand that is an object and a right-side operand that identifies a class of objects. The operator evaluates to true if the left-side object is an instance of the right-side class and evaluates to false otherwise. Chapter 9 explains that, in JavaScript, classes of objects are defined by the constructor function that initializes them. Thus, the right-side operand of instanceof should be a function. Here are examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();  <span class="comment">// Create a new object with the Date() constructor</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Date</span>    <span class="comment">// =&gt; true: d was created with Date()</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Object</span>  <span class="comment">// =&gt; true: all objects are instances of Object</span></span><br><span class="line">d <span class="keyword">instanceof</span> <span class="title class_">Number</span>  <span class="comment">// =&gt; false: d is not a Number object</span></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];   <span class="comment">// Create an array with array literal syntax</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Array</span>   <span class="comment">// =&gt; true: a is an array</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Object</span>  <span class="comment">// =&gt; true: all arrays are objects</span></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">RegExp</span>  <span class="comment">// =&gt; false: arrays are not regular expressions</span></span><br></pre></td></tr></table></figure>
<p>Note that all objects are instances of Object. instanceof considers the â€œsuperclassesâ€ when deciding whether an object is an instance of a class. If the left-side operand of instanceof is not an object, instanceof returns false. If the righthand side is not a class of objects, it throws a TypeError.</p>
<p>In order to understand how the instanceof operator works, you must understand the â€œprototype chain.â€ This is JavaScriptâ€™s inheritance mechanism, and it is described in Â§6.3.2. To evaluate the expression o instanceof f, JavaScript evaluates f.prototype, and then looks for that value in the prototype chain of o. If it finds it, then o is an instance of f (or of a subclass of f) and the operator returns true. If f.prototype is not one of the values in the prototype chain of o, then o is not an instance of f and instanceof returns false.</p>
<h2 id="4-10-Logical-Expressions"><a href="#4-10-Logical-Expressions" class="headerlink" title="4.10 Logical Expressions"></a>4.10 Logical Expressions</h2><p>The logical operators &amp;&amp;, ||, and ! perform Boolean algebra and are often used in conjunction with the relational operators to combine two relational expressions into one more complex expression. These operators are described in the subsections that follow. In order to fully understand them, you may want to review the concept of â€œtruthyâ€ and â€œfalsyâ€ values introduced in Â§3.4.</p>
<h3 id="4-10-1-Logical-AND-amp-amp"><a href="#4-10-1-Logical-AND-amp-amp" class="headerlink" title="4.10.1 Logical AND (&amp;&amp;)"></a>4.10.1 Logical AND (&amp;&amp;)</h3><p>The &amp;&amp; operator can be understood at three different levels. At the simplest level, when used with boolean operands, &amp;&amp; performs the Boolean AND operation on the two values: it returns true if and only if both its first operand and its second operand are true. If one or both of these operands is false, it returns false.</p>
<p>&amp;&amp; is often used as a conjunction to join two relational expressions:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x === <span class="number">0</span> &amp;&amp; y === <span class="number">0</span>   <span class="comment">// true if, and only if, x and y are both 0</span></span><br></pre></td></tr></table></figure>
<p>Relational expressions always evaluate to true or false, so when used like this, the &amp;&amp; operator itself returns true or false. Relational operators have higher precedence than &amp;&amp; (and ||), so expressions like these can safely be written without parentheses.</p>
<p>But &amp;&amp; does not require that its operands be boolean values. Recall that all JavaScript values are either â€œtruthyâ€ or â€œfalsy.â€ (See Â§3.4 for details. The falsy values are false, null, undefined, 0, -0, NaN, and â€œâ€. All other values, including all objects, are truthy.) The second level at which &amp;&amp; can be understood is as a Boolean AND operator for truthy and falsy values. If both operands are truthy, the operator returns a truthy value. Otherwise, one or both operands must be falsy, and the operator returns a falsy value. In JavaScript, any expression or statement that expects a boolean value will work with a truthy or falsy value, so the fact that &amp;&amp; does not always return true or false does not cause practical problems.</p>
<p>Notice that this description says that the operator returns â€œa truthy valueâ€ or â€œa falsy valueâ€ but does not specify what that value is. For that, we need to describe &amp;&amp; at the third and final level. This operator starts by evaluating its first operand, the expression on its left. If the value on the left is falsy, the value of the entire expression must also be falsy, so &amp;&amp; simply returns the value on the left and does not even evaluate the expression on the right.</p>
<p>On the other hand, if the value on the left is truthy, then the overall value of the expression depends on the value on the righthand side. If the value on the right is truthy, then the overall value must be truthy, and if the value on the right is falsy, then the overall value must be falsy. So when the value on the left is truthy, the &amp;&amp; operator evaluates and returns the value on the right:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">let</span> p = <span class="literal">null</span>;</span><br><span class="line">o &amp;&amp; o.<span class="property">x</span>     <span class="comment">// =&gt; 1: o is truthy, so return value of o.x</span></span><br><span class="line">p &amp;&amp; p.<span class="property">x</span>     <span class="comment">// =&gt; null: p is falsy, so return it and don&#x27;t evaluate p.x</span></span><br></pre></td></tr></table></figure>
<p>It is important to understand that &amp;&amp; may or may not evaluate its right-side operand. In this code example, the variable p is set to null, and the expression p.x would, if evaluated, cause a TypeError. But the code uses &amp;&amp; in an idiomatic way so that p.x is evaluated only if p is truthyâ€”not null or undefined.</p>
<p>The behavior of &amp;&amp; is sometimes called short circuiting, and you may sometimes see code that purposely exploits this behavior to conditionally execute code. For example, the following two lines of JavaScript code have equivalent effects:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a === b) <span class="title function_">stop</span>();   <span class="comment">// Invoke stop() only if a === b</span></span><br><span class="line">(a === b) &amp;&amp; <span class="title function_">stop</span>();   <span class="comment">// This does the same thing</span></span><br></pre></td></tr></table></figure>
<p>In general, you must be careful whenever you write an expression with side effects (assignments, increments, decrements, or function invocations) on the righthand side of &amp;&amp;. Whether those side effects occur depends on the value of the lefthand side.</p>
<p>Despite the somewhat complex way that this operator actually works, it is most commonly used as a simple Boolean algebra operator that works on truthy and falsy values.</p>
<h3 id="4-10-2-Logical-OR"><a href="#4-10-2-Logical-OR" class="headerlink" title="4.10.2 Logical OR (||)"></a>4.10.2 Logical OR (||)</h3><p>The || operator performs the Boolean OR operation on its two operands. If one or both operands is truthy, it returns a truthy value. If both operands are falsy, it returns a falsy value.</p>
<p>Although the || operator is most often used simply as a Boolean OR operator, it, like the &amp;&amp; operator, has more complex behavior. It starts by evaluating its first operand, the expression on its left. If the value of this first operand is truthy, it short-circuits and returns that truthy value without ever evaluating the expression on the right. If, on the other hand, the value of the first operand is falsy, then || evaluates its second operand and returns the value of that expression.</p>
<p>As with the &amp;&amp; operator, you should avoid right-side operands that include side effects, unless you purposely want to use the fact that the right-side expression may not be evaluated.</p>
<p>An idiomatic usage of this operator is to select the first truthy value in a set of alternatives:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If maxWidth is truthy, use that. Otherwise, look for a value in</span></span><br><span class="line"><span class="comment">// the preferences object. If that is not truthy, use a hardcoded constant.</span></span><br><span class="line"><span class="keyword">let</span> max = maxWidth || preferences.<span class="property">maxWidth</span> || <span class="number">500</span>;</span><br></pre></td></tr></table></figure>
<p>Note that if 0 is a legal value for maxWidth, then this code will not work correctly, since 0 is a falsy value. See the ?? operator (Â§4.13.2) for an alternative.</p>
<p>Prior to ES6, this idiom is often used in functions to supply default values for parameters:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Copy the properties of o to p, and return p</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">copy</span>(<span class="params">o, p</span>) &#123;</span><br><span class="line">    p = p || &#123;&#125;;  <span class="comment">// If no object passed for p, use a newly created object.</span></span><br><span class="line">    <span class="comment">// function body goes here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In ES6 and later, however, this trick is no longer needed because the default parameter value could simply be written in the function definition itself: function copy(o, p&#x3D;{}) { â€¦ }.</p>
<h3 id="4-10-3-Logical-NOT"><a href="#4-10-3-Logical-NOT" class="headerlink" title="4.10.3 Logical NOT (!)"></a>4.10.3 Logical NOT (!)</h3><p>The ! operator is a unary operator; it is placed before a single operand. Its purpose is to invert the boolean value of its operand. For example, if x is truthy, !x evaluates to false. If x is falsy, then !x is true.</p>
<p>Unlike the &amp;&amp; and || operators, the ! operator converts its operand to a boolean value (using the rules described in Chapter 3) before inverting the converted value. This means that ! always returns true or false and that you can convert any value x to its equivalent boolean value by applying this operator twice: !!x (see Â§3.9.2).</p>
<p>As a unary operator, ! has high precedence and binds tightly. If you want to invert the value of an expression like p &amp;&amp; q, you need to use parentheses: !(p &amp;&amp; q). It is worth noting two laws of Boolean algebra here that we can express using JavaScript syntax:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DeMorgan&#x27;s Laws</span></span><br><span class="line">!(p &amp;&amp; q) === (!p || !q)  <span class="comment">// =&gt; true: for all values of p and q</span></span><br><span class="line">!(p || q) === (!p &amp;&amp; !q)  <span class="comment">// =&gt; true: for all values of p and q</span></span><br></pre></td></tr></table></figure>
<h2 id="4-11-Assignment-Expressions"><a href="#4-11-Assignment-Expressions" class="headerlink" title="4.11 Assignment Expressions"></a>4.11 Assignment Expressions</h2><p>JavaScript uses the &#x3D; operator to assign a value to a variable or property. For example:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span>;     <span class="comment">// Set the variable i to 0.</span></span><br><span class="line">o.<span class="property">x</span> = <span class="number">1</span>;   <span class="comment">// Set the property x of object o to 1.</span></span><br></pre></td></tr></table></figure>
<p>The &#x3D; operator expects its left-side operand to be an lvalue: a variable or object property (or array element). It expects its right-side operand to be an arbitrary value of any type. The value of an assignment expression is the value of the right-side operand. As a side effect, the &#x3D; operator assigns the value on the right to the variable or property on the left so that future references to the variable or property evaluate to the value.</p>
<p>Although assignment expressions are usually quite simple, you may sometimes see the value of an assignment expression used as part of a larger expression. For example, you can assign and test a value in the same expression with code like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(a = b) === <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>If you do this, be sure you are clear on the difference between the &#x3D; and &#x3D;&#x3D;&#x3D; operators! Note that &#x3D; has very low precedence, and parentheses are usually necessary when the value of an assignment is to be used in a larger expression.</p>
<p>The assignment operator has right-to-left associativity, which means that when multiple assignment operators appear in an expression, they are evaluated from right to left. Thus, you can write code like this to assign a single value to multiple variables:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = j = k = <span class="number">0</span>;       <span class="comment">// Initialize 3 variables to 0</span></span><br></pre></td></tr></table></figure>
<h3 id="4-11-1-Assignment-with-Operation"><a href="#4-11-1-Assignment-with-Operation" class="headerlink" title="4.11.1 Assignment with Operation"></a>4.11.1 Assignment with Operation</h3><p>Besides the normal &#x3D; assignment operator, JavaScript supports a number of other assignment operators that provide shortcuts by combining assignment with some other operation. For example, the +&#x3D; operator performs addition and assignment. The following expression:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">total += salesTax;</span><br></pre></td></tr></table></figure>
<p>is equivalent to this one:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">total = total + salesTax;</span><br></pre></td></tr></table></figure>
<p>As you might expect, the +&#x3D; operator works for numbers or strings. For numeric operands, it performs addition and assignment; for string operands, it performs concatenation and assignment.</p>
<p>Similar operators include -&#x3D;, *&#x3D;, &amp;&#x3D;, and so on. Table 4-2 lists them all.</p>
<p>Table 4-2. Assignment operators</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Example</th>
<th>Equivalent</th>
</tr>
</thead>
<tbody><tr>
<td>+&#x3D;</td>
<td>a +&#x3D; b</td>
<td>a &#x3D; a + b</td>
</tr>
<tr>
<td>-&#x3D;</td>
<td>a -&#x3D; b</td>
<td>a &#x3D; a - b</td>
</tr>
<tr>
<td><code>*=</code></td>
<td>a <code>*=</code> b</td>
<td>a &#x3D; a <code>*</code> b</td>
</tr>
<tr>
<td>&#x2F;&#x3D;</td>
<td>a &#x2F;&#x3D; b</td>
<td>a &#x3D; a &#x2F; b</td>
</tr>
<tr>
<td>%&#x3D;</td>
<td>a %&#x3D; b</td>
<td>a &#x3D; a % b</td>
</tr>
<tr>
<td><code>**=</code></td>
<td>a <code>**</code>&#x3D; b</td>
<td>a &#x3D; a <code>**</code> b</td>
</tr>
<tr>
<td>&lt;&lt;&#x3D;</td>
<td>a &lt;&lt;&#x3D; b</td>
<td>a &#x3D; a &lt;&lt; b</td>
</tr>
<tr>
<td>&gt;&gt;&#x3D;</td>
<td>a &gt;&gt;&#x3D; b</td>
<td>a &#x3D; a &gt;&gt; b</td>
</tr>
<tr>
<td>&gt;&gt;&gt;&#x3D;</td>
<td>a &gt;&gt;&gt;&#x3D; b</td>
<td>a &#x3D; a &gt;&gt;&gt; b</td>
</tr>
<tr>
<td>&amp;&#x3D;</td>
<td>a &amp;&#x3D; b</td>
<td>a &#x3D; a &amp; b</td>
</tr>
<tr>
<td>|&#x3D;</td>
<td>a |&#x3D; b</td>
<td>a &#x3D; a | b</td>
</tr>
<tr>
<td>^&#x3D;</td>
<td>a ^&#x3D; b</td>
<td>a &#x3D; a ^ b</td>
</tr>
</tbody></table>
<p>In most cases, the expression:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a op= b</span><br></pre></td></tr></table></figure>
<p>where op is an operator, is equivalent to the expression:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = a op b</span><br></pre></td></tr></table></figure>
<p>In the first line, the expression a is evaluated once. In the second, it is evaluated twice. The two cases will differ only if a includes side effects such as a function call or an increment operator. The following two assignments, for example, are not the same:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[i++] *= <span class="number">2</span>;</span><br><span class="line">data[i++] = data[i++] * <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<h2 id="4-12-Evaluation-Expressions"><a href="#4-12-Evaluation-Expressions" class="headerlink" title="4.12 Evaluation Expressions"></a>4.12 Evaluation Expressions</h2><p>Like many interpreted languages, JavaScript has the ability to interpret strings of JavaScript source code, evaluating them to produce a value. JavaScript does this with the global function eval():</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;3+2&quot;</span>)    <span class="comment">// =&gt; 5</span></span><br></pre></td></tr></table></figure>
<p>Dynamic evaluation of strings of source code is a powerful language feature that is almost never necessary in practice. If you find yourself using eval(), you should think carefully about whether you really need to use it. In particular, eval() can be a security hole, and you should never pass any string derived from user input to eval(). With a language as complicated as JavaScript, there is no way to sanitize user input to make it safe to use with eval(). Because of these security issues, some web servers use the HTTP â€œContent-Security-Policyâ€ header to disable eval() for an entire website.</p>
<p>The subsections that follow explain the basic use of eval() and explain two restricted versions of it that have less impact on the optimizer.</p>
<p>IS EVAL() A FUNCTION OR AN OPERATOR?<br>eval() is a function, but it is included in this chapter on expressions because it really should have been an operator. The earliest versions of the language defined an eval() function, and ever since then, language designers and interpreter writers have been placing restrictions on it that make it more and more operator-like. Modern JavaScript interpreters perform a lot of code analysis and optimization. Generally speaking, if a function calls eval(), the interpreter cannot optimize that function. The problem with defining eval() as a function is that it can be given other names:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="built_in">eval</span>;</span><br><span class="line"><span class="keyword">let</span> g = f;</span><br></pre></td></tr></table></figure>
<p>If this is allowed, then the interpreter canâ€™t know for sure which functions call eval(), so it cannot optimize aggressively. This issue could have been avoided if eval() was an operator (and a reserved word). Weâ€™ll learn (in Â§4.12.2 and Â§4.12.3) about restrictions placed on eval() to make it more operator-like.</p>
<h3 id="4-12-1-eval"><a href="#4-12-1-eval" class="headerlink" title="4.12.1 eval()"></a>4.12.1 eval()</h3><p>eval() expects one argument. If you pass any value other than a string, it simply returns that value. If you pass a string, it attempts to parse the string as JavaScript code, throwing a SyntaxError if it fails. If it successfully parses the string, then it evaluates the code and returns the value of the last expression or statement in the string or undefined if the last expression or statement had no value. If the evaluated string throws an exception, that exception propogates from the call to eval().</p>
<p>The key thing about eval() (when invoked like this) is that it uses the variable environment of the code that calls it. That is, it looks up the values of variables and defines new variables and functions in the same way that local code does. If a function defines a local variable x and then calls eval(â€œxâ€), it will obtain the value of the local variable. If it calls eval(â€œx&#x3D;1â€), it changes the value of the local variable. And if the function calls eval(â€œvar y &#x3D; 3;â€), it declares a new local variable y. On the other hand, if the evaluated string uses let or const, the variable or constant declared will be local to the evaluation and will not be defined in the calling environment.</p>
<p>Similarly, a function can declare a local function with code like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;function f() &#123; return x+1; &#125;&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>If you call eval() from top-level code, it operates on global variables and global functions, of course.</p>
<p>Note that the string of code you pass to eval() must make syntactic sense on its own: you cannot use it to paste code fragments into a function. It makes no sense to write eval(â€œreturn;â€), for example, because return is only legal within functions, and the fact that the evaluated string uses the same variable environment as the calling function does not make it part of that function. If your string would make sense as a standalone script (even a very short one like x&#x3D;0 ), it is legal to pass to eval(). Otherwise, eval() will throw a SyntaxError.</p>
<h3 id="4-12-2-Global-eval"><a href="#4-12-2-Global-eval" class="headerlink" title="4.12.2 Global eval()"></a>4.12.2 Global eval()</h3><p>It is the ability of eval() to change local variables that is so problematic to JavaScript optimizers. As a workaround, however, interpreters simply do less optimization on any function that calls eval(). But what should a JavaScript interpreter do, however, if a script defines an alias for eval() and then calls that function by another name? The JavaScript specification declares that when eval() is invoked by any name other than â€œevalâ€, it should evaluate the string as if it were top-level global code. The evaluated code may define new global variables or global functions, and it may set global variables, but it will not use or modify any variables local to the calling function, and will not, therefore, interfere with local optimizations.</p>
<p>A â€œdirect evalâ€ is a call to the eval() function with an expression that uses the exact, unqualified name â€œevalâ€ (which is beginning to feel like a reserved word). Direct calls to eval() use the variable environment of the calling context. Any other callâ€”an indirect callâ€”uses the global object as its variable environment and cannot read, write, or define local variables or functions. (Both direct and indirect calls can define new variables only with var. Uses of let and const inside an evaluated string create variables and constants that are local to the evaluation and do not alter the calling or global environment.)</p>
<p>The following code demonstrates:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> geval = <span class="built_in">eval</span>;               <span class="comment">// Using another name does a global eval</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="string">&quot;global&quot;</span>, y = <span class="string">&quot;global&quot;</span>;   <span class="comment">// Two global variables</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;                    <span class="comment">// This function does a local eval</span></span><br><span class="line">    <span class="keyword">let</span> x = <span class="string">&quot;local&quot;</span>;              <span class="comment">// Define a local variable</span></span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&quot;x += &#x27;changed&#x27;;&quot;</span>);      <span class="comment">// Direct eval sets local variable</span></span><br><span class="line">    <span class="keyword">return</span> x;                     <span class="comment">// Return changed local variable</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">g</span>(<span class="params"></span>) &#123;                    <span class="comment">// This function does a global eval</span></span><br><span class="line">    <span class="keyword">let</span> y = <span class="string">&quot;local&quot;</span>;              <span class="comment">// A local variable</span></span><br><span class="line">    <span class="title function_">geval</span>(<span class="string">&quot;y += &#x27;changed&#x27;;&quot;</span>);     <span class="comment">// Indirect eval sets global variable</span></span><br><span class="line">    <span class="keyword">return</span> y;                     <span class="comment">// Return unchanged local variable</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">f</span>(), x); <span class="comment">// Local variable changed: prints &quot;localchanged global&quot;:</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">g</span>(), y); <span class="comment">// Global variable changed: prints &quot;local globalchanged&quot;:</span></span><br></pre></td></tr></table></figure>
<p>Notice that the ability to do a global eval is not just an accommodation to the needs of the optimizer; it is actually a tremendously useful feature that allows you to execute strings of code as if they were independent, top-level scripts. As noted at the beginning of this section, it is rare to truly need to evaluate a string of code. But if you do find it necessary, you are more likely to want to do a global eval than a local eval.</p>
<h3 id="4-12-3-Strict-eval"><a href="#4-12-3-Strict-eval" class="headerlink" title="4.12.3 Strict eval()"></a>4.12.3 Strict eval()</h3><p>Strict mode (see Â§5.6.3) imposes further restrictions on the behavior of the eval() function and even on the use of the identifier â€œevalâ€. When eval() is called from strict-mode code, or when the string of code to be evaluated itself begins with a â€œuse strictâ€ directive, then eval() does a local eval with a private variable environment. This means that in strict mode, evaluated code can query and set local variables, but it cannot define new variables or functions in the local scope.</p>
<p>Furthermore, strict mode makes eval() even more operator-like by effectively making â€œevalâ€ into a reserved word. You are not allowed to overwrite the eval() function with a new value. And you are not allowed to declare a variable, function, function parameter, or catch block parameter with the name â€œevalâ€.</p>
<h2 id="4-13-Miscellaneous-Operators"><a href="#4-13-Miscellaneous-Operators" class="headerlink" title="4.13 Miscellaneous Operators"></a>4.13 Miscellaneous Operators</h2><p>JavaScript supports a number of other miscellaneous operators, described in the following sections.</p>
<h3 id="4-13-1-The-Conditional-Operator"><a href="#4-13-1-The-Conditional-Operator" class="headerlink" title="4.13.1 The Conditional Operator (?:)"></a>4.13.1 The Conditional Operator (?:)</h3><p>The conditional operator is the only ternary operator (three operands) in JavaScript and is sometimes actually called the ternary operator. This operator is sometimes written ?:, although it does not appear quite that way in code. Because this operator has three operands, the first goes before the ?, the second goes between the ? and the :, and the third goes after the :. It is used like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">x &gt; <span class="number">0</span> ? x : -x     <span class="comment">// The absolute value of x</span></span><br></pre></td></tr></table></figure>
<p>The operands of the conditional operator may be of any type. The first operand is evaluated and interpreted as a boolean. If the value of the first operand is truthy, then the second operand is evaluated, and its value is returned. Otherwise, if the first operand is falsy, then the third operand is evaluated and its value is returned. Only one of the second and third operands is evaluated; never both.</p>
<p>While you can achieve similar results using the if statement (Â§5.3.1), the ?: operator often provides a handy shortcut. Here is a typical usage, which checks to be sure that a variable is defined (and has a meaningful, truthy value) and uses it if so or provides a default value if not:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greeting = <span class="string">&quot;hello &quot;</span> + (username ? username : <span class="string">&quot;there&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>This is equivalent to, but more compact than, the following if statement:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">greeting = <span class="string">&quot;hello &quot;</span>;</span><br><span class="line"><span class="keyword">if</span> (username) &#123;</span><br><span class="line">    greeting += username;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    greeting += <span class="string">&quot;there&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-13-2-First-Defined"><a href="#4-13-2-First-Defined" class="headerlink" title="4.13.2 First-Defined (??)"></a>4.13.2 First-Defined (??)</h3><p>The first-defined operator ?? evaluates to its first defined operand: if its left operand is not null and not undefined, it returns that value. Otherwise, it returns the value of the right operand. Like the &amp;&amp; and || operators, ?? is short-circuiting: it only evaluates its second operand if the first operand evaluates to null or undefined. If the expression a has no side effects, then the expression a ?? b is equivalent to:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(a !== <span class="literal">null</span> &amp;&amp; a !== <span class="literal">undefined</span>) ? a : b</span><br></pre></td></tr></table></figure>
<p>?? is a useful alternative to || (Â§4.10.2) when you want to select the first defined operand rather than the first truthy operand. Although || is nominally a logical OR operator, it is also used idiomatically to select the first non-falsy operand with code like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If maxWidth is truthy, use that. Otherwise, look for a value in</span></span><br><span class="line"><span class="comment">// the preferences object. If that is not truthy, use a hardcoded constant.</span></span><br><span class="line"><span class="keyword">let</span> max = maxWidth || preferences.<span class="property">maxWidth</span> || <span class="number">500</span>;</span><br></pre></td></tr></table></figure>
<p>The problem with this idiomatic use is that zero, the empty string, and false are all falsy values that may be perfectly valid in some circumstances. In this code example, if maxWidth is zero, that value will be ignored. But if we change the || operator to ??, we end up with an expression where zero is a valid value:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If maxWidth is defined, use that. Otherwise, look for a value in</span></span><br><span class="line"><span class="comment">// the preferences object. If that is not defined, use a hardcoded constant.</span></span><br><span class="line"><span class="keyword">let</span> max = maxWidth ?? preferences.<span class="property">maxWidth</span> ?? <span class="number">500</span>;</span><br></pre></td></tr></table></figure>
<p>Here are more examples showing how ?? works when the first operand is falsy. If that operand is falsy but defined, then ?? returns it. It is only when the first operand is â€œnullishâ€ (i.e., null or undefined) that this operator evaluates and returns the second operand:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> options = &#123; <span class="attr">timeout</span>: <span class="number">0</span>, <span class="attr">title</span>: <span class="string">&quot;&quot;</span>, <span class="attr">verbose</span>: <span class="literal">false</span>, <span class="attr">n</span>: <span class="literal">null</span> &#125;;</span><br><span class="line">options.<span class="property">timeout</span> ?? <span class="number">1000</span>     <span class="comment">// =&gt; 0: as defined in the object</span></span><br><span class="line">options.<span class="property">title</span> ?? <span class="string">&quot;Untitled&quot;</span> <span class="comment">// =&gt; &quot;&quot;: as defined in the object</span></span><br><span class="line">options.<span class="property">verbose</span> ?? <span class="literal">true</span>     <span class="comment">// =&gt; false: as defined in the object</span></span><br><span class="line">options.<span class="property">quiet</span> ?? <span class="literal">false</span>      <span class="comment">// =&gt; false: property is not defined</span></span><br><span class="line">options.<span class="property">n</span> ?? <span class="number">10</span>             <span class="comment">// =&gt; 10: property is null</span></span><br></pre></td></tr></table></figure>
<p>Note that the timeout, title, and verbose expressions here would have different values if we used || instead of ??.</p>
<p>The ?? operator is similar to the &amp;&amp; and || operators but does not have higher precedence or lower precedence than they do. If you use it in an expression with either of those operators, you must use explicit parentheses to specify which operation you want to perform first:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(a ?? b) || c   <span class="comment">// ?? first, then ||</span></span><br><span class="line">a ?? (b || c)   <span class="comment">// || first, then ??</span></span><br><span class="line">a ?? b || c     <span class="comment">// SyntaxError: parentheses are required</span></span><br></pre></td></tr></table></figure>
<p>The ?? operator is defined by ES2020, and as of early 2020, is newly supported by current or beta versions of all major browsers. This operator is formally called the â€œnullish coalescingâ€ operator, but I avoid that term because this operator selects one of its operands but does not â€œcoalesceâ€ them in any way that I can see.</p>
<h3 id="4-13-3-The-typeof-Operator"><a href="#4-13-3-The-typeof-Operator" class="headerlink" title="4.13.3 The typeof Operator"></a>4.13.3 The typeof Operator</h3><p>typeof is a unary operator that is placed before its single operand, which can be of any type. Its value is a string that specifies the type of the operand. Table 4-3 specifies the value of the typeof operator for any JavaScript value.</p>
<p>Table 4-3. Values returned by the typeof operator</p>
<table>
<thead>
<tr>
<th>x</th>
<th>typeof x</th>
</tr>
</thead>
<tbody><tr>
<td>undefined</td>
<td>â€œundefinedâ€</td>
</tr>
<tr>
<td>null</td>
<td>â€œobjectâ€</td>
</tr>
<tr>
<td>true or false</td>
<td>â€œbooleanâ€</td>
</tr>
<tr>
<td>any number or NaN</td>
<td>â€œnumberâ€</td>
</tr>
<tr>
<td>any BigInt</td>
<td>â€œbigintâ€</td>
</tr>
<tr>
<td>any string</td>
<td>â€œstringâ€</td>
</tr>
<tr>
<td>any symbol</td>
<td>â€œsymbolâ€</td>
</tr>
<tr>
<td>any function</td>
<td>â€œfunctionâ€</td>
</tr>
<tr>
<td>any nonfunction object</td>
<td>â€œobjectâ€</td>
</tr>
</tbody></table>
<p>You might use the typeof operator in an expression like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// If the value is a string, wrap it in quotes, otherwise, convert</span></span><br><span class="line">(<span class="keyword">typeof</span> value === <span class="string">&quot;string&quot;</span>) ? <span class="string">&quot;&#x27;&quot;</span> + value + <span class="string">&quot;&#x27;&quot;</span> : value.<span class="title function_">toString</span>()</span><br></pre></td></tr></table></figure>
<p>Note that typeof returns â€œobjectâ€ if the operand value is null. If you want to distinguish null from objects, youâ€™ll have to explicitly test for this special-case value.</p>
<p>Although JavaScript functions are a kind of object, the typeof operator considers functions to be sufficiently different that they have their own return value.</p>
<p>Because typeof evaluates to â€œobjectâ€ for all object and array values other than functions, it is useful only to distinguish objects from other, primitive types. In order to distinguish one class of object from another, you must use other techniques, such as the instanceof operator (see Â§4.9.4), the class attribute (see Â§14.4.3), or the constructor property (see Â§9.2.2 and Â§14.3).</p>
<h3 id="4-13-4-The-delete-Operator"><a href="#4-13-4-The-delete-Operator" class="headerlink" title="4.13.4 The delete Operator"></a>4.13.4 The delete Operator</h3><p>delete is a unary operator that attempts to delete the object property or array element specified as its operand. Like the assignment, increment, and decrement operators, delete is typically used for its property deletion side effect and not for the value it returns. Some examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;; <span class="comment">// Start with an object</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>;            <span class="comment">// Delete one of its properties</span></span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o               <span class="comment">// =&gt; false: the property does not exist anymore</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];       <span class="comment">// Start with an array</span></span><br><span class="line"><span class="keyword">delete</span> a[<span class="number">2</span>];           <span class="comment">// Delete the last element of the array</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">in</span> a                 <span class="comment">// =&gt; false: array element 2 doesn&#x27;t exist anymore</span></span><br><span class="line">a.<span class="property">length</span>               <span class="comment">// =&gt; 3: note that array length doesn&#x27;t change, though</span></span><br></pre></td></tr></table></figure>
<p>Note that a deleted property or array element is not merely set to the undefined value. When a property is deleted, the property ceases to exist. Attempting to read a nonexistent property returns undefined, but you can test for the actual existence of a property with the in operator (Â§4.9.3). Deleting an array element leaves a â€œholeâ€ in the array and does not change the arrayâ€™s length. The resulting array is sparse (Â§7.3).</p>
<p>delete expects its operand to be an lvalue. If it is not an lvalue, the operator takes no action and returns true. Otherwise, delete attempts to delete the specified lvalue. delete returns true if it successfully deletes the specified lvalue. Not all properties can be deleted, however: non-configurable properties (Â§14.1) are immune from deletion.</p>
<p>In strict mode, delete raises a SyntaxError if its operand is an unqualified identifier such as a variable, function, or function parameter: it only works when the operand is a property access expression (Â§4.4). Strict mode also specifies that delete raises a TypeError if asked to delete any non-configurable (i.e., nondeleteable) property. Outside of strict mode, no exception occurs in these cases, and delete simply returns false to indicate that the operand could not be deleted.</p>
<p>Here are some example uses of the delete operator:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>;   <span class="comment">// Delete one of the object properties; returns true.</span></span><br><span class="line"><span class="keyword">typeof</span> o.<span class="property">x</span>;   <span class="comment">// Property does not exist; returns &quot;undefined&quot;.</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>;   <span class="comment">// Delete a nonexistent property; returns true.</span></span><br><span class="line"><span class="keyword">delete</span> <span class="number">1</span>;     <span class="comment">// This makes no sense, but it just returns true.</span></span><br><span class="line"><span class="comment">// Can&#x27;t delete a variable; returns false, or SyntaxError in strict mode.</span></span><br><span class="line"><span class="keyword">delete</span> o;</span><br><span class="line"><span class="comment">// Undeletable property: returns false, or TypeError in strict mode.</span></span><br><span class="line"><span class="keyword">delete</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br></pre></td></tr></table></figure>
<p>Weâ€™ll see the delete operator again in Â§6.4.</p>
<h3 id="4-13-5-The-await-Operator"><a href="#4-13-5-The-await-Operator" class="headerlink" title="4.13.5 The await Operator"></a>4.13.5 The await Operator</h3><p>await was introduced in ES2017 as a way to make asynchronous programming more natural in JavaScript. You will need to read Chapter 13 to understand this operator. Briefly, however, await expects a Promise object (representing an asynchronous computation) as its sole operand, and it makes your program behave as if it were waiting for the asynchronous computation to complete (but it does this without actually blocking, and it does not prevent other asynchronous operations from proceeding at the same time). The value of the await operator is the fulfillment value of the Promise object. Importantly, await is only legal within functions that have been declared asynchronous with the async keyword. Again, see Chapter 13 for full details.</p>
<h3 id="4-13-6-The-void-Operator"><a href="#4-13-6-The-void-Operator" class="headerlink" title="4.13.6 The void Operator"></a>4.13.6 The void Operator</h3><p>void is a unary operator that appears before its single operand, which may be of any type. This operator is unusual and infrequently used; it evaluates its operand, then discards the value and returns undefined. Since the operand value is discarded, using the void operator makes sense only if the operand has side effects.</p>
<p>The void operator is so obscure that it is difficult to come up with a practical example of its use. One case would be when you want to define a function that returns nothing but also uses the arrow function shortcut syntax (see Â§8.1.3) where the body of the function is a single expression that is evaluated and returned. If you are evaluating the expression solely for its side effects and do not want to return its value, then the simplest thing is to use curly braces around the function body. But, as an alternative, you could also use the void operator in this case:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> counter = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">increment</span> = (<span class="params"></span>) =&gt; <span class="keyword">void</span> counter++;</span><br><span class="line"><span class="title function_">increment</span>()   <span class="comment">// =&gt; undefined</span></span><br><span class="line">counter       <span class="comment">// =&gt; 1</span></span><br></pre></td></tr></table></figure>
<h3 id="4-13-7-The-comma-Operator"><a href="#4-13-7-The-comma-Operator" class="headerlink" title="4.13.7 The comma Operator (,)"></a>4.13.7 The comma Operator (,)</h3><p>The comma operator is a binary operator whose operands may be of any type. It evaluates its left operand, evaluates its right operand, and then returns the value of the right operand. Thus, the following line:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i=<span class="number">0</span>, j=<span class="number">1</span>, k=<span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>evaluates to 2 and is basically equivalent to:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">i = <span class="number">0</span>; j = <span class="number">1</span>; k = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>The lefthand expression is always evaluated, but its value is discarded, which means that it only makes sense to use the comma operator when the lefthand expression has side effects. The only situation in which the comma operator is commonly used is with a for loop (Â§5.4.3) that has multiple loop variables:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The first comma below is part of the syntax of the let statement</span></span><br><span class="line"><span class="comment">// The second comma is the comma operator: it lets us squeeze 2</span></span><br><span class="line"><span class="comment">// expressions (i++ and j--) into a statement (the for loop) that expects 1.</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>,j=<span class="number">10</span>; i &lt; j; i++,j--) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i+j);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-14-Summary"><a href="#4-14-Summary" class="headerlink" title="4.14 Summary"></a>4.14 Summary</h2><p>This chapter covers a wide variety of topics, and there is lots of reference material here that you may want to reread in the future as you continue to learn JavaScript. Some key points to remember, however, are these:</p>
<ul>
<li>Expressions are the phrases of a JavaScript program.</li>
<li>Any expression can be evaluated to a JavaScript value.</li>
<li>Expressions can also have side effects (such as variable assignment) in addition to producing a value.</li>
<li>Simple expressions such as literals, variable references, and property accesses can be combined with operators to produce larger expressions.</li>
<li>JavaScript defines operators for arithmetic, comparisons, Boolean logic, assignment, and bit manipulation, along with some miscellaneous operators, including the ternary conditional operator.</li>
<li>The JavaScript + operator is used to both add numbers and concatenate strings.</li>
<li>The logical operators &amp;&amp; and || have special â€œshort-circuitingâ€ behavior and sometimes only evaluate one of their arguments. Common JavaScript idioms require you to understand the special behavior of these operators.</li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">Jack hou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/">åŸåˆ›</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/')">ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="èµèµä½œè€…"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>æ‰“èµä½œè€…</div><div class="reward-main"><div class="reward-all"><span class="reward-title">æ„Ÿè°¢ä½ èµäºˆæˆ‘å‰è¿›çš„åŠ›é‡</span><ul class="reward-group"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">èµèµè€…åå•</div><div class="reward-dec">å› ä¸ºä½ ä»¬çš„æ”¯æŒè®©æˆ‘æ„è¯†åˆ°å†™æ–‡ç« çš„ä»·å€¼ğŸ™</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/"><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>è¿è¥æ¨¡å¼ä¸è´£ä»»</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=ç¬¬4ç«  è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦&amp;url=http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/&amp;pic=https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://www.houyanbin.com" target="_blank">Jackhou Blog</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹<span class="tagsPageCount">17</span></a><a class="post-meta__box__tags" href="/tags/JavaScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JavaScript<span class="tagsPageCount">17</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ç¬¬5ç«  è¯­å¥</div></div></a></div><div class="next-post pull-right"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch3/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover3.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ç¬¬3ç«  ç±»å‹ã€å€¼å’Œå˜é‡</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>å–œæ¬¢è¿™ç¯‡æ–‡ç« çš„äººä¹Ÿçœ‹äº†</span></div><div class="relatedPosts-list"><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch1/" title="ç¬¬1ç«  JavaScript æ¦‚è¿°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬1ç«  JavaScript æ¦‚è¿°</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch12/" title="ç¬¬12ç«  è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬12ç«  è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch10/" title="ç¬¬10ç«  æ¨¡å—"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬10ç«  æ¨¡å—</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch11/" title="ç¬¬11ç«  JavaScript æ ‡å‡†åº“"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬11ç«  JavaScript æ ‡å‡†åº“</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch14/" title="ç¬¬14ç«  å…ƒç¼–ç¨‹"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬14ç«  å…ƒç¼–ç¨‹</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch17/" title="ç¬¬17ç«  JavaScript å·¥å…·å’Œæ‰©å±•"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬17ç«  JavaScript å·¥å…·å’Œæ‰©å±•</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> è¯„è®º</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">åŒ¿åè¯„è®º</a><a href="/privacy" style="margin-left: 4px">éšç§æ”¿ç­–</a></div><div class="comment-tips" id="comment-tips"><span>âœ… ä½ æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¯„è®ºä»¥è·å–æœ€ä½³å±•ç¤ºæ•ˆæœ</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">Hiï¼Œè¿™æ˜¯æˆ‘çš„åšå®¢ç½‘ç«™ï¼Œæ¬¢è¿ä½ èƒ½åˆ°è®¿~</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">æˆ‘ä¼šåœ¨è¿™é‡Œåˆ†äº«æˆ‘çš„<b style="color:#fff">æŠ€æœ¯çŸ¥è¯†</b>ã€<b style="color:#fff">æ—¥å¸¸ç”Ÿæ´»</b>å’Œ<b style="color:#fff">äººç”Ÿç»éªŒã€‚</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Jack hou</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/YingxueSec" target="_blank" title="Github"><i class="fab fa-github faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/478589474" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=jackhou921@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wxgzh1.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Primary-Expressions"><span class="toc-text">4.1 Primary Expressions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Object-and-Array-Initializers"><span class="toc-text">4.2 Object and Array Initializers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Function-Definition-Expressions"><span class="toc-text">4.3 Function Definition Expressions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-Property-Access-Expressions"><span class="toc-text">4.4 Property Access Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-1-Conditional-Property-Access"><span class="toc-text">4.4.1 Conditional Property Access</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-Invocation-Expressions"><span class="toc-text">4.5 Invocation Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-Conditional-Invocation"><span class="toc-text">4.5.1 Conditional Invocation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-Object-Creation-Expressions"><span class="toc-text">4.6 Object Creation Expressions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-Operator-Overview"><span class="toc-text">4.7 Operator Overview</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-1-Number-of-Operands"><span class="toc-text">4.7.1 Number of Operands</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-2-Operand-and-Result-Type"><span class="toc-text">4.7.2 Operand and Result Type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-3-Operator-Side-Effects"><span class="toc-text">4.7.3 Operator Side Effects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-4-Operator-Precedence"><span class="toc-text">4.7.4 Operator Precedence</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-5-Operator-Associativity"><span class="toc-text">4.7.5 Operator Associativity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-7-6-Order-of-Evaluation"><span class="toc-text">4.7.6 Order of Evaluation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-8-Arithmetic-Expressions"><span class="toc-text">4.8 Arithmetic Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-1-The-Operator"><span class="toc-text">4.8.1 The + Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-2-Unary-Arithmetic-Operators"><span class="toc-text">4.8.2 Unary Arithmetic Operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-8-3-Bitwise-Operators"><span class="toc-text">4.8.3 Bitwise Operators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-9-Relational-Expressions"><span class="toc-text">4.9 Relational Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-1-Equality-and-Inequality-Operators"><span class="toc-text">4.9.1 Equality and Inequality Operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-2-Comparison-Operators"><span class="toc-text">4.9.2 Comparison Operators</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-3-The-in-Operator"><span class="toc-text">4.9.3 The in Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-9-4-The-instanceof-Operator"><span class="toc-text">4.9.4 The instanceof Operator</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-10-Logical-Expressions"><span class="toc-text">4.10 Logical Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-1-Logical-AND-amp-amp"><span class="toc-text">4.10.1 Logical AND (&amp;&amp;)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-2-Logical-OR"><span class="toc-text">4.10.2 Logical OR (||)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-10-3-Logical-NOT"><span class="toc-text">4.10.3 Logical NOT (!)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-11-Assignment-Expressions"><span class="toc-text">4.11 Assignment Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-11-1-Assignment-with-Operation"><span class="toc-text">4.11.1 Assignment with Operation</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-12-Evaluation-Expressions"><span class="toc-text">4.12 Evaluation Expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-1-eval"><span class="toc-text">4.12.1 eval()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-2-Global-eval"><span class="toc-text">4.12.2 Global eval()</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-12-3-Strict-eval"><span class="toc-text">4.12.3 Strict eval()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-13-Miscellaneous-Operators"><span class="toc-text">4.13 Miscellaneous Operators</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-1-The-Conditional-Operator"><span class="toc-text">4.13.1 The Conditional Operator (?:)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-2-First-Defined"><span class="toc-text">4.13.2 First-Defined (??)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-3-The-typeof-Operator"><span class="toc-text">4.13.3 The typeof Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-4-The-delete-Operator"><span class="toc-text">4.13.4 The delete Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-5-The-await-Operator"><span class="toc-text">4.13.5 The await Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-6-The-void-Operator"><span class="toc-text">4.13.6 The void Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-13-7-The-comma-Operator"><span class="toc-text">4.13.7 The comma Operator (,)</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-14-Summary"><span class="toc-text">4.14 Summary</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ"/></a><div class="content"><a class="title" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ">åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ</a><time datetime="2023-08-14T16:00:00.000Z" title="å‘è¡¨äº 2023-08-15 00:00:00">2023-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="ä¸çˆ±å‰è¡Œ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä¸çˆ±å‰è¡Œ"/></a><div class="content"><a class="title" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="ä¸çˆ±å‰è¡Œ">ä¸çˆ±å‰è¡Œ</a><time datetime="2023-07-29T16:00:00.000Z" title="å‘è¡¨äº 2023-07-30 00:00:00">2023-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="ç§Ÿæˆ¿æ—¶å…‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç§Ÿæˆ¿æ—¶å…‰"/></a><div class="content"><a class="title" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="ç§Ÿæˆ¿æ—¶å…‰">ç§Ÿæˆ¿æ—¶å…‰</a><time datetime="2023-07-21T16:00:00.000Z" title="å‘è¡¨äº 2023-07-22 00:00:00">2023-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="æ•…å®«è®°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ•…å®«è®°"/></a><div class="content"><a class="title" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="æ•…å®«è®°">æ•…å®«è®°</a><time datetime="2023-06-10T16:00:00.000Z" title="å‘è¡¨äº 2023-06-11 00:00:00">2023-06-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="ä¿¡æ¯æ”¶é›†é“é“ä¹‹å¤–ç½‘ä¿¡æ¯æ”¶é›†"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä¿¡æ¯æ”¶é›†é“é“ä¹‹å¤–ç½‘ä¿¡æ¯æ”¶é›†"/></a><div class="content"><a class="title" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="ä¿¡æ¯æ”¶é›†é“é“ä¹‹å¤–ç½‘ä¿¡æ¯æ”¶é›†">ä¿¡æ¯æ”¶é›†é“é“ä¹‹å¤–ç½‘ä¿¡æ¯æ”¶é›†</a><time datetime="2023-05-28T16:00:00.000Z" title="å‘è¡¨äº 2023-05-29 00:00:00">2023-05-29</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg" alt="è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~" title="è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 By <a class="footer-bar-link" href="/" title="Jack hou" target="_blank">Jack hou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="ä¸»é¢˜">ä¸»é¢˜</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">58</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">11</div></a></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="æ˜¾ç¤ºæ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="åšå®¢"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="åšå®¢"/><span class="back-menu-item-text">åšå®¢</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="å®‰çŸ¥é±¼å›¾åºŠ"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="å®‰çŸ¥é±¼å›¾åºŠ"/><span class="back-menu-item-text">å®‰çŸ¥é±¼å›¾åºŠ</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> è¿½ç•ªé¡µ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 0.88rem; color: rgb(103, 168, 66);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 0.88rem; color: rgb(111, 81, 145);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem; color: rgb(159, 155, 105);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem; color: rgb(57, 31, 145);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem; color: rgb(40, 64, 157);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem; color: rgb(85, 160, 94);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 0.88rem; color: rgb(138, 133, 182);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem; color: rgb(113, 61, 3);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 0.88rem; color: rgb(134, 2, 128);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 0.88rem; color: rgb(143, 143, 166);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 0.88rem; color: rgb(89, 87, 129);">ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 0.88rem; color: rgb(152, 171, 35);">åŒ¿å<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem; color: rgb(199, 64, 100);">åšå®¢<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 0.88rem; color: rgb(196, 169, 136);">å®‰å…¨<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 0.88rem; color: rgb(116, 63, 156);">æ”¯ä»˜<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 0.88rem; color: rgb(139, 47, 168);">æ”»é˜²<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 0.88rem; color: rgb(143, 83, 88);">æ—…è¡Œ<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem; color: rgb(63, 86, 36);">è™šæ‹Ÿæœº<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 0.88rem; color: rgb(92, 190, 137);">è¶Šæƒ<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">æ’­æ”¾éŸ³ä¹</a><div id="console-music-bg"></div><meting-js id="8868465080" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random" volume="0.7"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8868465080&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("4/15/2023 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ¬¢è¿ä½¿ç”¨å®‰çŸ¥é±¼!`,
    `ç”Ÿæ´»æ˜æœ—, ä¸‡ç‰©å¯çˆ±`,
    `
        
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•
        
        `,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2023 By å®‰çŸ¥é±¼ V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `Photo captured: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c âš¡ Powered by å®‰çŸ¥é±¼ %c ä½ æ­£åœ¨è®¿é—® Jack hou çš„åšå®¢.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("4/15/2023 00:00:00"); //è®¾ç½®ç½‘ç«™ä¸Šçº¿æ—¶é—´
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // è®¡ç®—å¹¶æ›´æ–°å¤©æ•°ã€å°æ—¶æ•°ã€åˆ†é’Ÿæ•°å’Œç§’æ•°
  function updateTime() {
    now = new Date(); // æ›´æ–° now çš„å€¼
    nowHour = now.getHours(); // æ›´æ–° nowHour çš„å€¼
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // æ›´æ–°ç½‘é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™è¿è¡Œæ—¶é—´
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // å¦‚æœæ˜¯ä¸Šç­æ—¶é—´ï¼Œé»˜è®¤å°±æ˜¯"å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg"å›¾ç‰‡ï¼Œä¸éœ€è¦æ›´æ”¹
      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // å¦‚æœæ˜¯ä¸‹ç­æ—¶é—´ï¼Œæ’å…¥"å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg"å›¾ç‰‡
      let img = document.querySelector("#workboard .workSituationImg");
      if (img != null) {
        img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg";
        img.title = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";
        img.alt = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";
      }

      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.houyanbin.com/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.25/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom && ($dom.innerHTML= result)
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anzhiy.cn";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">é€šçŸ¥</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">ä½ å¥½å‘€</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>