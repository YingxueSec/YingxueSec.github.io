<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>第5章 语句 | Jackhou Blog</title><meta name="keywords" content="《JavaScript权威指南》,JavaScript"><meta name="author" content="Jack hou"><meta name="copyright" content="Jack hou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="第5章 语句"><meta name="application-name" content="第5章 语句"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="第5章 语句"><meta property="og:url" content="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/index.html"><meta property="og:site_name" content="Jackhou Blog"><meta property="og:description" content="Chapter 4 described expressions as JavaScript phrases. By that analogy, statements are JavaScript sentences or commands. Just as English sentences"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg"><meta property="article:author" content="Jack hou"><meta property="article:tag" content="Jackhou, blog"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg"><meta name="description" content="Chapter 4 described expressions as JavaScript phrases. By that analogy, statements are JavaScript sentences or commands. Just as English sentences"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: 'https://twikoo.houyanbin.com/',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":null},
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Jack hou","link":"链接: ","source":"来源: Jackhou Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Jackhou Blog',
  title: '第5章 语句',
  postAI: '',
  pageFillDescription: '5.1 Expression Statements, 5.2 Compound and Empty Statements, 5.3 Conditionals, 5.3.1 if, 5.3.2 else if, 5.3.3 switch, 5.4 Loops, 5.4.1 while, 5.4.2 dox2Fwhile, 5.4.3 for, 5.4.4 forx2Fof, FORx2FOF WITH OBJECTS, FORx2FOF WITH STRINGS, FORx2FOF WITH SET AND MAP, ASYNCHRONOUS ITERATION WITH FORx2FAWAIT, 5.4.5 forx2Fin, 5.5 Jumps, 5.5.1 Labeled Statements, 5.5.2 break, 5.5.3 continue, 5.5.4 return, 5.5.5 yield, 5.5.6 throw, 5.5.7 tryx2Fcatchx2Ffinally, 5.6 Miscellaneous Statements, 5.6.1 with, 5.6.2 debugger, 5.6.3 use strict, 5.7 Declarations, 5.7.1 const let and var, 5.7.2 function, 5.7.3 class, 5.7.4 import and export, 5.8 Summary of JavaScript Statements第章将表达式描述为短语根据这个比喻语句就是句子或命令就像英语句子以句点结尾并彼此分开一样语句以分号结尾表达式计算来产生一个值但是语句被执行则使某些事情发生使某事发生的一种方法是对有副作用的表达式求值带有副作用如赋值和函数调用的表达式可以单独作为语句使用以这种方式使用时称为表达式语句类似的语句是声明语句它声明新的变量和定义的新函数程序只不过是一系列顺序执行的语句默认情况下解释器按照语句的编写顺序依次执行这些语句另一种让事情发生的方法是改变默认的执行顺序有很多语句或控制结构就是这样做的条件类似和语句让解释器根据一个表达式的值计算或跳过一些语句循环类似和语句重复执行一些语句跳转类似和语句引发解释器跳转到程序的另一部分接下来的小结讲解各种各样的语句并解释它们的语法本章最后表总结了语法程序是简单的顺序语句被分号分隔所以一旦熟悉了语句就可以开始编写程序了中最简单的语句是表达式它们有副作用下面这个简短的语句在第章出现过赋值语句是表达式语句分类中主要的语句之一例如递增和递减运算符和与赋值语句有关这些具有更改变量值的副作用就像执行了赋值一样运算符具有删除对象属性的重要副作用因此它几乎总是用作语句而不是用作较大表达式的一部分函数调用是表达式语句的另一个主要类别例如这些函数调用是表达式但是它们具有影响主机环境或程序状态的副作用在这里用作语句如果函数没有任何副作用则除非有任何较大的表达式或赋值语句的一部分否则调用该函数没有任何意义例如您不会仅计算余弦并丢弃结果但是可能会计算出该值并将其分配给变量以供将来使用请注意这些示例中的每行代码均以分号结尾正如逗号运算符将多个表达式组合成一个表达式一样一个语句块将多个语句组合成一个复合语句语句块只是括在花括号内的一系列语句因此以下几行充当单个语句并且可以在需要单个语句的任何地方使用关于此语句块需要注意一些事项首先它不以分号结尾块中的原始语句以分号结尾但是块本身没有其次相对于包围它们的花括号将块内的行缩进这是可选的但是它使代码更易于阅读和理解正如表达式通常包含子表达式一样许多语句也包含子语句正式地语法通常允许单个子语句例如循环语法包括一个用作循环主体的语句使用语句块可以在此单个允许的子语句中放置任意数量的语句复合语句允许在语法要求使用单个语句的情况下使用多个语句空语句则相反它允许在期望的位置不包含任何语句空语句如下所示解释器执行空语句时不执行任何操作当要创建一个包含空主体的循环时空语句有时会很有用考虑以下循环循环将在中介绍在此循环中所有工作均由表达式完成并且不需要循环体语法需要一个语句作为循环体因此使用一个空语句仅一个裸分号请注意在循环循环或语句的右括号后面意外地包含分号可能导致令人沮丧的错误难以检测例如以下代码可能不符合作者的意图当有意使用空语句时以下注释代码是一种清楚表明是故意这样做的方式的好主意例如条件语句根据指定表达式的值执行或跳过其他语句这些语句是代码的决策点有时也称为分支如果想象解释器遵循代码路径则条件语句是代码分支到两个或更多路径的位置并且解释器必须选择要遵循的路径以下小节介绍了的基本条件语句还介绍了更复杂的多路分支语句语句是基本的控制语句它允许进行决策或更准确地说可以有条件地执行语句该语句有两种形式第一个是以这种形式表达式被评估如果结果值为真则执行语句如果是假则不执行语句有关真实值和假值的定义请参见例如请注意表达式周围的括号是语句语法的必需部分语法在关键字和带括号的表达式之后需要一个语句但是可以使用语句块将多个语句组合为一个因此语句也可能如下所示语句的第二种形式引入了子句当为时将执行该子句它的语法是如果为真则此语句形式执行如果为则执行例如当将带有子句的语句嵌套时需要格外小心以确保子句与适当的语句一起使用考虑以下几行在此示例中内部语句形成外部语句的语法允许的单个语句不幸的是不清楚除非缩进提示接连在哪个后在此示例中缩进是错误的因为解释器实际上将前面的示例解释为中的规则与大多数编程语言一样在默认情况下子句是最接近的语句的一部分为了使此示例不太含糊且易于阅读理解维护和调试应使用花括号许多程序员习惯将和语句以及其他复合语句例如循环的主体括在花括号内即使主体仅由一个语句组成也是如此始终如一地这样做可以防止出现刚才显示的问题我建议采用这种做法在这本书中我非常重视保持示例代码在垂直方向上的紧凑性并且在此问题上我并不总是遵循自己的建议语句根据结果评估表达式并执行两段代码之一但是当需要执行许多代码之一时该怎么办呢一种方法是使用语句并不是真正的语句而只是一个经常使用的编程习惯用法当使用重复的语句时会产生该习惯用法此代码没有什么特别的它只是一系列的语句其后的每个都是前一条语句的子句的一部分使用惯用语比以语法上等效的完全嵌套形式写出这些语句更好更易读语句会导致程序执行流程中的分支可以使用惯用法来执行多路分支但是当所有分支都依赖于同一表达式的值时这不是最佳解决方案在这种情况下在多个语句中重复评估该表达式是浪费性能的语句完全可以处理这种情况关键字后跟一个括号中的表达式和一个花括号中的代码块但是语句的完整语法比这更复杂代码块中的各个位置都用关键字标记后跟一个表达式和一个冒号执行时它将计算表达式的值然后查找其表达式计算为相同值其中相同性由运算符确定的标签如果找到一个它将开始在由标记的语句处执行代码块如果找不到与值匹配的个案则查找标记为的语句如果没有标签则语句将完全跳过该代码块是一个令人困惑的陈述难以解释举个例子它的操作变得更加清晰以下语句等效于上一节中重复语句请注意此代码中每种情况结尾处使用的关键字在本章后面介绍的语句使解释器跳到语句的末尾或中断并继续其后的语句语句中的子句仅指定所需代码的起点他们没有指定任何终点在没有语句的情况下语句在与其表达式值匹配的标签处开始执行其代码块并继续执行语句直到到达该块的末尾为止在极少数情况下编写这样的代码从一个案例标签到另一个案例贯穿是很有用的但是在的使用中应小心以语句结束每个案例但是在函数内部使用时可以使用语句而不是语句两者都可用于终止语句并防止执行陷入下一种情况这是语句的一个更实际的示例它将值转换为字符串的方式取决于值的类型请注意在前面的两个示例中关键字后面分别跟有数字和字符串文字这是实践中最经常使用语句的方式但是请注意标准允许每种情况后面都可以有一个任意表达式语句首先评估关键字后面的表达式然后按它们出现的顺序评估表达式直到找到匹配的值匹配的是使用恒等运算符确定的而不是相等运算符因此表达式必须匹配且不进行任何类型转换由于并非每次执行语句时都会评估所有的表达式因此应避免使用包含副作用的表达式例如函数调用或赋值最安全的方法只是将表达式限制为常量表达式如前所述如果所有表达式都不与表达式匹配则语句将在标有的语句处开始执行其主体如果没有标签则语句将完全跳过其主体请注意在所示示例中标签出现在主体的末尾紧随所有案例标签之后这是一个逻辑上通用的地方但实际上它可以出现在语句主体内的任何位置为了理解条件语句我们假设解释器遵循源代码中的分支路径循环语句是那些使该路径重新弯曲以重复代码部分的语句有五个循环语句及其变体和以下小节依次解释循环的一种常见用法是遍历数组的元素详细讨论了这种循环并涵盖了类定义的特殊循环方法正如语句是的基本条件一样语句也是的基本循环它具有以下语法要执行语句解释器首先对表达式求值如果表达式的值是假值则解释器将跳过用作循环主体的语句然后继续执行程序中的下一条语句另一方面如果表达式是真值则解释器将执行该语句并重复跳回到循环的顶部并再次评估表达式另一种说法是解释器在表达式为真时重复执行语句请注意可以使用语法创建无限循环通常不希望一次又一次地执行完全相同的操作在几乎每个循环中一个或多个变量随循环的每次迭代而变化由于变量会发生变化因此每次循环执行时执行语句所执行的动作可能会有所不同此外如果表达式中包含一个或多个变化的变量则每次循环时表达式的值可能会有所不同这个很重要否则以开始的表达式将永远不会改变循环永远不会结束这是一个循环的示例该循环打印从到的数字如你所见变量计数从开始并在每次循环主体运行时递增循环执行次后表达式变为即变量计数不小于语句结束解释器可以继续执行程序中的下一个语句许多循环都有一个计数器变量例如变量名和通常用作循环计数器但是如果可以使代码更易于理解则应使用更具描述性的名称循环类似于循环除了循环表达式是在循环的底部而不是顶部进行测试的这意味着循环的主体始终至少执行一次语法为循环不如常用在实践中确定要至少执行一次循环在某种程度上并不常见这是循环的示例循环和普通的循环之间在语法上有一些区别首先循环需要同时使用关键字以标记循环的开始和关键字以标记结束并引入循环条件另外循环必须始终以分号终止如果循环主体用花括号括起来则循环不需要分号语句提供了一个循环构造通常比语句更方便语句简化了遵循通用模式的循环大多数循环都有某种计数器变量在循环开始之前初始化此变量并在每次循环迭代之前对其进行测试最后在再次测试变量之前计数器变量在循环主体的末尾增加或更新在这种循环中初始化测试和更新是循环变量的三个关键操作语句将这三个操作中的每一个都编码为一个表达式并使这些表达式成为循环语法的显式部分初始化测试和递增三个表达式用分号分隔将它们全部放入循环的第一行可轻松了解循环的作用并防止诸如忘记初始化或增加循环变量之类的错误解释循环如何工作的最简单方法是显示等效的循环换句话说在循环开始之前对初始化表达式进行一次求值该表达式必须具有副作用通常是赋值还允许将初始化用作变量声明语句以便可以同时声明和初始化循环计数器测试表达式在每次迭代之前进行评估并控制是否执行循环主体如果测试评估为真值则执行作为循环主体的语句最后计算增量表达式同样该表达式必须是具有副作用的表达式才有效通常它可以是赋值表达式也可以使用或运算符我们可以使用如下所示的循环打印到之间的数字将其与上一节中显示的等效循环进行对比当然循环比这个简单的例子要复杂得多有时循环的每次迭代都会改变多个变量这种情况是在中唯一使用逗号运算符的地方它提供了一种将多个初始化和增量表达式组合成适合在循环中使用的单个表达式的方法到目前为止在我们所有的循环示例中循环变量都是数字这是很常见的但不是必需的以下代码使用循环遍历链接列表数据结构并返回列表中的最后一个对象即第一个不具有属性的对象请注意此代码没有初始化表达式循环可以省略三个表达式中的任何一个但是需要两个分号如果省略测试表达式则循环将永远重复而是编写无限循环的另一种方式例如定义了一个新的循环语句这种新的循环使用关键字但是与常规的循环完全不同它也与我们在中描述的较早的循环完全不同循环适用于可迭代对象我们将在第章中确切解释对象可迭代的含义但是对于本章而言知道数组字符串和是可迭代的足以它们代表了所需要可以使用循环的序列或元素集合例如这里是我们如何使用遍历数字数组的元素并计算它们的总和的方法从表面上看语法看起来像是常规的循环关键字后面是括号其中包含有关循环应执行的操作的详细信息在这种情况下括号中包含一个变量声明或者对于已经声明的变量仅是变量的名称后跟关键字和一个表达式该表达式的结果为可迭代对象例如本例中的数据数组与所有循环一样循环的主体跟随括号后通常在花括号内在刚刚显示的代码中循环主体为数据数组的每个元素运行一次在每次执行循环主体之前将数组的下一个元素分配给变量数组元素从第一个到最后一个顺序进行迭代数组是实时迭代的在迭代过程中进行的更改可能会影响迭代的结果如果我们通过添加行在循环体内修改前面的代码我们则创建一个无限循环因为迭代永远无法到达数组的最后一个元素对象是不可迭代的默认情况下尝试在常规对象上使用会在运行时引发如果要遍历对象的属性则可以使用循环在中介绍或通过方法使用之所以可行是因为返回一个对象的属性名称数组并且该数组可以使用进行迭代还要注意对象的键的这种迭代不像上面的数组示例那样有效在循环主体中对对象所做的更改将对该迭代没有影响如果您不关心对象的键也可以像下面这样遍历它们的对应值而且如果对对象属性的键和值都感兴趣则可以将与一起使用并销毁赋值返回一个数组的数组其中每个内部数组代表对象一个属性的键值对在此代码示例中我们使用解构将这些内部数组拆成两个单独的变量在中字符串是一个一个字符可迭代对象请注意字符串是通过麻点而不是字符进行迭代的字符串的长度为因为两个表情符号字符每个都需要两个字符来表示但是如果使用迭代该字符串则循环主体将运行三次对于三个麻点和中的每一个都运行一次内置的和类是可迭代的当使用迭代时循环主体对的每个元素运行一次可以使用如下代码在文本字符串中打印出唯一的单词是一种有趣的情况因为对象的迭代器不会迭代键或值而是键值对每次迭代时迭代器都会返回一个数组该数组的第一个元素是键而第二个元素是对应的值给定一个可以像这样迭代和解构其键值对引入了一种新型的迭代器称为异步迭代器以及循环的一种变体即与异步迭代器一起使用的循环需要阅读第章和第章才能了解循环这里展示一下它的代码循环看起来很像循环将关键字更改为循环在之后需要可迭代的对象而循环则在之后可用于任何对象循环是中的新功能但是从一开始就已经是的一部分这就是为什么它具有更自然的发音语法语句循环遍历指定对象的属性名称语法如下所示变量通常命名为变量但它可以是变量声明或任何适合作为赋值表达式左侧的内容是一个计算结果为对象的表达式像往常一样是用作循环正文的语句或语句块可能会使用如下所示的循环为了执行语句解释器首先评估对象表达式如果评估结果为或未定义则解释器将跳过循环并继续执行下一条语句现在解释器对对象的每个可枚举属性执行一次循环主体但是在每次迭代之前解释器都会对变量表达式求值并为其分配属性名称字符串值请注意循环中的变量可以是任意表达式只要它的计算结果适合于赋值的左侧即可每次通过循环都会对该表达式进行求值这意味着它每次都可能会进行不同的求值例如可以使用以下代码将所有对象属性的名称复制到数组中数组只是一种特殊的对象而数组索引是可以用循环枚举的对象属性例如在前面的代码之后加上此行将枚举数组索引和我发现我自己的代码中常见的错误源是当我打算使用时偶然将与数组结合使用使用数组时几乎总是要使用而不是循环实际上并未枚举对象的所有属性它不枚举名称为符号的属性在名称为字符串的属性中它仅循环可枚举的属性请参见第节核心定义的各种内置方法是无法枚举的例如所有对象都具有方法但是循环不会枚举此属性除了内置方法之外内置对象的许多其他属性也是不可枚举的默认情况下代码定义的所有属性和方法都是可枚举的可以使用中介绍的技术使它们不可枚举循环还枚举了可枚举的继承属性参见这意味着如果使用循环并且还使用定义所有对象都继承的属性的代码则的循环可能无法按照您期望的方式运行因此许多程序员更喜欢对使用循环而不是循环如果循环的主体删除了尚未枚举的属性则不会枚举该属性如果循环的主体在对象上定义了新属性则这些属性可能会也可能不会被枚举有关枚举对象属性的顺序的更多信息请参见语句的另一类是跳转语句顾名思义这些会导致解释器跳至源代码中的新位置语句使解释器跳到循环或其他语句的末尾使解释器跳过循环主体的其余部分然后跳回到循环的顶部以开始新的迭代允许对语句进行命名或标记并且和可以标识目标循环或其他语句标签语句使解释器从函数调用跳回到调用它的代码并提供该调用的值语句是生成器函数的一种临时返回语句引发或抛出异常并设计为与语句一起使用该语句建立一个异常处理代码块这是一种复杂的跳转语句抛出异常时解释器将跳转到最近的封闭异常处理程序该处理程序可以在同一函数中也可以在调用函数中的调用堆栈中向上移动有关这些跳转语句的详细信息请参见以下各节任何语句都可以在其前面加上标识符和冒号来标记标识符语句通过给语句加标签可以为它指定一个名称可以使用该名称在程序的其他位置引用它可以标记任何语句尽管只有于标记具有主体例如循环和条件的语句才有用通过给循环命名可以在循环体内使用和语句退出循环或直接跳转到循环顶部以开始下一个迭代和是唯一使用语句标签的语句它们在以下小节中介绍这是一个带有标签的循环和一个使用该标签的语句的示例用于标记语句的标识符可以是非保留字的任何合法标识符标签的命名空间与变量和函数的命名空间不同因此可以将相同的标识符用作语句标签以及变量或函数名称语句标签仅在它们适用的语句内定义当然在其子语句中也定义一条语句可能没有与包含该语句的语句相同的标签但是两个语句都可以具有相同的标签只要两个语句都不嵌套在另一个语句中即可带标签的语句本身可以被标记实际上这意味着任何语句都可以具有多个标签单独使用语句会使最里面的循环或语句立即退出它的语法很简单因为它导致循环或开关退出所以这种形式的语句仅当出现在这些语句之一内时才是合法的您已经在语句中看到了语句的示例在循环中通常由于某种原因而不再需要完成循环时它会过早退出当循环具有复杂的终止条件时通常使用语句更容易实现其中一些条件而不是尝试在单个循环表达式中全部表达它们以下代码在数组的元素中搜索特定值当循环到达数组末尾时循环以通常的方式终止如果在数组中找到要查找的内容则以语句终止还允许关键字后跟一个语句标签只是标识符没有冒号当与标签一起使用时它跳转到具有指定标签的封闭语句的末尾或终止如果没有带有指定标签的封闭语句则使用这种形式的是语法错误使用语句的这种形式命名的语句不必是循环或可以跳出任何封闭的语句该语句甚至可以是用大括号括起来的语句块其唯一目的是用标签命名该块在关键字和标签名之间不允许使用换行符这是自动插入省略的分号的结果如果在关键字和后面的标签之间放置了行终止符则会假定您打算使用语句的简单无标签形式并将行终止符视为分号请参见当想脱离不是最近的封闭循环或的语句时需要使用语句的标签形式以下代码演示最后请注意带有或不带有标签的语句无法跨函数边界转移控制权例如不能标记函数定义语句然后在函数内部使用该标记语句类似于语句但是不是退出循环而是在重新开始循环的下一次迭代语句的语法与语句的语法一样简单语句也可以与标签一起使用标记和未标记形式的语句只能在循环体内使用在其他任何地方使用它都会导致语法错误当执行语句时封闭循环的当前迭代将终止并且下一个迭代开始对于不同类型的循环这意味着不同的事情在循环中将再次测试循环开始处的指定表达式如果该表达式为则循环主体将从顶部开始执行在循环中执行跳到循环的底部在重新测试顶部的循环之前先对循环条件进行测试在循环中对增量表达式进行求值然后再次对测试表达式进行测试以确定是否应执行另一次迭代在或循环中循环从下一个迭代值或下一个属性名称分配给指定变量开始注意和循环中语句的行为差异循环直接返回其条件但是循环首先计算其增量表达式然后返回其条件之前我们以等效循环的形式考虑了循环的行为但是由于语句在这两个循环中的行为不同因此实际上不可能仅使用循环来完美地模拟循环以下示例显示了一个未标记的语句该语句在发生错误时用于跳过循环的当前迭代的其余部分像语句一样当要重新启动的循环不是立即封闭的循环时可以在嵌套循环内以标记形式使用语句同样与语句一样在语句及其标签名之间不允许换行回想一下函数调用是表达式并且所有表达式都具有值函数内的语句指定该函数的调用值这是语句的语法语句可能仅出现在函数体内它出现在其他任何地方都是语法错误当执行语句时包含它的函数会将的值返回给其调用者例如在没有语句的情况下函数调用只是依次依次执行函数体中的每个语句直到到达函数末尾然后返回到其调用者在这种情况下调用表达式的计算结果为语句通常显示为函数中的最后一条语句但不一定要最后一条执行语句时函数返回到其调用者即使函数体内还有其他语句还可以在没有表达式的情况下使用语句以使函数返回未定义给调用者例如由于自动插入了分号因此不能在关键字和其后的表达式之间包含换行符语句与语句非常相似但仅在生成器函数请参阅中使用以在所生成的值序列中生成下一个值而无需实际返回为了了解必须了解迭代器和生成器但是为了完整起见直到第章都不会涉及但是从技术上讲是运算符而不是语句如节中所述异常是表示已发生某种异常情况或错误的信号引发异常是表示这种错误或异常情况捕获异常就是对它进行处理采取必要措施或适当措施以从异常中恢复在中只要发生运行时错误并且只要程序使用语句显式抛出一个异常就会引发异常使用语句捕获异常这将在下一部分中进行描述语句具有以下语法表达式可以计算为任何类型的值可能会抛出代表错误代码的数字或包含人类可读错误消息的字符串当解释器本身抛出错误时将使用类及其子类并且您也可以使用它们对象具有用于指定错误类型的属性和用于保存传递给构造函数的字符串的属性这是一个示例函数当使用无效参数调用该函数时将引发对象引发异常时解释器立即停止正常程序执行并跳转到最近的异常处理程序异常处理程序使用语句的子句编写这将在下一部分中进行描述如果在其中引发了异常的代码块中没有关联的子句则解释器将检查下一个最顶层的代码块以查看其是否具有与之关联的异常处理程序这一直持续到找到处理程序为止如果在不包含语句来处理它的函数中引发异常则该异常会传播到调用该函数的代码这样异常会通过方法的词法结构向上传播并向上扩展到调用堆栈如果未找到异常处理程序则将该异常视为错误并报告给用户语句是的异常处理机制该语句的子句仅定义要处理其异常的代码块在块之后是子句子句是在块内任何地方发生异常时调用的语句块子句后面是一个块其中包含保证可以执行的清除代码无论块中发生了什么和块都是可选的但是块必须至少与这些块之一相伴尝试捕获和最终阻止都以花括号开头和结尾这些花括号是语法的必需部分即使子句仅包含一个语句也不能忽略这些花括号以下代码说明了语句的语法和用途请注意关键字通常在括号后跟一个标识符该标识符就像一个函数参数捕获到异常后与该异常关联的值例如对象将分配给该参数与子句关联的标识符具有块作用域仅在块内有定义这是语句的实际示例它使用上一节中定义的方法以及客户端方法和进行输入和输出这个例子是一个语句没有子句虽然不像那样经常使用但它很有用可是其行为需要额外说明如果块的任何部分被执行则必定执行子句无论块中的代码如何完成通常用于在子句中的代码之后进行清理在正常情况下解释器到达块的末尾然后进行到块该块执行任何必要的清除如果解释器由于返回继续或中断语句而离开块则在解释器跳转到其新目的地之前执行块如果块中发生异常并且有一个关联的块来处理该异常则解释器将首先执行块然后执行块如果没有本地块来处理该异常则解释器将首先执行块然后跳转到最近的包含子句如果块本身通过或语句导致跳转或者通过调用引发异常的方法来调用则解释器将放弃所有挂起的任何程序并执行新的跳转例如如果子句引发异常则该异常将替换正在引发过程中的所有异常如果子句发出语句则即使已引发异常且尚未处理异常该方法也会正常返回和可以一起使用而无需使用子句在这种情况下无论块发生什么情况块都是保证可以执行的清除代码回想一下我们无法完全通过循环来模拟循环因为语句在两个循环中的行为有所不同如果添加语句则可以编写一个循环该循环类似于循环并且可以正确处理语句但是请注意包含语句的主体在循环中的行为与循环中的行为略有不同在退出前会导致额外的增量计算因此即使使用子句也无法完全用模拟循环有时即使不关心异常的类型或值您可能会发现自己仅使用子句来检测并停止异常的传播在及更高版本中可以省略括号和标识符并在这种情况下裸露使用关键字这是一个例子本节描述了其余三个语句和语句运行代码块就像指定对象的属性是该代码范围内的变量一样它具有以下语法该语句使用对象的属性作为变量创建一个临时作用域然后在该作用域内执行语句在严格模式下禁止语句请参见并且在非严格模式下应将其视为已弃用请尽可能避免使用它与一起使用的代码难以优化并且与没有语句编写的等效代码相比运行速度可能慢得多语句的常用用法是使使用深度嵌套的对象层次结构更清晰例如在客户端中可能必须键入此类表达式才能访问表单的元素如果需要多次编写这样的表达式则可以使用语句将表单对象的属性像变量一样对待这减少了必须进行的键入操作的数量不再需要为每个表单属性名称加上前缀当然避免语句并像这样编写前面的代码也很简单请注意如果使用或或在语句的主体内声明变量或常量则它将创建普通变量并且不会在指定对象内定义新属性语句通常不执行任何操作但是如果程序可用并且正在运行则这个实现可以但不是必需执行某种调试操作实际上该语句就像一个断点停止执行代码并且可以使用调试器打印变量的值检查调用堆栈等例如假设您在函数中遇到一个异常因为该异常正在使用未定义的参数进行调用而您无法弄清楚该调用的来源为了帮助调试此问题可以更改使其开始如下所示现在当不带任何参数调用时执行将停止并且可以使用调试器检查调用堆栈并找出此错误调用的出处请注意仅有是不够的语句不会为启动调试器但是如果您使用的是网络浏览器并打开了开发者工具控制台则此语句将导致一个断点是中引入的指令指令不是语句但足够接近因此此处记录了指令和常规语句之间有两个重要区别它不包含任何语言关键字指令只是由特殊字符串文字单引号或双引号组成的表达式语句它只能出现在脚本的开始处或函数体的开始处然后才出现任何实际的语句指令的目的是指示在脚本或函数中后面的代码是严格代码如果脚本具有指令则该脚本的顶级非函数代码为严格代码如果函数体是在严格代码中定义的或者具有指令则它是严格代码如果从严格代码中调用或代码字符串包含指令则传递给方法的代码为严格代码除了明确声明为严格的代码之外类主体第章或模块中的任何代码都是自动严格的代码这意味着如果所有的代码都是作为模块编写的那么它们都是自动严格的并且将不需要使用显式的指令严格代码在严格模式下执行严格模式是该语言的受限子集可修复重要的语言缺陷并提供更强的错误检查和更高的安全性由于严格模式不是默认模式因此旧代码使用不足传统特性将继续正确运行严格模式和非严格模式之间的区别如下前三个特别重要在严格模式下不允许使用语句在严格模式下必须声明所有变量如果将值分配给未声明的变量函数函数参数子句参数或全局对象的属性的标识符则会引发在非严格模式下通过向全局对象添加新属性来隐式声明全局变量在严格模式下作为函数而不是方法调用的函数的值是在非严格模式下作为函数调用的函数总是将全局对象作为其值此外在严格模式下当使用或调用函数时值作为第一个参数传递给或的值在非严格模式下将和值替换为全局对象并将值转换为对象在严格模式下对不可写属性的分配以及在不可扩展对象上尝试创建新属性的尝试将引发在非严格模式下这些尝试将以静默方式失败在严格模式下传递给的代码无法像在非严格模式下那样在调用者的作用域中声明变量或定义函数相反变量和函数定义位于为创建的新作用域中当返回时将放弃此用域从技术上讲关键字和并不是语句但它们看起来很像语句并且本书将它们非正式地称为语句因此在本章中应予提及这些关键字被更准确地描述为声明而不是语句我们在本章开始时说过语句使某事发生声明用于定义新值并为它们提供可用来引用这些值的名称它们本身并不会带来太大的变化但是通过提供值的名称它们在重要的意义上定义了程序中其他语句的含义程序运行时将对程序的表达式进行评估并执行程序的语句程序中的声明不是以相同的方式运行相反它们定义了程序本身的结构不确切地说可以将声明视为代码开始运行之前已处理的部分程序声明用于定义常量变量函数和类以及在模块之间导入和导出值接下来的小节将给出所有这些声明的示例在本书的其他地方将对它们进行更详细的介绍',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-26 21:43:56',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/null"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Jackhou Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 1.05rem; color: rgb(109, 105, 196);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 1.05rem; color: rgb(92, 106, 34);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem; color: rgb(182, 3, 38);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem; color: rgb(122, 61, 111);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem; color: rgb(90, 45, 52);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem; color: rgb(37, 160, 28);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 1.05rem; color: rgb(133, 195, 75);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem; color: rgb(178, 108, 107);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 1.05rem; color: rgb(78, 139, 37);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 1.05rem; color: rgb(160, 25, 21);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 1.05rem; color: rgb(78, 57, 33);">《JavaScript权威指南》<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 1.05rem; color: rgb(84, 120, 148);">匿名<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem; color: rgb(164, 80, 172);">博客<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.05rem; color: rgb(152, 51, 77);">安全<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 1.05rem; color: rgb(59, 32, 16);">支付<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 1.05rem; color: rgb(104, 2, 134);">攻防<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 1.05rem; color: rgb(173, 108, 167);">旅行<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem; color: rgb(88, 7, 53);">虚拟机<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 1.05rem; color: rgb(192, 129, 151);">越权<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">37</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">技术</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/JavaScript/" itemprop="url">JavaScript</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>《JavaScript权威指南》</span></a><a class="article-meta__tags" href="/tags/JavaScript/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JavaScript</span></a></span></div></div><h1 class="post-title" itemprop="name headline">第5章 语句</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-04-25T16:00:56.000Z" title="发表于 2023-04-26 00:00:56">2023-04-26</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-04-26T13:43:56.000Z" title="更新于 2023-04-26 21:43:56">2023-04-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="第5章 语句"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/"><header><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">技术</a><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/JavaScript/" itemprop="url">JavaScript</a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" tabindex="-1" itemprop="url">《JavaScript权威指南》</a><a href="/tags/JavaScript/" tabindex="-1" itemprop="url">JavaScript</a><h1 id="CrawlerTitle" itemprop="name headline">第5章 语句</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Jack hou</span><time itemprop="dateCreated datePublished" datetime="2023-04-25T16:00:56.000Z" title="发表于 2023-04-26 00:00:56">2023-04-26</time><time itemprop="dateCreated datePublished" datetime="2023-04-26T13:43:56.000Z" title="更新于 2023-04-26 21:43:56">2023-04-26</time></header><meta name="referrer" content="no-referrer"/>



<p>Chapter 4 described expressions as JavaScript phrases. By that analogy, statements are JavaScript sentences or commands. Just as English sentences are terminated and separated from one another with periods, JavaScript statements are terminated with semicolons (§2.6). Expressions are evaluated to produce a value, but statements are executed to make something happen.</p>
<blockquote>
<p>第 4 章将表达式描述为 JavaScript 短语。根据这个比喻，语句就是 JavaScript 句子或命令。就像英语句子以句点结尾并彼此分开一样，JavaScript 语句以分号结尾（§2.6）。表达式计算来产生一个值，但是语句被执行则使某些事情发生。</p>
</blockquote>
<p>One way to “make something happen” is to evaluate an expression that has side effects. Expressions with side effects, such as assignments and function invocations, can stand alone as statements, and when used this way are known as expression statements. A similar category of statements are the declaration statements that declare new variables and define new functions.</p>
<blockquote>
<p>“使某事发生”的一种方法是对有副作用的表达式求值。带有副作用（如赋值和函数调用）的表达式可以单独作为语句使用，以这种方式使用时称为表达式语句。类似的语句是声明语句，它声明新的变量和定义的新函数。</p>
</blockquote>
<p>JavaScript programs are nothing more than a sequence of statements to execute. By default, the JavaScript interpreter executes these statements one after another in the order they are written. Another way to “make something happen” is to alter this default order of execution, and JavaScript has a number of statements or control structures that do just this:</p>
<blockquote>
<p>JavaScript 程序只不过是一系列顺序执行的语句。默认情况下，JavaScript 解释器按照语句的编写顺序依次执行这些语句。另一种“让事情发生”的方法是改变默认的执行顺序，JavaScript 有很多语句或控制结构就是这样做的:</p>
</blockquote>
<p>Conditionals</p>
<blockquote>
<p>条件<br>Statements like if and switch that make the JavaScript interpreter execute or skip other statements depending on the value of an expression<br>类似 if 和 switch 语句，让 JavaScript 解释器根据一个表达式的值计算或跳过一些语句</p>
</blockquote>
<p>Loops</p>
<blockquote>
<p>循环<br>Statements like while and for that execute other statements repetitively<br>类似 while 和 for 语句，重复执行一些语句</p>
</blockquote>
<p>Jumps</p>
<blockquote>
<p>跳转<br>Statements like break, return, and throw that cause the interpreter to jump to another part of the program<br>类似 break、return 和 throw 语句，引发解释器跳转到程序的另一部分</p>
</blockquote>
<p>The sections that follow describe the various statements in JavaScript and explain their syntax. Table 5-1, at the end of the chapter, summarizes the syntax. A JavaScript program is simply a sequence of statements, separated from one another with semicolons, so once you are familiar with the statements of JavaScript, you can begin writing JavaScript programs.</p>
<blockquote>
<p>接下来的小结讲解各种各样的 JavaScript 语句并解释它们的语法。本章最后表 5-1 总结了语法。JavaScript 程序是简单的顺序语句，被分号分隔，所以一旦熟悉了 JavaScript 语句，就可以开始编写 JavaScript 程序了。</p>
</blockquote>
<h2 id="5-1-Expression-Statements"><a href="#5-1-Expression-Statements" class="headerlink" title="5.1 Expression Statements"></a>5.1 Expression Statements</h2><p>The simplest kinds of statements in JavaScript are expressions that have side effects. This sort of statement was shown in Chapter 4. Assignment statements are one major category of expression statements. For example:</p>
<blockquote>
<p>JavaScript 中最简单的语句是表达式，它们有副作用。下面这个简短的语句在第 4 章出现过。赋值语句是表达式语句分类中主要的语句之一。例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">greeting = <span class="string">&quot;Hello &quot;</span> + name;</span><br><span class="line">i *= <span class="number">3</span>;</span><br></pre></td></tr></table></figure>
<p>The increment and decrement operators, ++ and –, are related to assignment statements. These have the side effect of changing a variable value, just as if an assignment had been performed:</p>
<blockquote>
<p>递增和递减运算符 ++ 和 – 与赋值语句有关。这些具有更改变量值的副作用，就像执行了赋值一样：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">counter++;</span><br></pre></td></tr></table></figure>
<p>The delete operator has the important side effect of deleting an object property. Thus, it is almost always used as a statement, rather than as part of a larger expression:</p>
<blockquote>
<p>delete 运算符具有删除对象属性的重要副作用。因此，它几乎总是用作语句，而不是用作较大表达式的一部分：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>;</span><br></pre></td></tr></table></figure>
<p>Function calls are another major category of expression statements. For example:</p>
<blockquote>
<p>函数调用是表达式语句的另一个主要类别。例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(debugMessage);</span><br><span class="line"><span class="title function_">displaySpinner</span>(); <span class="comment">// A hypothetical function to display a spinner in a web app.</span></span><br></pre></td></tr></table></figure>
<p>These function calls are expressions, but they have side effects that affect the host environment or program state, and they are used here as statements. If a function does not have any side effects, there is no sense in calling it, unless it is part of a larger expression or an assignment statement. For example, you wouldn’t just compute a cosine and discard the result:</p>
<blockquote>
<p>这些函数调用是表达式，但是它们具有影响主机环境或程序状态的副作用，在这里用作语句。如果函数没有任何副作用，则除非有任何较大的表达式或赋值语句的一部分，否则调用该函数没有任何意义。例如，您不会仅计算余弦并丢弃结果：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">cos</span>(x);</span><br></pre></td></tr></table></figure>
<p>But you might well compute the value and assign it to a variable for future use:</p>
<blockquote>
<p>但是可能会计算出该值并将其分配给变量以供将来使用：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cx = <span class="title class_">Math</span>.<span class="title function_">cos</span>(x);</span><br></pre></td></tr></table></figure>
<p>Note that each line of code in each of these examples is terminated with a semicolon.</p>
<blockquote>
<p>请注意，这些示例中的每行代码均以分号结尾。</p>
</blockquote>
<h2 id="5-2-Compound-and-Empty-Statements"><a href="#5-2-Compound-and-Empty-Statements" class="headerlink" title="5.2 Compound and Empty Statements"></a>5.2 Compound and Empty Statements</h2><p>Just as the comma operator (§4.13.7) combines multiple expressions into a single expression, a statement block combines multiple statements into a single compound statement. A statement block is simply a sequence of statements enclosed within curly braces. Thus, the following lines act as a single statement and can be used anywhere that JavaScript expects a single statement:</p>
<blockquote>
<p>正如逗号运算符（§4.13.7）将多个表达式组合成一个表达式一样，一个语句块将多个语句组合成一个复合语句。语句块只是括在花括号内的一系列语句。因此，以下几行充当单个语句，并且可以在 JavaScript 需要单个语句的任何地方使用：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    x = <span class="title class_">Math</span>.<span class="property">PI</span>;</span><br><span class="line">    cx = <span class="title class_">Math</span>.<span class="title function_">cos</span>(x);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;cos(π) = &quot;</span> + cx);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There are a few things to note about this statement block. First, it does not end with a semicolon. The primitive statements within the block end in semicolons, but the block itself does not. Second, the lines inside the block are indented relative to the curly braces that enclose them. This is optional, but it makes the code easier to read and understand.</p>
<blockquote>
<p>关于此语句块需要注意一些事项。首先，它不以分号结尾。块中的原始语句以分号结尾，但是块本身没有。其次，相对于包围它们的花括号将块内的行缩进。这是可选的，但是它使代码更易于阅读和理解。</p>
</blockquote>
<p>Just as expressions often contain subexpressions, many JavaScript statements contain substatements. Formally, JavaScript syntax usually allows a single substatement. For example, the while loop syntax includes a single statement that serves as the body of the loop. Using a statement block, you can place any number of statements within this single allowed substatement.</p>
<blockquote>
<p>正如表达式通常包含子表达式一样，许多 JavaScript 语句也包含子语句。正式地，JavaScript 语法通常允许单个子语句。例如，while 循环语法包括一个用作循环主体的语句。使用语句块，可以在此单个允许的子语句中放置任意数量的语句。</p>
</blockquote>
<p>A compound statement allows you to use multiple statements where JavaScript syntax expects a single statement. The empty statement is the opposite: it allows you to include no statements where one is expected. The empty statement looks like this:</p>
<blockquote>
<p>复合语句允许在 JavaScript 语法要求使用单个语句的情况下使用多个语句。空语句则相反：它允许在期望的位置不包含任何语句。空语句如下所示：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;</span><br></pre></td></tr></table></figure>
<p>The JavaScript interpreter takes no action when it executes an empty statement. The empty statement is occasionally useful when you want to create a loop that has an empty body. Consider the following for loop (for loops will be covered in §5.4.3):</p>
<blockquote>
<p>JavaScript解释器执行空语句时不执行任何操作。当要创建一个包含空主体的循环时，空语句有时会很有用。考虑以下 for 循环（for 循环将在 §5.4.3 中介绍）：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Initialize an array a</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; a[i++] = <span class="number">0</span>) ;</span><br></pre></td></tr></table></figure>
<p>In this loop, all the work is done by the expression <code>a[i++] = 0</code>, and no loop body is necessary. JavaScript syntax requires a statement as a loop body, however, so an empty statement—just a bare semicolon—is used.</p>
<blockquote>
<p>在此循环中，所有工作均由表达式 <code>a[i++] = 0</code> 完成，并且不需要循环体。JavaScript 语法需要一个语句作为循环体，因此使用一个空语句（仅一个裸分号）。</p>
</blockquote>
<p>Note that the accidental inclusion of a semicolon after the right parenthesis of a for loop, while loop, or if statement can cause frustrating bugs that are difficult to detect. For example, the following code probably does not do what the author intended:</p>
<blockquote>
<p>请注意，在 for 循环，while 循环或 if 语句的右括号后面意外地包含分号，可能导致令人沮丧的错误，难以检测。例如，以下代码可能不符合作者的意图：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ((a === <span class="number">0</span>) || (b === <span class="number">0</span>));  <span class="comment">// Oops! This line does nothing...</span></span><br><span class="line">    o = <span class="literal">null</span>;                 <span class="comment">// and this line is always executed.</span></span><br></pre></td></tr></table></figure>
<p>When you intentionally use the empty statement, it is a good idea to comment your code in a way that makes it clear that you are doing it on purpose. For example:</p>
<blockquote>
<p>当有意使用空语句时，以下注释代码是一种清楚表明是故意这样做的方式的好主意。 例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; a[i++] = <span class="number">0</span>) <span class="comment">/* empty */</span> ;</span><br></pre></td></tr></table></figure>
<h2 id="5-3-Conditionals"><a href="#5-3-Conditionals" class="headerlink" title="5.3 Conditionals"></a>5.3 Conditionals</h2><p>Conditional statements execute or skip other statements depending on the value of a specified expression. These statements are the decision points of your code, and they are also sometimes known as “branches.” If you imagine a JavaScript interpreter following a path through your code, the conditional statements are the places where the code branches into two or more paths and the interpreter must choose which path to follow.</p>
<blockquote>
<p>条件语句根据指定表达式的值执行或跳过其他语句。这些语句是代码的决策点，有时也称为“分支”。如果想象 JavaScript 解释器遵循代码路径，则条件语句是代码分支到两个或更多路径的位置，并且解释器必须选择要遵循的路径。</p>
</blockquote>
<p>The following subsections explain JavaScript’s basic conditional, the if&#x2F;else statement, and also cover switch, a more complicated, multiway branch statement.</p>
<blockquote>
<p>以下小节介绍了 JavaScript 的基本条件，if &#x2F; else 语句，还介绍了 switch，更复杂的多路分支语句。</p>
</blockquote>
<h3 id="5-3-1-if"><a href="#5-3-1-if" class="headerlink" title="5.3.1 if"></a>5.3.1 if</h3><p>The if statement is the fundamental control statement that allows JavaScript to make decisions, or, more precisely, to execute statements conditionally. This statement has two forms. The first is:</p>
<blockquote>
<p>if 语句是基本的控制语句，它允许 JavaScript 进行决策，或更准确地说，可以有条件地执行语句。该语句有两种形式。 第一个是：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>In this form, expression is evaluated. If the resulting value is truthy, statement is executed. If expression is falsy, statement is not executed. (See §3.4 for a definition of truthy and falsy values.) For example:</p>
<blockquote>
<p>以这种形式，表达式被评估。如果结果值为真，则执行语句。如果 expression 是假，则不执行语句。（有关真实值和假值的定义，请参见 §3.4。）例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (username == <span class="literal">null</span>)       <span class="comment">// If username is null or undefined,</span></span><br><span class="line">    username = <span class="string">&quot;John Doe&quot;</span>;  <span class="comment">// define it</span></span><br><span class="line"><span class="title class_">Or</span> <span class="attr">similarly</span>:</span><br><span class="line"></span><br><span class="line"><span class="comment">// If username is null, undefined, false, 0, &quot;&quot;, or NaN, give it a new value</span></span><br><span class="line"><span class="keyword">if</span> (!username) username = <span class="string">&quot;John Doe&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Note that the parentheses around the expression are a required part of the syntax for the if statement.</p>
<blockquote>
<p>请注意，表达式周围的括号是 if 语句语法的必需部分。</p>
</blockquote>
<p>JavaScript syntax requires a single statement after the if keyword and parenthesized expression, but you can use a statement block to combine multiple statements into one. So the if statement might also look like this:</p>
<blockquote>
<p>JavaScript 语法在 if 关键字和带括号的表达式之后需要一个语句，但是可以使用语句块将多个语句组合为一个。因此，if 语句也可能如下所示：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!address) &#123;</span><br><span class="line">    address = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    message = <span class="string">&quot;Please specify a mailing address.&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The second form of the if statement introduces an else clause that is executed when expression is false. Its syntax is:</p>
<blockquote>
<p>if 语句的第二种形式引入了 else 子句，当 expression 为 false 时将执行该子句。 它的语法是：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (expression)</span><br><span class="line">    statement1</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    statement2</span><br></pre></td></tr></table></figure>
<p>This form of the statement executes statement1 if expression is truthy and executes statement2 if expression is falsy. For example:</p>
<blockquote>
<p>如果 expression 为真，则此语句形式执行 statement1；如果 expression 为 false，则执行 statement2。 例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (n === <span class="number">1</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;You have 1 new message.&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`You have <span class="subst">$&#123;n&#125;</span> new messages.`</span>);</span><br></pre></td></tr></table></figure>
<p>When you have nested if statements with else clauses, some caution is required to ensure that the else clause goes with the appropriate if statement. Consider the following lines:</p>
<blockquote>
<p>当将带有 if 子句的 if 语句嵌套时，需要格外小心，以确保 else 子句与适当的 if 语句一起使用。考虑以下几行：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">i = j = <span class="number">1</span>;</span><br><span class="line">k = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (i === j)</span><br><span class="line">    <span class="keyword">if</span> (j === k)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i equals k&quot;</span>);</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i doesn&#x27;t equal j&quot;</span>);    <span class="comment">// WRONG!!</span></span><br></pre></td></tr></table></figure>
<p>In this example, the inner if statement forms the single statement allowed by the syntax of the outer if statement. Unfortunately, it is not clear (except from the hint given by the indentation) which if the else goes with. And in this example, the indentation is wrong, because a JavaScript interpreter actually interprets the previous example as:</p>
<blockquote>
<p>在此示例中，内部 if 语句形成外部 if 语句的语法允许的单个语句。不幸的是，不清楚（除非缩进提示）else 接连在哪个 if 后。 在此示例中，缩进是错误的，因为 JavaScript 解释器实际上将前面的示例解释为：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i === j) &#123;</span><br><span class="line">    <span class="keyword">if</span> (j === k)</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i equals k&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i doesn&#x27;t equal j&quot;</span>);    <span class="comment">// OOPS!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The rule in JavaScript (as in most programming languages) is that by default an else clause is part of the nearest if statement. To make this example less ambiguous and easier to read, understand, maintain, and debug, you should use curly braces:</p>
<blockquote>
<p>JavaScript 中的规则（与大多数编程语言一样）在默认情况下，else 子句是最接近的 if 语句的一部分。为了使此示例不太含糊且易于阅读、理解、维护和调试，应使用花括号： </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (i === j) &#123;</span><br><span class="line">    <span class="keyword">if</span> (j === k) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i equals k&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;  <span class="comment">// What a difference the location of a curly brace makes!</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;i doesn&#x27;t equal j&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Many programmers make a habit of enclosing the bodies of if and else statements (as well as other compound statements, such as while loops) within curly braces, even when the body consists of only a single statement. Doing so consistently can prevent the sort of problem just shown, and I advise you to adopt this practice. In this printed book, I place a premium on keeping example code vertically compact, and I do not always follow my own advice on this matter.</p>
<blockquote>
<p>许多程序员习惯将 if 和 else 语句（以及其他复合语句，例如 while 循环）的主体括在花括号内，即使主体仅由一个语句组成也是如此。始终如一地这样做可以防止出现刚才显示的问题，我建议采用这种做法。在这本书中，我非常重视保持示例代码在垂直方向上的紧凑性，并且在此问题上，我并不总是遵循自己的建议。</p>
</blockquote>
<h3 id="5-3-2-else-if"><a href="#5-3-2-else-if" class="headerlink" title="5.3.2 else if"></a>5.3.2 else if</h3><p>The if&#x2F;else statement evaluates an expression and executes one of two pieces of code, depending on the outcome. But what about when you need to execute one of many pieces of code? One way to do this is with an else if statement. else if is not really a JavaScript statement, but simply a frequently used programming idiom that results when repeated if&#x2F;else statements are used:</p>
<blockquote>
<p>if&#x2F;else 语句根据结果评估表达式并执行两段代码之一。但是，当需要执行许多代码之一时，该怎么办呢？一种方法是使用 else if 语句。else if 并不是真正的 JavaScript 语句，而只是一个经常使用的编程习惯用法，当使用重复的 if&#x2F;else 语句时会产生该习惯用法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (n === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// Execute code block #1</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (n === <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="comment">// Execute code block #2</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (n === <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">// Execute code block #3</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// If all else fails, execute block #4</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There is nothing special about this code. It is just a series of if statements, where each following if is part of the else clause of the previous statement. Using the else if idiom is preferable to, and more legible than, writing these statements out in their syntactically equivalent, fully nested form:</p>
<blockquote>
<p>此代码没有什么特别的。 它只是一系列的 if 语句，其后的每个 if 都是前一条语句的 else 子句的一部分。 使用 else if 惯用语比以语法上等效的完全嵌套形式写出这些语句更好，更易读：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (n === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// Execute code block #1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// Execute code block #2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (n === <span class="number">3</span>) &#123;</span><br><span class="line">            <span class="comment">// Execute code block #3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// If all else fails, execute block #4</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-3-3-switch"><a href="#5-3-3-switch" class="headerlink" title="5.3.3 switch"></a>5.3.3 switch</h3><p>An if statement causes a branch in the flow of a program’s execution, and you can use the else if idiom to perform a multiway branch. This is not the best solution, however, when all of the branches depend on the value of the same expression. In this case, it is wasteful to repeatedly evaluate that expression in multiple if statements.</p>
<blockquote>
<p>if 语句会导致程序执行流程中的分支，可以使用 else if 惯用法来执行多路分支。但是，当所有分支都依赖于同一表达式的值时，这不是最佳解决方案。在这种情况下，在多个 if 语句中重复评估该表达式是浪费性能的。</p>
</blockquote>
<p>The switch statement handles exactly this situation. The switch keyword is followed by an expression in parentheses and a block of code in curly braces:</p>
<blockquote>
<p>switch 语句完全可以处理这种情况。switch 关键字后跟一个括号中的表达式和一个花括号中的代码块：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(expression) &#123;</span><br><span class="line">    statements</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>However, the full syntax of a switch statement is more complex than this. Various locations in the block of code are labeled with the case keyword followed by an expression and a colon. When a switch executes, it computes the value of expression and then looks for a case label whose expression evaluates to the same value (where sameness is determined by the &#x3D;&#x3D;&#x3D; operator). If it finds one, it starts executing the block of code at the statement labeled by the case. If it does not find a case with a matching value, it looks for a statement labeled default:. If there is no default: label, the switch statement skips the block of code altogether.</p>
<blockquote>
<p>但是，switch 语句的完整语法比这更复杂。代码块中的各个位置都用 case 关键字标记，后跟一个表达式和一个冒号。switch 执行时，它将计算表达式的值，然后查找其表达式计算为相同值（其中相同性由 &#x3D;&#x3D;&#x3D; 运算符确定）的case标签。如果找到一个，它将开始在由 case 标记的语句处执行代码块。如果找不到与值匹配的个案，则查找标记为 default: 的语句。 如果没有 default: 标签，则 switch 语句将完全跳过该代码块。</p>
</blockquote>
<p>switch is a confusing statement to explain; its operation becomes much clearer with an example. The following switch statement is equivalent to the repeated if&#x2F;else statements shown in the previous section:</p>
<blockquote>
<p>switch 是一个令人困惑的陈述，难以解释；举个例子，它的操作变得更加清晰。以下 switch 语句等效于上一节中重复 if&#x2F;else 语句：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span>(n) &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:                        <span class="comment">// Start here if n === 1</span></span><br><span class="line">    <span class="comment">// Execute code block #1.</span></span><br><span class="line">    <span class="keyword">break</span>;                     <span class="comment">// Stop here</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:                        <span class="comment">// Start here if n === 2</span></span><br><span class="line">    <span class="comment">// Execute code block #2.</span></span><br><span class="line">    <span class="keyword">break</span>;                     <span class="comment">// Stop here</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:                        <span class="comment">// Start here if n === 3</span></span><br><span class="line">    <span class="comment">// Execute code block #3.</span></span><br><span class="line">    <span class="keyword">break</span>;                     <span class="comment">// Stop here</span></span><br><span class="line"><span class="attr">default</span>:                       <span class="comment">// If all else fails...</span></span><br><span class="line">    <span class="comment">// Execute code block #4.</span></span><br><span class="line">    <span class="keyword">break</span>;                     <span class="comment">// Stop here</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note the break keyword used at the end of each case in this code. The break statement, described later in this chapter, causes the interpreter to jump to the end (or “break out”) of the switch statement and continue with the statement that follows it. The case clauses in a switch statement specify only the starting point of the desired code; they do not specify any ending point. In the absence of break statements, a switch statement begins executing its block of code at the case label that matches the value of its expression and continues executing statements until it reaches the end of the block. On rare occasions, it is useful to write code like this that “falls through” from one case label to the next, but 99% of the time you should be careful to end every case with a break statement. (When using switch inside a function, however, you may use a return statement instead of a break statement. Both serve to terminate the switch statement and prevent execution from falling through to the next case.)</p>
<blockquote>
<p>请注意此代码中每种情况结尾处使用的 break 关键字。在本章后面介绍的 break 语句使解释器跳到 switch 语句的末尾（或“中断”），并继续其后的语句。 switch 语句中的 case 子句仅指定所需代码的起点；他们没有指定任何终点。在没有 break 语句的情况下，switch 语句在与其表达式值匹配的 case 标签处开始执行其代码块，并继续执行语句，直到到达该块的末尾为止。在极少数情况下，编写这样的代码（从一个案例标签到另一个案例）“贯穿”是很有用的，但是在 99％ 的使用中，应小心以 break 语句结束每个案例。（但是，在函数内部使用 switch 时，可以使用 return 语句而不是 break 语句。两者都可用于终止 switch 语句并防止执行陷入下一种情况。）</p>
</blockquote>
<p>Here is a more realistic example of the switch statement; it converts a value to a string in a way that depends on the type of the value:</p>
<blockquote>
<p>这是 switch 语句的一个更实际的示例；它将值转换为字符串的方式取决于值的类型：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">convert</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span>(<span class="keyword">typeof</span> x) &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;number&quot;</span>:            <span class="comment">// Convert the number to a hexadecimal integer</span></span><br><span class="line">        <span class="keyword">return</span> x.<span class="title function_">toString</span>(<span class="number">16</span>);</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;string&quot;</span>:            <span class="comment">// Return the string enclosed in quotes</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&quot;&#x27;</span> + x + <span class="string">&#x27;&quot;&#x27;</span>;</span><br><span class="line">    <span class="attr">default</span>:                  <span class="comment">// Convert any other type in the usual way</span></span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">String</span>(x);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note that in the two previous examples, the case keywords are followed by number and string literals, respectively. This is how the switch statement is most often used in practice, but note that the ECMAScript standard allows each case to be followed by an arbitrary expression.</p>
<blockquote>
<p>请注意，在前面的两个示例中，case 关键字后面分别跟有数字和字符串文字。这是实践中最经常使用 switch 语句的方式，但是请注意，ECMAScript 标准允许每种情况后面都可以有一个任意表达式。</p>
</blockquote>
<p>The switch statement first evaluates the expression that follows the switch keyword and then evaluates the case expressions, in the order in which they appear, until it finds a value that matches.1 The matching case is determined using the &#x3D;&#x3D;&#x3D; identity operator, not the &#x3D;&#x3D; equality operator, so the expressions must match without any type conversion.</p>
<blockquote>
<p>switch 语句首先评估 switch 关键字后面的表达式，然后按它们出现的顺序评估 case 表达式，直到找到匹配的值。[^1] 匹配的 case 是使用 &#x3D;&#x3D;&#x3D; 恒等运算符确定的，而不是 &#x3D;&#x3D; 相等运算符，因此表达式必须匹配，且不进行任何类型转换。</p>
</blockquote>
<p>Because not all of the case expressions are evaluated each time the switch statement is executed, you should avoid using case expressions that contain side effects such as function calls or assignments. The safest course is simply to limit your case expressions to constant expressions.</p>
<blockquote>
<p>由于并非每次执行 switch 语句时都会评估所有的 case 表达式，因此应避免使用包含副作用的 case 表达式，例如函数调用或赋值。最安全的方法只是将 case 表达式限制为常量表达式。</p>
</blockquote>
<p>As explained earlier, if none of the case expressions match the switch expression, the switch statement begins executing its body at the statement labeled default:. If there is no default: label, the switch statement skips its body altogether. Note that in the examples shown, the default: label appears at the end of the switch body, following all the case labels. This is a logical and common place for it, but it can actually appear anywhere within the body of the statement.</p>
<blockquote>
<p>如前所述，如果所有 case 表达式都不与 switch 表达式匹配，则 switch 语句将在标有 default: 的语句处开始执行其主体。如果没有 default: 标签，则 switch语句将完全跳过其主体。请注意，在所示示例中，default: 标签出现在 switch 主体的末尾，紧随所有案例标签之后。这是一个逻辑上通用的地方，但实际上它可以出现在语句主体内的任何位置。</p>
</blockquote>
<h2 id="5-4-Loops"><a href="#5-4-Loops" class="headerlink" title="5.4 Loops"></a>5.4 Loops</h2><p>To understand conditional statements, we imagined the JavaScript interpreter following a branching path through your source code. The looping statements are those that bend that path back upon itself to repeat portions of your code. JavaScript has five looping statements: while, do&#x2F;while, for, for&#x2F;of (and its for&#x2F;await variant), and for&#x2F;in. The following subsections explain each in turn. One common use for loops is to iterate over the elements of an array. §7.6 discusses this kind of loop in detail and covers special looping methods defined by the Array class.</p>
<blockquote>
<p>为了理解条件语句，我们假设 JavaScript 解释器遵循源代码中的分支路径。循环语句是那些使该路径重新弯曲以重复代码部分的语句。JavaScript 有五个循环语句：while、do&#x2F;while、for、for&#x2F;of（及其 for&#x2F;await 变体）和 for&#x2F;in。以下小节依次解释。循环的一种常见用法是遍历数组的元素。§7.6 详细讨论了这种循环，并涵盖了 Array 类定义的特殊循环方法。</p>
</blockquote>
<h3 id="5-4-1-while"><a href="#5-4-1-while" class="headerlink" title="5.4.1 while"></a>5.4.1 while</h3><p>Just as the if statement is JavaScript’s basic conditional, the while statement is JavaScript’s basic loop. It has the following syntax:</p>
<blockquote>
<p>正如 if 语句是 JavaScript 的基本条件一样，while 语句也是 JavaScript 的基本循环。它具有以下语法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (expression)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>To execute a while statement, the interpreter first evaluates expression. If the value of the expression is falsy, then the interpreter skips over the statement that serves as the loop body and moves on to the next statement in the program. If, on the other hand, the expression is truthy, the interpreter executes the statement and repeats, jumping back to the top of the loop and evaluating expression again. Another way to say this is that the interpreter executes statement repeatedly while the expression is truthy. Note that you can create an infinite loop with the syntax while(true).</p>
<blockquote>
<p>要执行 while 语句，解释器首先对表达式求值。如果表达式的值是假值，则解释器将跳过用作循环主体的语句，然后继续执行程序中的下一条语句。另一方面，如果表达式是真值，则解释器将执行该语句并重复，跳回到循环的顶部并再次评估表达式。另一种说法是，解释器在表达式为真时重复执行语句。请注意，可以使用 while(true) 语法创建无限循环。</p>
</blockquote>
<p>Usually, you do not want JavaScript to perform exactly the same operation over and over again. In almost every loop, one or more variables change with each iteration of the loop. Since the variables change, the actions performed by executing statement may differ each time through the loop. Furthermore, if the changing variable or variables are involved in expression, the value of the expression may be different each time through the loop. This is important; otherwise, an expression that starts off truthy would never change, and the loop would never end! Here is an example of a while loop that prints the numbers from 0 to 9:</p>
<blockquote>
<p>通常，不希望 JavaScript 一次又一次地执行完全相同的操作。在几乎每个循环中，一个或多个变量随循环的每次迭代而变化。由于变量会发生变化，因此每次循环执行时，执行语句所执行的动作可能会有所不同。此外，如果表达式中包含一个或多个变化的变量，则每次循环时表达式的值可能会有所不同。这个很重要；否则，以 true 开始的表达式将永远不会改变，循环永远不会结束！这是一个while循环的示例，该循环打印从 0 到 9 的数字：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(count &lt; <span class="number">10</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As you can see, the variable count starts off at 0 and is incremented each time the body of the loop runs. Once the loop has executed 10 times, the expression becomes false (i.e., the variable count is no longer less than 10), the while statement finishes, and the interpreter can move on to the next statement in the program. Many loops have a counter variable like count. The variable names i, j, and k are commonly used as loop counters, though you should use more descriptive names if it makes your code easier to understand.</p>
<blockquote>
<p>如你所见，变量计数从 0 开始，并在每次循环主体运行时递增。循环执行 10 次后，表达式变为 false（即变量计数不小于 10），while 语句结束，解释器可以继续执行程序中的下一个语句。许多循环都有一个计数器变量，例如 count。变量名 i、j 和 k 通常用作循环计数器，但是如果可以使代码更易于理解，则应使用更具描述性的名称。</p>
</blockquote>
<h3 id="5-4-2-do-x2F-while"><a href="#5-4-2-do-x2F-while" class="headerlink" title="5.4.2 do&#x2F;while"></a>5.4.2 do&#x2F;while</h3><p>The do&#x2F;while loop is like a while loop, except that the loop expression is tested at the bottom of the loop rather than at the top. This means that the body of the loop is always executed at least once. The syntax is:</p>
<blockquote>
<p>do&#x2F;while 循环类似于 while 循环，除了循环表达式是在循环的底部而不是顶部进行测试的。这意味着循环的主体始终至少执行一次。语法为：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span></span><br><span class="line">    statement</span><br><span class="line"><span class="keyword">while</span> (expression);</span><br></pre></td></tr></table></figure>
<p>The do&#x2F;while loop is less commonly used than its while cousin—in practice, it is somewhat uncommon to be certain that you want a loop to execute at least once. Here’s an example of a do&#x2F;while loop:</p>
<blockquote>
<p>do&#x2F;while 循环不如 while 常用——在实践中，确定要至少执行一次循环在某种程度上并不常见。这是 do&#x2F;while 循环的示例：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">printArray</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> len = a.<span class="property">length</span>, i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (len === <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Empty Array&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(a[i]);</span><br><span class="line">        &#125; <span class="keyword">while</span>(++i &lt; len);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>There are a couple of syntactic differences between the do&#x2F;while loop and the ordinary while loop. First, the do loop requires both the do keyword (to mark the beginning of the loop) and the while keyword (to mark the end and introduce the loop condition). Also, the do loop must always be terminated with a semicolon. The while loop doesn’t need a semicolon if the loop body is enclosed in curly braces.</p>
<blockquote>
<p>do&#x2F;while 循环和普通的 while 循环之间在语法上有一些区别。首先，do 循环需要同时使用do关键字（以标记循环的开始）和while关键字（以标记结束并引入循环条件）。 另外，do 循环必须始终以分号终止。如果循环主体用花括号括起来，则 while 循环不需要分号。</p>
</blockquote>
<h3 id="5-4-3-for"><a href="#5-4-3-for" class="headerlink" title="5.4.3 for"></a>5.4.3 for</h3><p>The for statement provides a looping construct that is often more convenient than the while statement. The for statement simplifies loops that follow a common pattern. Most loops have a counter variable of some kind. This variable is initialized before the loop starts and is tested before each iteration of the loop. Finally, the counter variable is incremented or otherwise updated at the end of the loop body, just before the variable is tested again. In this kind of loop, the initialization, the test, and the update are the three crucial manipulations of a loop variable. The for statement encodes each of these three manipulations as an expression and makes those expressions an explicit part of the loop syntax:</p>
<blockquote>
<p>for 语句提供了一个循环构造，通常比 while 语句更方便。 for 语句简化了遵循通用模式的循环。大多数循环都有某种计数器变量。在循环开始之前初始化此变量，并在每次循环迭代之前对其进行测试。最后，在再次测试变量之前，计数器变量在循环主体的末尾增加或更新。在这种循环中，初始化、测试和更新是循环变量的三个关键操作。for 语句将这三个操作中的每一个都编码为一个表达式，并使这些表达式成为循环语法的显式部分：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(initialize ; test ; increment)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>initialize, test, and increment are three expressions (separated by semicolons) that are responsible for initializing, testing, and incrementing the loop variable. Putting them all in the first line of the loop makes it easy to understand what a for loop is doing and prevents mistakes such as forgetting to initialize or increment the loop variable.</p>
<blockquote>
<p>初始化、测试和递增三个表达式（用分号分隔）。将它们全部放入循环的第一行可轻松了解 for 循环的作用，并防止诸如忘记初始化或增加循环变量之类的错误。</p>
</blockquote>
<p>The simplest way to explain how a for loop works is to show the equivalent while loop:2</p>
<blockquote>
<p>解释 for 循环如何工作的最简单方法是显示等效的while循环：[^2]</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">initialize;</span><br><span class="line"><span class="keyword">while</span>(test) &#123;</span><br><span class="line">    statement</span><br><span class="line">    increment;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In other words, the initialize expression is evaluated once, before the loop begins. To be useful, this expression must have side effects (usually an assignment). JavaScript also allows initialize to be a variable declaration statement so that you can declare and initialize a loop counter at the same time. The test expression is evaluated before each iteration and controls whether the body of the loop is executed. If test evaluates to a truthy value, the statement that is the body of the loop is executed. Finally, the increment expression is evaluated. Again, this must be an expression with side effects in order to be useful. Generally, it is either an assignment expression, or it uses the ++ or – operators.</p>
<blockquote>
<p>换句话说，在循环开始之前，对初始化表达式进行一次求值。该表达式必须具有副作用（通常是赋值）。JavaScript 还允许将初始化用作变量声明语句，以便可以同时声明和初始化循环计数器。测试表达式在每次迭代之前进行评估，并控制是否执行循环主体。如果测试评估为真值，则执行作为循环主体的语句。最后，计算增量表达式。同样，该表达式必须是具有副作用的表达式才有效。通常，它可以是赋值表达式，也可以使用 ++ 或 – 运算符。</p>
</blockquote>
<p>We can print the numbers from 0 to 9 with a for loop like the following. Contrast it with the equivalent while loop shown in the previous section:</p>
<blockquote>
<p>我们可以使用如下所示的 for 循环打印 0 到 9 之间的数字。 将其与上一节中显示的等效 while 循环进行对比：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> count = <span class="number">0</span>; count &lt; <span class="number">10</span>; count++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(count);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Loops can become a lot more complex than this simple example, of course, and sometimes multiple variables change with each iteration of the loop. This situation is the only place that the comma operator is commonly used in JavaScript; it provides a way to combine multiple initialization and increment expressions into a single expression suitable for use in a for loop:</p>
<blockquote>
<p>当然，循环比这个简单的例子要复杂得多，有时循环的每次迭代都会改变多个变量。这种情况是在 JavaScript 中唯一使用逗号运算符的地方。它提供了一种将多个初始化和增量表达式组合成适合在 for 循环中使用的单个表达式的方法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> i, j, sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>, j = <span class="number">10</span> ; i &lt; <span class="number">10</span> ; i++, j--) &#123;</span><br><span class="line">    sum += i * j;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In all our loop examples so far, the loop variable has been numeric. This is quite common but is not necessary. The following code uses a for loop to traverse a linked list data structure and return the last object in the list (i.e., the first object that does not have a next property):</p>
<blockquote>
<p>到目前为止，在我们所有的循环示例中，循环变量都是数字。这是很常见的，但不是必需的。以下代码使用 for 循环遍历链接列表数据结构并返回列表中的最后一个对象（即第一个不具有 next 属性的对象）：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">tail</span>(<span class="params">o</span>) &#123;                          <span class="comment">// Return the tail of linked list o</span></span><br><span class="line">    <span class="keyword">for</span>(; o.<span class="property">next</span>; o = o.<span class="property">next</span>) <span class="comment">/* empty */</span> ; <span class="comment">// Traverse while o.next is truthy</span></span><br><span class="line">    <span class="keyword">return</span> o;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note that this code has no initialize expression. Any of the three expressions may be omitted from a for loop, but the two semicolons are required. If you omit the test expression, the loop repeats forever, and for(;;) is another way of writing an infinite loop, like while(true).</p>
<blockquote>
<p>请注意，此代码没有初始化表达式。for 循环可以省略三个表达式中的任何一个，但是需要两个分号。如果省略测试表达式，则循环将永远重复，而 for（;;）是编写无限循环的另一种方式，例如 while(true)。</p>
</blockquote>
<h3 id="5-4-4-for-x2F-of"><a href="#5-4-4-for-x2F-of" class="headerlink" title="5.4.4 for&#x2F;of"></a>5.4.4 for&#x2F;of</h3><p>ES6 defines a new loop statement: for&#x2F;of. This new kind of loop uses the for keyword but is a completely different kind of loop than the regular for loop. (It is also completely different than the older for&#x2F;in loop that we’ll describe in §5.4.5.)</p>
<blockquote>
<p>ES6 定义了一个新的循环语句：for&#x2F;of。这种新的循环使用 for 关键字，但是与常规的 for 循环完全不同。（它也与我们在 §5.4.5 中描述的较早的 for&#x2F;in 循环完全不同。）</p>
</blockquote>
<p>The for&#x2F;of loop works with iterable objects. We’ll explain exactly what it means for an object to be iterable in Chapter 12, but for this chapter, it is enough to know that arrays, strings, sets, and maps are iterable: they represent a sequence or set of elements that you can loop or iterate through using a for&#x2F;of loop.</p>
<blockquote>
<p>for&#x2F;of 循环适用于可迭代对象。我们将在第 12 章中确切解释对象可迭代的含义，但是对于本章而言，知道数组、字符串、set 和 map 是可迭代的足以：它们代表了所需要可以使用 for&#x2F;of 循环的序列或元素集合。</p>
</blockquote>
<p>Here, for example, is how we can use for&#x2F;of to loop through the elements of an array of numbers and compute their sum:</p>
<blockquote>
<p>例如，这里是我们如何使用 for&#x2F;of 遍历数字数组的元素并计算它们的总和的方法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> element <span class="keyword">of</span> data) &#123;</span><br><span class="line">    sum += element;</span><br><span class="line">&#125;</span><br><span class="line">sum       <span class="comment">// =&gt; 45</span></span><br></pre></td></tr></table></figure>
<p>Superficially, the syntax looks like a regular for loop: the for keyword is followed by parentheses that contain details about what the loop should do. In this case, the parentheses contain a variable declaration (or, for variables that have already been declared, simply the name of the variable) followed by the of keyword and an expression that evaluates to an iterable object, like the data array in this case. As with all loops, the body of a for&#x2F;of loop follows the parentheses, typically within curly braces.</p>
<blockquote>
<p>从表面上看，语法看起来像是常规的 for 循环：for 关键字后面是括号，其中包含有关循环应执行的操作的详细信息。在这种情况下，括号中包含一个变量声明（或者对于已经声明的变量，仅是变量的名称），后跟 of 关键字和一个表达式，该表达式的结果为可迭代对象，例如本例中的数据数组。与所有循环一样，for&#x2F;of 循环的主体跟随括号后，通常在花括号内。</p>
</blockquote>
<p>In the code just shown, the loop body runs once for each element of the data array. Before each execution of the loop body, the next element of the array is assigned to the element variable. Array elements are iterated in order from first to last.</p>
<blockquote>
<p>在刚刚显示的代码中，循环主体为数据数组的每个元素运行一次。在每次执行循环主体之前，将数组的下一个元素分配给 element 变量。数组元素从第一个到最后一个顺序进行迭代。</p>
</blockquote>
<p>Arrays are iterated “live”—changes made during the iteration may affect the outcome of the iteration. If we modify the preceding code by adding the line data.push(sum); inside the loop body, then we create an infinite loop because the iteration can never reach the last element of the array.</p>
<blockquote>
<p>数组是“实时”迭代的，在迭代过程中进行的更改可能会影响迭代的结果。如果我们通过添加行 <code>data.push(sum);</code> 在循环体内修改前面的代码，我们则创建一个无限循环，因为迭代永远无法到达数组的最后一个元素。</p>
</blockquote>
<h4 id="FOR-x2F-OF-WITH-OBJECTS"><a href="#FOR-x2F-OF-WITH-OBJECTS" class="headerlink" title="FOR&#x2F;OF WITH OBJECTS"></a>FOR&#x2F;OF WITH OBJECTS</h4><p>Objects are not (by default) iterable. Attempting to use for&#x2F;of on a regular object throws a TypeError at runtime:</p>
<blockquote>
<p>对象是不可迭代的（默认情况下）。尝试在常规对象上使用 for&#x2F;of 会在运行时引发 TypeError：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> element <span class="keyword">of</span> o) &#123; <span class="comment">// Throws TypeError because o is not iterable</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(element);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>If you want to iterate through the properties of an object, you can use the for&#x2F;in loop (introduced in §5.4.5), or use for&#x2F;of with the Object.keys() method:</p>
<blockquote>
<p>如果要遍历对象的属性，则可以使用 for&#x2F;in 循环（在 §5.4.5 中介绍），或通过 Object.keys() 方法使用 for&#x2F;of：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> keys = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> k <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(o)) &#123;</span><br><span class="line">    keys += k;</span><br><span class="line">&#125;</span><br><span class="line">keys  <span class="comment">// =&gt; &quot;xyz&quot;</span></span><br></pre></td></tr></table></figure>
<p>This works because Object.keys() returns an array of property names for an object, and arrays are iterable with for&#x2F;of. Note also that this iteration of the keys of an object is not live as the array example above was—changes to the object o made in the loop body will have no effect on the iteration. If you don’t care about the keys of an object, you can also iterate through their corresponding values like this:</p>
<blockquote>
<p>之所以可行，是因为 Object.keys() 返回一个对象的属性名称数组，并且该数组可以使用 for&#x2F;of 进行迭代。还要注意，对象的键的这种迭代不像上面的数组示例那样有效——在循环主体中对对象 o 所做的更改将对该迭代没有影响。 如果您不关心对象的键，也可以像下面这样遍历它们的对应值：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> v <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">values</span>(o)) &#123;</span><br><span class="line">    sum += v;</span><br><span class="line">&#125;</span><br><span class="line">sum <span class="comment">// =&gt; 6</span></span><br></pre></td></tr></table></figure>
<p>And if you are interested in both the keys and the values of an object’s properties, you can use for&#x2F;of with Object.entries() and destructuring assignment:</p>
<blockquote>
<p>而且，如果对对象属性的键和值都感兴趣，则可以将 Object.entries() 与 for&#x2F;of 一起使用，并销毁赋值：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pairs = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [k, v] <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">entries</span>(o)) &#123;</span><br><span class="line">    pairs += k + v;</span><br><span class="line">&#125;</span><br><span class="line">pairs  <span class="comment">// =&gt; &quot;x1y2z3&quot;</span></span><br></pre></td></tr></table></figure>
<p>Object.entries() returns an array of arrays, where each inner array represents a key&#x2F;value pair for one property of the object. We use destructuring assignment in this code example to unpack those inner arrays into two individual variables.</p>
<blockquote>
<p>Object.entries() 返回一个数组的数组，其中每个内部数组代表对象一个属性的键 &#x2F; 值对。在此代码示例中，我们使用解构将这些内部数组拆成两个单独的变量。</p>
</blockquote>
<h4 id="FOR-x2F-OF-WITH-STRINGS"><a href="#FOR-x2F-OF-WITH-STRINGS" class="headerlink" title="FOR&#x2F;OF WITH STRINGS"></a>FOR&#x2F;OF WITH STRINGS</h4><p>Strings are iterable character-by-character in ES6:</p>
<blockquote>
<p>在 ES6 中，字符串是一个一个字符可迭代对象：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> frequency = &#123;&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> letter <span class="keyword">of</span> <span class="string">&quot;mississippi&quot;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (frequency[letter]) &#123;</span><br><span class="line">        frequency[letter]++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        frequency[letter] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">frequency   <span class="comment">// =&gt; &#123;m: 1, i: 4, s: 4, p: 2&#125;</span></span><br></pre></td></tr></table></figure>
<p>Note that strings are iterated by Unicode codepoint, not by UTF-16 character. The string “I ❤ ” has a .length of 5 (because the two emoji characters each require two UTF-16 characters to represent). But if you iterate that string with for&#x2F;of, the loop body will run three times, once for each of the three code points “I”, “❤”, and “.”</p>
<blockquote>
<p>请注意，字符串是通过 Unicode 麻点而不是 UTF-16 字符进行迭代的。字符串“ I❤”的长度为 5（因为两个表情符号字符每个都需要两个 UTF-16 字符来表示）。但是，如果使用 for&#x2F;of 迭代该字符串，则循环主体将运行三次，对于三个麻点“ I”，“❤”和“.”中的每一个都运行一次。</p>
</blockquote>
<h4 id="FOR-x2F-OF-WITH-SET-AND-MAP"><a href="#FOR-x2F-OF-WITH-SET-AND-MAP" class="headerlink" title="FOR&#x2F;OF WITH SET AND MAP"></a>FOR&#x2F;OF WITH SET AND MAP</h4><p>The built-in ES6 Set and Map classes are iterable. When you iterate a Set with for&#x2F;of, the loop body runs once for each element of the set. You could use code like this to print the unique words in a string of text:</p>
<blockquote>
<p>ES6 内置的 Set 和 Map 类是可迭代的。当使用 for&#x2F;of 迭代 Set 时，循环主体对 set 的每个元素运行一次。可以使用如下代码在文本字符串中打印出唯一的单词：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text = <span class="string">&quot;Na na na na na na na na Batman!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> wordSet = <span class="keyword">new</span> <span class="title class_">Set</span>(text.<span class="title function_">split</span>(<span class="string">&quot; &quot;</span>));</span><br><span class="line"><span class="keyword">let</span> unique = [];</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> word <span class="keyword">of</span> wordSet) &#123;</span><br><span class="line">    unique.<span class="title function_">push</span>(word);</span><br><span class="line">&#125;</span><br><span class="line">unique <span class="comment">// =&gt; [&quot;Na&quot;, &quot;na&quot;, &quot;Batman!&quot;]</span></span><br></pre></td></tr></table></figure>
<p>Maps are an interesting case because the iterator for a Map object does not iterate the Map keys, or the Map values, but key&#x2F;value pairs. Each time through the iteration, the iterator returns an array whose first element is a key and whose second element is the corresponding value. Given a Map m, you could iterate and destructure its key&#x2F;value pairs like this:</p>
<blockquote>
<p>Map 是一种有趣的情况，因为 Map 对象的迭代器不会迭代 Map 键或 Map 值，而是键 &#x2F; 值对。每次迭代时，迭代器都会返回一个数组，该数组的第一个元素是键，而第二个元素是对应的值。给定一个 Map m，可以像这样迭代和解构其键 &#x2F; 值对：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>([[<span class="number">1</span>, <span class="string">&quot;one&quot;</span>]]);</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> [key, value] <span class="keyword">of</span> m) &#123;</span><br><span class="line">    key    <span class="comment">// =&gt; 1</span></span><br><span class="line">    value  <span class="comment">// =&gt; &quot;one&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ASYNCHRONOUS-ITERATION-WITH-FOR-x2F-AWAIT"><a href="#ASYNCHRONOUS-ITERATION-WITH-FOR-x2F-AWAIT" class="headerlink" title="ASYNCHRONOUS ITERATION WITH FOR&#x2F;AWAIT"></a>ASYNCHRONOUS ITERATION WITH FOR&#x2F;AWAIT</h4><p>ES2018 introduces a new kind of iterator, known as an asynchronous iterator, and a variant on the for&#x2F;of loop, known as the for&#x2F;await loop that works with asynchronous iterators.</p>
<blockquote>
<p>ES2018 引入了一种新型的迭代器，称为异步迭代器，以及 for&#x2F;of 循环的一种变体，即与异步迭代器一起使用的 for&#x2F;await 循环。</p>
</blockquote>
<p>You’ll need to read Chapters 12 and 13 in order to understand the for&#x2F;await loop, but here is how it looks in code:</p>
<blockquote>
<p>需要阅读第 12 章和第 13 章，才能了解 for&#x2F;await 循环，这里展示一下它的代码：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Read chunks from an asynchronously iterable stream and print them out</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">printStream</span>(<span class="params">stream</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">let</span> chunk <span class="keyword">of</span> stream) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(chunk);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-4-5-for-x2F-in"><a href="#5-4-5-for-x2F-in" class="headerlink" title="5.4.5 for&#x2F;in"></a>5.4.5 for&#x2F;in</h3><p>A for&#x2F;in loop looks a lot like a for&#x2F;of loop, with the of keyword changed to in. While a for&#x2F;of loop requires an iterable object after the of, a for&#x2F;in loop works with any object after the in. The for&#x2F;of loop is new in ES6, but for&#x2F;in has been part of JavaScript since the very beginning (which is why it has the more natural sounding syntax).</p>
<blockquote>
<p>for&#x2F;in 循环看起来很像 for&#x2F;of 循环，将 of 关键字更改为 in。for&#x2F;of 循环在 of 之后需要可迭代的对象，而 for&#x2F;in 循环则在 in 之后可用于任何对象。for&#x2F;of 循环是 ES6 中的新功能，但是 for&#x2F;in 从一开始就已经是 JavaScript 的一部分（这就是为什么它具有更自然的发音语法）。</p>
</blockquote>
<p>The for&#x2F;in statement loops through the property names of a specified object. The syntax looks like this:</p>
<blockquote>
<p>for&#x2F;in 语句循环遍历指定对象的属性名称。语法如下所示：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">in</span> object)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>variable typically names a variable, but it may be a variable declaration or anything suitable as the left-hand side of an assignment expression. object is an expression that evaluates to an object. As usual, statement is the statement or statement block that serves as the body of the loop.</p>
<blockquote>
<p>变量通常命名为变量，但它可以是变量声明或任何适合作为赋值表达式左侧的内容。object 是一个计算结果为对象的表达式。像往常一样，statement 是用作循环正文的语句或语句块。</p>
</blockquote>
<p>And you might use a for&#x2F;in loop like this:</p>
<blockquote>
<p>可能会使用如下所示的 for&#x2F;in 循环：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;      <span class="comment">// Assign property names of o to variable p</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(o[p]); <span class="comment">// Print the value of each property</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To execute a for&#x2F;in statement, the JavaScript interpreter first evaluates the object expression. If it evaluates to null or undefined, the interpreter skips the loop and moves on to the next statement. The interpreter now executes the body of the loop once for each enumerable property of the object. Before each iteration, however, the interpreter evaluates the variable expression and assigns the name of the property (a string value) to it.</p>
<blockquote>
<p>为了执行 for&#x2F;in 语句，JavaScript 解释器首先评估对象表达式。如果评估结果为 null 或未定义，则解释器将跳过循环并继续执行下一条语句。现在，解释器对对象的每个可枚举属性执行一次循环主体。但是，在每次迭代之前，解释器都会对变量表达式求值，并为其分配属性名称（字符串值）。</p>
</blockquote>
<p>Note that the variable in the for&#x2F;in loop may be an arbitrary expression, as long as it evaluates to something suitable for the left side of an assignment. This expression is evaluated each time through the loop, which means that it may evaluate differently each time. For example, you can use code like the following to copy the names of all object properties into an array:</p>
<blockquote>
<p>请注意，for&#x2F;in 循环中的变量可以是任意表达式，只要它的计算结果适合于赋值的左侧即可。每次通过循环都会对该表达式进行求值，这意味着它每次都可能会进行不同的求值。例如，可以使用以下代码将所有对象属性的名称复制到数组中：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> a = [], i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(a[i++] <span class="keyword">in</span> o) <span class="comment">/* empty */</span>;</span><br></pre></td></tr></table></figure>
<p>JavaScript arrays are simply a specialized kind of object, and array indexes are object properties that can be enumerated with a for&#x2F;in loop. For example, following the previous code with this line enumerates the array indexes 0, 1, and 2:</p>
<blockquote>
<p>JavaScript 数组只是一种特殊的对象，而数组索引是可以用 for&#x2F;in 循环枚举的对象属性。例如，在前面的代码之后加上此行，将枚举数组索引 0、1 和 2：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">in</span> a) <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br></pre></td></tr></table></figure>
<p>I find that a common source of bugs in my own code is the accidental use of for&#x2F;in with arrays when I meant to use for&#x2F;of. When working with arrays, you almost always want to use for&#x2F;of instead of for&#x2F;in.</p>
<blockquote>
<p>我发现我自己的代码中常见的错误源是当我打算使用 for&#x2F;of 时偶然将 for&#x2F;in 与数组结合使用。使用数组时，几乎总是要使用 for&#x2F;of 而不是 for&#x2F;in。</p>
</blockquote>
<p>The for&#x2F;in loop does not actually enumerate all properties of an object. It does not enumerate properties whose names are symbols. And of the properties whose names are strings, it only loops over the enumerable properties (see §14.1). The various built-in methods defined by core JavaScript are not enumerable. All objects have a toString() method, for example, but the for&#x2F;in loop does not enumerate this toString property. In addition to built-in methods, many other properties of the built-in objects are non-enumerable. All properties and methods defined by your code are enumerable, by default. (You can make them non-enumerable using techniques explained in §14.1.)</p>
<blockquote>
<p>for&#x2F;in 循环实际上并未枚举对象的所有属性。它不枚举名称为符号的属性。在名称为字符串的属性中，它仅循环可枚举的属性（请参见第14.1节）。核心 JavaScript 定义的各种内置方法是无法枚举的。例如，所有对象都具有 toString() 方法，但是 for&#x2F;in 循环不会枚举此 toString 属性。除了内置方法之外，内置对象的许多其他属性也是不可枚举的。 默认情况下，代码定义的所有属性和方法都是可枚举的。（可以使用 §14.1 中介绍的技术使它们不可枚举。）</p>
</blockquote>
<p>Enumerable inherited properties (see §6.3.2) are also enumerated by the for&#x2F;in loop. This means that if you use for&#x2F;in loops and also use code that defines properties that are inherited by all objects, then your loop may not behave in the way you expect. For this reason, many programmers prefer to use a for&#x2F;of loop with Object.keys() instead of a for&#x2F;in loop.</p>
<blockquote>
<p>for&#x2F;in 循环还枚举了可枚举的继承属性（参见 §6.3.2）。这意味着，如果使用 for&#x2F;in 循环，并且还使用定义所有对象都继承的属性的代码，则的循环可能无法按照您期望的方式运行。因此，许多程序员更喜欢对 Object.keys() 使用 for&#x2F;of 循环，而不是 for&#x2F;in 循环。</p>
</blockquote>
<p>If the body of a for&#x2F;in loop deletes a property that has not yet been enumerated, that property will not be enumerated. If the body of the loop defines new properties on the object, those properties may or may not be enumerated. See §6.6.1 for more information on the order in which for&#x2F;in enumerates the properties of an object.</p>
<blockquote>
<p>如果 for&#x2F;in 循环的主体删除了尚未枚举的属性，则不会枚举该属性。如果循环的主体在对象上定义了新属性，则这些属性可能会也可能不会被枚举。有关 for&#x2F;in 枚举对象属性的顺序的更多信息，请参见 §6.6.1。</p>
</blockquote>
<h2 id="5-5-Jumps"><a href="#5-5-Jumps" class="headerlink" title="5.5 Jumps"></a>5.5 Jumps</h2><p>Another category of JavaScript statements are jump statements. As the name implies, these cause the JavaScript interpreter to jump to a new location in the source code. The break statement makes the interpreter jump to the end of a loop or other statement. continue makes the interpreter skip the rest of the body of a loop and jump back to the top of a loop to begin a new iteration. JavaScript allows statements to be named, or labeled, and break and continue can identify the target loop or other statement label.</p>
<blockquote>
<p>JavaScript 语句的另一类是跳转语句。顾名思义，这些会导致 JavaScript 解释器跳至源代码中的新位置。break 语句使解释器跳到循环或其他语句的末尾。continue 使解释器跳过循环主体的其余部分，然后跳回到循环的顶部以开始新的迭代。JavaScript 允许对语句进行命名或标记，并且 break 和 continue 可以标识目标循环或其他语句标签。</p>
</blockquote>
<p>The return statement makes the interpreter jump from a function invocation back to the code that invoked it and also supplies the value for the invocation. The throw statement is a kind of interim return from a generator function. The throw statement raises, or throws, an exception and is designed to work with the try&#x2F;catch&#x2F;finally statement, which establishes a block of exception-handling code. This is a complicated kind of jump statement: when an exception is thrown, the interpreter jumps to the nearest enclosing exception handler, which may be in the same function or up the call stack in an invoking function.</p>
<blockquote>
<p>return 语句使解释器从函数调用跳回到调用它的代码，并提供该调用的值。throw 语句是生成器函数的一种临时返回。throw 语句引发或抛出异常，并设计为与 try&#x2F;catch&#x2F;finally 语句一起使用，该语句建立一个异常处理代码块。这是一种复杂的跳转语句：抛出异常时，解释器将跳转到最近的封闭异常处理程序，该处理程序可以在同一函数中，也可以在调用函数中的调用堆栈中向上移动。</p>
</blockquote>
<p>Details about each of these jump statements are in the sections that follow.</p>
<blockquote>
<p>有关这些跳转语句的详细信息，请参见以下各节。</p>
</blockquote>
<h3 id="5-5-1-Labeled-Statements"><a href="#5-5-1-Labeled-Statements" class="headerlink" title="5.5.1 Labeled Statements"></a>5.5.1 Labeled Statements</h3><p>Any statement may be labeled by preceding it with an identifier and a colon:</p>
<blockquote>
<p>任何语句都可以在其前面加上标识符和冒号来标记：</p>
</blockquote>
<p>identifier: statement</p>
<blockquote>
<p>标识符: 语句</p>
</blockquote>
<p>By labeling a statement, you give it a name that you can use to refer to it elsewhere in your program. You can label any statement, although it is only useful to label statements that have bodies, such as loops and conditionals. By giving a loop a name, you can use break and continue statements inside the body of the loop to exit the loop or to jump directly to the top of the loop to begin the next iteration. break and continue are the only JavaScript statements that use statement labels; they are covered in the following subsections. Here is an example of a labeled while loop and a continue statement that uses the label.</p>
<blockquote>
<p>通过给语句加标签，可以为它指定一个名称，可以使用该名称在程序的其他位置引用它。可以标记任何语句，尽管只有于标记具有主体（例如循环和条件）的语句才有用。通过给循环命名，可以在循环体内使用 break 和 continue 语句退出循环或直接跳转到循环顶部以开始下一个迭代。break 和 continue 是唯一使用语句标签的 JavaScript 语句；它们在以下小节中介绍。这是一个带有标签的 while 循环和一个使用该标签的 continue 语句的示例。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mainloop</span>: <span class="keyword">while</span>(token !== <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// Code omitted...</span></span><br><span class="line">    <span class="keyword">continue</span> mainloop;  <span class="comment">// Jump to the next iteration of the named loop</span></span><br><span class="line">    <span class="comment">// More code omitted...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>The identifier you use to label a statement can be any legal JavaScript identifier that is not a reserved word. The namespace for labels is different than the namespace for variables and functions, so you can use the same identifier as a statement label and as a variable or function name. Statement labels are defined only within the statement to which they apply (and within its substatements, of course). A statement may not have the same label as a statement that contains it, but two statements may have the same label as long as neither one is nested within the other. Labeled statements may themselves be labeled. Effectively, this means that any statement may have multiple labels.</p>
<blockquote>
<p>用于标记语句的标识符可以是非保留字的任何合法 JavaScript 标识符。标签的命名空间与变量和函数的命名空间不同，因此可以将相同的标识符用作语句标签以及变量或函数名称。语句标签仅在它们适用的语句内定义（当然，在其子语句中也定义）。一条语句可能没有与包含该语句的语句相同的标签，但是两个语句都可以具有相同的标签，只要两个语句都不嵌套在另一个语句中即可。带标签的语句本身可以被标记。实际上，这意味着任何语句都可以具有多个标签。</p>
</blockquote>
<h3 id="5-5-2-break"><a href="#5-5-2-break" class="headerlink" title="5.5.2 break"></a>5.5.2 break</h3><p>The break statement, used alone, causes the innermost enclosing loop or switch statement to exit immediately. Its syntax is simple:</p>
<blockquote>
<p>单独使用 break 语句会使最里面的循环或 switch 语句立即退出。它的语法很简单：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">break</span>;</span><br></pre></td></tr></table></figure>
<p>Because it causes a loop or switch to exit, this form of the break statement is legal only if it appears inside one of these statements.</p>
<blockquote>
<p>因为它导致循环或开关退出，所以这种形式的break语句仅当出现在这些语句之一内时才是合法的。</p>
</blockquote>
<p>You’ve already seen examples of the break statement within a switch statement. In loops, it is typically used to exit prematurely when, for whatever reason, there is no longer any need to complete the loop. When a loop has complex termination conditions, it is often easier to implement some of these conditions with break statements rather than trying to express them all in a single loop expression. The following code searches the elements of an array for a particular value. The loop terminates in the normal way when it reaches the end of the array; it terminates with a break statement if it finds what it is looking for in the array:</p>
<blockquote>
<p>您已经在 switch 语句中看到了 break 语句的示例。在循环中，通常由于某种原因而不再需要完成循环时，它会过早退出。当循环具有复杂的终止条件时，通常使用 break 语句更容易实现其中一些条件，而不是尝试在单个循环表达式中全部表达它们。以下代码在数组的元素中搜索特定值。当循环到达数组末尾时，循环以通常的方式终止。如果在数组中找到要查找的内容，则以 break 语句终止：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; a.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (a[i] === target) <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JavaScript also allows the break keyword to be followed by a statement label (just the identifier, with no colon):</p>
<blockquote>
<p>JavaScript 还允许 break 关键字后跟一个语句标签（只是标识符，没有冒号）：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">break labelname;</span><br></pre></td></tr></table></figure>
<p>When break is used with a label, it jumps to the end of, or terminates, the enclosing statement that has the specified label. It is a syntax error to use break in this form if there is no enclosing statement with the specified label. With this form of the break statement, the named statement need not be a loop or switch: break can “break out of” any enclosing statement. This statement can even be a statement block grouped within curly braces for the sole purpose of naming the block with a label.</p>
<blockquote>
<p>当 break 与标签一起使用时，它跳转到具有指定标签的封闭语句的末尾或终止。如果没有带有指定标签的封闭语句，则使用这种形式的 break 是语法错误。 使用 break 语句的这种形式，命名的语句不必是循环或 switch：break 可以“跳出”任何封闭的语句。该语句甚至可以是用大括号括起来的语句块，其唯一目的是用标签命名该块。</p>
</blockquote>
<p>A newline is not allowed between the break keyword and the label name. This is a result of JavaScript’s automatic insertion of omitted semicolons: if you put a line terminator between the break keyword and the label that follows, JavaScript assumes you meant to use the simple, unlabeled form of the statement and treats the line terminator as a semicolon. (See §2.6.)</p>
<blockquote>
<p>在 break 关键字和标签名之间不允许使用换行符。 这是 JavaScript 自动插入省略的分号的结果：如果在 break 关键字和后面的标签之间放置了行终止符，则 JavaScript 会假定您打算使用语句的简单、无标签形式并将行终止符视为分号 。（请参见 §2.6）</p>
</blockquote>
<p>You need the labeled form of the break statement when you want to break out of a statement that is not the nearest enclosing loop or a switch. The following code demonstrates:</p>
<blockquote>
<p>当想脱离不是最近的封闭循环或 switch 的语句时，需要使用 break 语句的标签形式。以下代码演示：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> matrix = <span class="title function_">getData</span>();  <span class="comment">// Get a 2D array of numbers from somewhere</span></span><br><span class="line"><span class="comment">// Now sum all the numbers in the matrix.</span></span><br><span class="line"><span class="keyword">let</span> sum = <span class="number">0</span>, success = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">// Start with a labeled statement that we can break out of if errors occur</span></span><br><span class="line"><span class="attr">computeSum</span>: <span class="keyword">if</span> (matrix) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> x = <span class="number">0</span>; x &lt; matrix.<span class="property">length</span>; x++) &#123;</span><br><span class="line">        <span class="keyword">let</span> row = matrix[x];</span><br><span class="line">        <span class="keyword">if</span> (!row) <span class="keyword">break</span> computeSum;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> y = <span class="number">0</span>; y &lt; row.<span class="property">length</span>; y++) &#123;</span><br><span class="line">            <span class="keyword">let</span> cell = row[y];</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">isNaN</span>(cell)) <span class="keyword">break</span> computeSum;</span><br><span class="line">            sum += cell;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    success = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// The break statements jump here. If we arrive here with success == false</span></span><br><span class="line"><span class="comment">// then there was something wrong with the matrix we were given.</span></span><br><span class="line"><span class="comment">// Otherwise, sum contains the sum of all cells of the matrix.</span></span><br></pre></td></tr></table></figure>
<p>Finally, note that a break statement, with or without a label, can not transfer control across function boundaries. You cannot label a function definition statement, for example, and then use that label inside the function.</p>
<blockquote>
<p>最后，请注意，带有或不带有标签的 break 语句无法跨函数边界转移控制权。例如，不能标记函数定义语句，然后在函数内部使用该标记。</p>
</blockquote>
<h3 id="5-5-3-continue"><a href="#5-5-3-continue" class="headerlink" title="5.5.3 continue"></a>5.5.3 continue</h3><p>The continue statement is similar to the break statement. Instead of exiting a loop, however, continue restarts a loop at the next iteration. The continue statement’s syntax is just as simple as the break statement’s:</p>
<blockquote>
<p>continue 语句类似于 break 语句。但是，continue 不是退出循环，而是在重新开始循环的下一次迭代。continue 语句的语法与 break 语句的语法一样简单：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">continue</span>;</span><br></pre></td></tr></table></figure>

<p>The continue statement can also be used with a label:</p>
<blockquote>
<p>continue 语句也可以与标签一起使用：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">continue</span> labelname;</span><br></pre></td></tr></table></figure>

<p>The continue statement, in both its labeled and unlabeled forms, can be used only within the body of a loop. Using it anywhere else causes a syntax error.</p>
<blockquote>
<p>标记和未标记形式的 continue 语句只能在循环体内使用。在其他任何地方使用它都会导致语法错误。</p>
</blockquote>
<p>When the continue statement is executed, the current iteration of the enclosing loop is terminated, and the next iteration begins. This means different things for different types of loops:</p>
<blockquote>
<p>当执行 continue 语句时，封闭循环的当前迭代将终止，并且下一个迭代开始。对于不同类型的循环，这意味着不同的事情：</p>
</blockquote>
<p>In a while loop, the specified expression at the beginning of the loop is tested again, and if it’s true, the loop body is executed starting from the top.</p>
<blockquote>
<p>在 while 循环中，将再次测试循环开始处的指定表达式，如果该表达式为 true，则循环主体将从顶部开始执行。</p>
</blockquote>
<p>In a do&#x2F;while loop, execution skips to the bottom of the loop, where the loop condition is tested again before restarting the loop at the top.</p>
<blockquote>
<p>在 do&#x2F;while 循环中，执行跳到循环的底部，在重新测试顶部的循环之前，先对循环条件进行测试。</p>
</blockquote>
<p>In a for loop, the increment expression is evaluated, and the test expression is tested again to determine if another iteration should be done.</p>
<blockquote>
<p>在 for 循环中，对增量表达式进行求值，然后再次对测试表达式进行测试，以确定是否应执行另一次迭代。</p>
</blockquote>
<p>In a for&#x2F;of or for&#x2F;in loop, the loop starts over with the next iterated value or next property name being assigned to the specified variable.</p>
<blockquote>
<p>在 for&#x2F;of 或 for&#x2F;in 循环中，循环从下一个迭代值或下一个属性名称分配给指定变量开始。</p>
</blockquote>
<p>Note the difference in behavior of the continue statement in the while and for loops: a while loop returns directly to its condition, but a for loop first evaluates its increment expression and then returns to its condition. Earlier, we considered the behavior of the for loop in terms of an “equivalent” while loop. Because the continue statement behaves differently for these two loops, however, it is not actually possible to perfectly simulate a for loop with a while loop alone.</p>
<blockquote>
<p>注意 while 和 for 循环中 continue 语句的行为差异：while 循环直接返回其条件，但是 for 循环首先计算其增量表达式，然后返回其条件。之前，我们以“等效” while 循环的形式考虑了 for 循环的行为。但是，由于 continue 语句在这两个循环中的行为不同，因此实际上不可能仅使用 while 循环来完美地模拟 for 循环。</p>
</blockquote>
<p>The following example shows an unlabeled continue statement being used to skip the rest of the current iteration of a loop when an error occurs:</p>
<blockquote>
<p>以下示例显示了一个未标记的 continue 语句，该语句在发生错误时用于跳过循环的当前迭代的其余部分：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!data[i]) <span class="keyword">continue</span>;  <span class="comment">// Can&#x27;t proceed with undefined data</span></span><br><span class="line">    total += data[i];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Like the break statement, the continue statement can be used in its labeled form within nested loops when the loop to be restarted is not the immediately enclosing loop. Also, as with the break statement, line breaks are not allowed between the continue statement and its label name.</p>
<blockquote>
<p>像 break 语句一样，当要重新启动的循环不是立即封闭的循环时，可以在嵌套循环内以标记形式使用 continue 语句。同样，与 break 语句一样，在 continue 语句及其标签名之间不允许换行。</p>
</blockquote>
<h3 id="5-5-4-return"><a href="#5-5-4-return" class="headerlink" title="5.5.4 return"></a>5.5.4 return</h3><p>Recall that function invocations are expressions and that all expressions have values. A return statement within a function specifies the value of invocations of that function. Here’s the syntax of the return statement:</p>
<blockquote>
<p>回想一下，函数调用是表达式，并且所有表达式都具有值。函数内的 return 语句指定该函数的调用值。这是 return 语句的语法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">return</span> expression;</span><br></pre></td></tr></table></figure>

<p>A return statement may appear only within the body of a function. It is a syntax error for it to appear anywhere else. When the return statement is executed, the function that contains it returns the value of expression to its caller. For example:</p>
<blockquote>
<p>return 语句可能仅出现在函数体内。它出现在其他任何地方都是语法错误。当执行 return 语句时，包含它的函数会将 expression 的值返回给其调用者。例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">square</span>(<span class="params">x</span>) &#123; <span class="keyword">return</span> x*x; &#125; <span class="comment">// A function that has a return statement</span></span><br><span class="line"><span class="title function_">square</span>(<span class="number">2</span>)                          <span class="comment">// =&gt; 4</span></span><br></pre></td></tr></table></figure>
<p>With no return statement, a function invocation simply executes each of the statements in the function body in turn until it reaches the end of the function and then returns to its caller. In this case, the invocation expression evaluates to undefined. The return statement often appears as the last statement in a function, but it need not be last: a function returns to its caller when a return statement is executed, even if there are other statements remaining in the function body.</p>
<blockquote>
<p>在没有 return 语句的情况下，函数调用只是依次依次执行函数体中的每个语句，直到到达函数末尾，然后返回到其调用者。在这种情况下，调用表达式的计算结果为 undefined。return 语句通常显示为函数中的最后一条语句，但不一定要最后一条：执行 return 语句时，函数返回到其调用者，即使函数体内还有其他语句。</p>
</blockquote>
<p>The return statement can also be used without an expression to make the function return undefined to its caller. For example:</p>
<blockquote>
<p>还可以在没有表达式的情况下使用 return 语句，以使函数返回未定义给调用者。例如：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">displayObject</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="comment">// Return immediately if the argument is null or undefined.</span></span><br><span class="line">    <span class="keyword">if</span> (!o) <span class="keyword">return</span>;</span><br><span class="line">    <span class="comment">// Rest of function goes here...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Because of JavaScript’s automatic semicolon insertion (§2.6), you cannot include a line break between the return keyword and the expression that follows it.</p>
<blockquote>
<p>由于 JavaScript 自动插入了分号（§2.6），因此不能在 return 关键字和其后的表达式之间包含换行符。</p>
</blockquote>
<h3 id="5-5-5-yield"><a href="#5-5-5-yield" class="headerlink" title="5.5.5 yield"></a>5.5.5 yield</h3><p>The yield statement is much like the return statement but is used only in ES6 generator functions (see §12.3) to produce the next value in the generated sequence of values without actually returning:</p>
<blockquote>
<p>yield 语句与 return 语句非常相似，但仅在 ES6 生成器函数（请参阅 §12.3）中使用，以在所生成的值序列中生成下一个值，而无需实际返回：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A generator function that yields a range of integers</span></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">range</span>(<span class="params"><span class="keyword">from</span>, to</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="keyword">from</span>; i &lt;= to; i++) &#123;</span><br><span class="line">        <span class="keyword">yield</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In order to understand yield, you must understand iterators and generators, which will not be covered until Chapter 12. yield is included here for completeness, however. (Technically, though, yield is an operator rather than a statement, as explained in §12.4.2.)</p>
<blockquote>
<p>为了了解 yield，必须了解迭代器和生成器，但是为了完整起见，直到第 12 章都不会涉及。（但是，从技术上讲，yield 是运算符，而不是语句，如 §12.4.2 节中所述。）</p>
</blockquote>
<h3 id="5-5-6-throw"><a href="#5-5-6-throw" class="headerlink" title="5.5.6 throw"></a>5.5.6 throw</h3><p>An exception is a signal that indicates that some sort of exceptional condition or error has occurred. To throw an exception is to signal such an error or exceptional condition. To catch an exception is to handle it—to take whatever actions are necessary or appropriate to recover from the exception. In JavaScript, exceptions are thrown whenever a runtime error occurs and whenever the program explicitly throws one using the throw statement. Exceptions are caught with the try&#x2F;catch&#x2F;finally statement, which is described in the next section.</p>
<blockquote>
<p>异常是表示已发生某种异常情况或错误的信号。引发异常是表示这种错误或异常情况。捕获异常就是对它进行处理——采取必要措施或适当措施以从异常中恢复。在 JavaScript 中，只要发生运行时错误，并且只要程序使用 throw 语句显式抛出一个异常，就会引发异常。使用 try&#x2F;catch&#x2F;finally 语句捕获异常，这将在下一部分中进行描述。</p>
</blockquote>
<p>The throw statement has the following syntax:</p>
<blockquote>
<p>throw语句具有以下语法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">throw</span> expression;</span><br></pre></td></tr></table></figure>

<p>expression may evaluate to a value of any type. You might throw a number that represents an error code or a string that contains a human-readable error message. The Error class and its subclasses are used when the JavaScript interpreter itself throws an error, and you can use them as well. An Error object has a name property that specifies the type of error and a message property that holds the string passed to the constructor function. Here is an example function that throws an Error object when invoked with an invalid argument:</p>
<blockquote>
<p>表达式可以计算为任何类型的值。可能会抛出代表错误代码的数字或包含人类可读错误消息的字符串。当 JavaScript 解释器本身抛出错误时，将使用 Error 类及其子类，并且您也可以使用它们。Error 对象具有用于指定错误类型的 name 属性和用于保存传递给构造函数的字符串的 message 属性。这是一个示例函数，当使用无效参数调用该函数时，将引发 Error 对象：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">factorial</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="comment">// If the input argument is invalid, throw an exception!</span></span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;x must not be negative&quot;</span>);</span><br><span class="line">    <span class="comment">// Otherwise, compute a value and return normally</span></span><br><span class="line">    <span class="keyword">let</span> f;</span><br><span class="line">    <span class="keyword">for</span>(f = <span class="number">1</span>; x &gt; <span class="number">1</span>; f *= x, x--) <span class="comment">/* empty */</span> ;</span><br><span class="line">    <span class="keyword">return</span> f;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">factorial</span>(<span class="number">4</span>)   <span class="comment">// =&gt; 24</span></span><br></pre></td></tr></table></figure>
<p>When an exception is thrown, the JavaScript interpreter immediately stops normal program execution and jumps to the nearest exception handler. Exception handlers are written using the catch clause of the try&#x2F;catch&#x2F;finally statement, which is described in the next section. If the block of code in which the exception was thrown does not have an associated catch clause, the interpreter checks the next-highest enclosing block of code to see if it has an exception handler associated with it. This continues until a handler is found. If an exception is thrown in a function that does not contain a try&#x2F;catch&#x2F;finally statement to handle it, the exception propagates up to the code that invoked the function. In this way, exceptions propagate up through the lexical structure of JavaScript methods and up the call stack. If no exception handler is ever found, the exception is treated as an error and is reported to the user.</p>
<blockquote>
<p>引发异常时，JavaScript 解释器立即停止正常程序执行并跳转到最近的异常处理程序。异常处理程序使用 try&#x2F;catch&#x2F;finally 语句的 catch 子句编写，这将在下一部分中进行描述。如果在其中引发了异常的代码块中没有关联的 catch 子句，则解释器将检查下一个最顶层的代码块，以查看其是否具有与之关联的异常处理程序。这一直持续到找到处理程序为止。如果在不包含 try&#x2F;catch&#x2F;finally 语句来处理它的函数中引发异常，则该异常会传播到调用该函数的代码。这样，异常会通过 JavaScript 方法的词法结构向上传播，并向上扩展到调用堆栈。如果未找到异常处理程序，则将该异常视为错误并报告给用户。</p>
</blockquote>
<h3 id="5-5-7-try-x2F-catch-x2F-finally"><a href="#5-5-7-try-x2F-catch-x2F-finally" class="headerlink" title="5.5.7 try&#x2F;catch&#x2F;finally"></a>5.5.7 try&#x2F;catch&#x2F;finally</h3><p>The try&#x2F;catch&#x2F;finally statement is JavaScript’s exception handling mechanism. The try clause of this statement simply defines the block of code whose exceptions are to be handled. The try block is followed by a catch clause, which is a block of statements that are invoked when an exception occurs anywhere within the try block. The catch clause is followed by a finally block containing cleanup code that is guaranteed to be executed, regardless of what happens in the try block. Both the catch and finally blocks are optional, but a try block must be accompanied by at least one of these blocks. The try, catch, and finally blocks all begin and end with curly braces. These braces are a required part of the syntax and cannot be omitted, even if a clause contains only a single statement.</p>
<blockquote>
<p>try&#x2F;catch&#x2F;finally 语句是 JavaScript 的异常处理机制。该语句的 try 子句仅定义要处理其异常的代码块。在 try 块之后是 catch 子句，catch 子句是在 try 块内任何地方发生异常时调用的语句块。catch 子句后面是一个 finally 块，其中包含保证可以执行的清除代码，无论 try 块中发生了什么。catch 和 finally 块都是可选的，但是 try 块必须至少与这些块之一相伴。尝试，捕获和最终阻止都以花括号开头和结尾。这些花括号是语法的必需部分，即使子句仅包含一个语句，也不能忽略这些花括号。</p>
</blockquote>
<p>The following code illustrates the syntax and purpose of the try&#x2F;catch&#x2F;finally statement:</p>
<blockquote>
<p>以下代码说明了 try&#x2F;catch&#x2F;finally 语句的语法和用途：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// Normally, this code runs from the top of the block to the bottom</span></span><br><span class="line">    <span class="comment">// without problems. But it can sometimes throw an exception,</span></span><br><span class="line">    <span class="comment">// either directly, with a throw statement, or indirectly, by calling</span></span><br><span class="line">    <span class="comment">// a method that throws an exception.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(e) &#123;</span><br><span class="line">    <span class="comment">// The statements in this block are executed if, and only if, the try</span></span><br><span class="line">    <span class="comment">// block throws an exception. These statements can use the local variable</span></span><br><span class="line">    <span class="comment">// e to refer to the Error object or other value that was thrown.</span></span><br><span class="line">    <span class="comment">// This block may handle the exception somehow, may ignore the</span></span><br><span class="line">    <span class="comment">// exception by doing nothing, or may rethrow the exception with throw.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// This block contains statements that are always executed, regardless of</span></span><br><span class="line">    <span class="comment">// what happens in the try block. They are executed whether the try</span></span><br><span class="line">    <span class="comment">// block terminates:</span></span><br><span class="line">    <span class="comment">//   1) normally, after reaching the bottom of the block</span></span><br><span class="line">    <span class="comment">//   2) because of a break, continue, or return statement</span></span><br><span class="line">    <span class="comment">//   3) with an exception that is handled by a catch clause above</span></span><br><span class="line">    <span class="comment">//   4) with an uncaught exception that is still propagating</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note that the catch keyword is generally followed by an identifier in parentheses. This identifier is like a function parameter. When an exception is caught, the value associated with the exception (an Error object, for example) is assigned to this parameter. The identifier associated with a catch clause has block scope—it is only defined within the catch block.</p>
<blockquote>
<p>请注意，catch 关键字通常在括号后跟一个标识符。该标识符就像一个函数参数。捕获到异常后，与该异常关联的值（例如 Error 对象）将分配给该参数。与 catch 子句关联的标识符具有块作用域——仅在catch块内有定义。</p>
</blockquote>
<p>Here is a realistic example of the try&#x2F;catch statement. It uses the factorial() method defined in the previous section and the client-side JavaScript methods prompt() and alert() for input and output:</p>
<blockquote>
<p>这是 try&#x2F;catch 语句的实际示例。它使用上一节中定义的 factorial() 方法以及客户端 JavaScript 方法 hint() 和 alert() 进行输入和输出：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// Ask the user to enter a number</span></span><br><span class="line">    <span class="keyword">let</span> n = <span class="title class_">Number</span>(<span class="title function_">prompt</span>(<span class="string">&quot;Please enter a positive integer&quot;</span>, <span class="string">&quot;&quot;</span>));</span><br><span class="line">    <span class="comment">// Compute the factorial of the number, assuming the input is valid</span></span><br><span class="line">    <span class="keyword">let</span> f = <span class="title function_">factorial</span>(n);</span><br><span class="line">    <span class="comment">// Display the result</span></span><br><span class="line">    <span class="title function_">alert</span>(n + <span class="string">&quot;! = &quot;</span> + f);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span>(ex) &#123;     <span class="comment">// If the user&#x27;s input was not valid, we end up here</span></span><br><span class="line">    <span class="title function_">alert</span>(ex);  <span class="comment">// Tell the user what the error is</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This example is a try&#x2F;catch statement with no finally clause. Although finally is not used as often as catch, it can be useful. However, its behavior requires additional explanation. The finally clause is guaranteed to be executed if any portion of the try block is executed, regardless of how the code in the try block completes. It is generally used to clean up after the code in the try clause.</p>
<blockquote>
<p>这个例子是一个 try&#x2F;catch 语句，没有 finally 子句。虽然 finally 不像 catch 那样经常使用，但它很有用。可是，其行为需要额外说明。如果 try 块的任何部分被执行，则必定执行 finally 子句，无论 try 块中的代码如何完成。通常用于在 try 子句中的代码之后进行清理。</p>
</blockquote>
<p>In the normal case, the JavaScript interpreter reaches the end of the try block and then proceeds to the finally block, which performs any necessary cleanup. If the interpreter left the try block because of a return, continue, or break statement, the finally block is executed before the interpreter jumps to its new destination.</p>
<blockquote>
<p>在正常情况下，JavaScript 解释器到达 try 块的末尾，然后进行到 finally 块，该块执行任何必要的清除。如果解释器由于返回，继续或中断语句而离开 try 块，则在解释器跳转到其新目的地之前执行 finally 块。</p>
</blockquote>
<p>If an exception occurs in the try block and there is an associated catch block to handle the exception, the interpreter first executes the catch block and then the finally block. If there is no local catch block to handle the exception, the interpreter first executes the finally block and then jumps to the nearest containing catch clause.</p>
<blockquote>
<p>如果 try 块中发生异常，并且有一个关联的 catch 块来处理该异常，则解释器将首先执行 catch 块，然后执行 finally 块。如果没有本地 catch 块来处理该异常，则解释器将首先执行 finally 块，然后跳转到最近的包含 catch 子句。</p>
</blockquote>
<p>If a finally block itself causes a jump with a return, continue, break, or throw statement, or by calling a method that throws an exception, the interpreter abandons whatever jump was pending and performs the new jump. For example, if a finally clause throws an exception, that exception replaces any exception that was in the process of being thrown. If a finally clause issues a return statement, the method returns normally, even if an exception has been thrown and has not yet been handled.</p>
<blockquote>
<p>如果 finally 块本身通过 return、continue、break 或 throw 语句导致跳转，或者通过调用引发异常的方法来调用，则解释器将放弃所有挂起的任何程序并执行新的跳转。例如，如果 finally 子句引发异常，则该异常将替换正在引发过程中的所有异常。如果 finally 子句发出 return 语句，则即使已引发异常且尚未处理异常，该方法也会正常返回。</p>
</blockquote>
<p>try and finally can be used together without a catch clause. In this case, the finally block is simply cleanup code that is guaranteed to be executed, regardless of what happens in the try block. Recall that we can’t completely simulate a for loop with a while loop because the continue statement behaves differently for the two loops. If we add a try&#x2F;finally statement, we can write a while loop that works like a for loop and that handles continue statements correctly:</p>
<blockquote>
<p>try 和 finally 可以一起使用，而无需使用 catch 子句。在这种情况下，无论 try 块发生什么情况，finally 块都是保证可以执行的清除代码。回想一下，我们无法完全通过 while 循环来模拟 for 循环，因为 continue 语句在两个循环中的行为有所不同。如果添加 try&#x2F;finally 语句，则可以编写一个 while 循环，该循环类似于 for 循环，并且可以正确处理 continue 语句：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Simulate for(initialize ; test ;increment ) body;</span></span><br><span class="line">initialize ;</span><br><span class="line"><span class="keyword">while</span>( test ) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123; body ; &#125;</span><br><span class="line">    <span class="keyword">finally</span> &#123; increment ; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Note, however, that a body that contains a break statement behaves slightly differently (causing an extra increment before exiting) in the while loop than it does in the for loop, so even with the finally clause, it is not possible to completely simulate the for loop with while.</p>
<blockquote>
<p>但是请注意，包含 break 语句的主体在 while 循环中的行为与 for 循环中的行为略有不同（在退出前会导致额外的增量计算），因此即使使用 finally 子句，也无法完全用 while 模拟 for 循环。</p>
</blockquote>
<p>BARE CATCH CLAUSES<br>Occasionally you may find yourself using a catch clause solely to detect and stop the propagation of an exception, even though you do not care about the type or the value of the exception. In ES2019 and later, you can omit the parentheses and the identifier and use the catch keyword bare in this case. Here is an example:</p>
<blockquote>
<p>有时，即使不关心异常的类型或值，您可能会发现自己仅使用 catch 子句来检测并停止异常的传播。在 ES2019 及更高版本中，可以省略括号和标识符，并在这种情况下裸露使用 catch 关键字。 这是一个例子：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Like JSON.parse(), but return undefined instead of throwing an error</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">parseJSON</span>(<span class="params">s</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">JSON</span>.<span class="title function_">parse</span>(s);</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="comment">// Something went wrong but we don&#x27;t care what it was</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">undefined</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-6-Miscellaneous-Statements"><a href="#5-6-Miscellaneous-Statements" class="headerlink" title="5.6 Miscellaneous Statements"></a>5.6 Miscellaneous Statements</h2><p>This section describes the remaining three JavaScript statements—with, debugger, and “use strict”.</p>
<blockquote>
<p>本节描述了其余三个 JavaScript 语句——with、debugger 和“ use strict”。</p>
</blockquote>
<h3 id="5-6-1-with"><a href="#5-6-1-with" class="headerlink" title="5.6.1 with"></a>5.6.1 with</h3><p>The with statement runs a block of code as if the properties of a specified object were variables in scope for that code. It has the following syntax:</p>
<blockquote>
<p>with 语句运行代码块，就像指定对象的属性是该代码范围内的变量一样。它具有以下语法：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> (object)</span><br><span class="line">    statement</span><br></pre></td></tr></table></figure>
<p>This statement creates a temporary scope with the properties of object as variables and then executes statement within that scope.</p>
<blockquote>
<p>该语句使用对象的属性作为变量创建一个临时作用域，然后在该作用域内执行语句。</p>
</blockquote>
<p>The with statement is forbidden in strict mode (see §5.6.3) and should be considered deprecated in non-strict mode: avoid using it whenever possible. JavaScript code that uses with is difficult to optimize and is likely to run significantly more slowly than the equivalent code written without the with statement.</p>
<blockquote>
<p>在严格模式下禁止 with 语句（请参见 §5.6.3），并且在非严格模式下应将其视为已弃用：请尽可能避免使用它。与 with 一起使用的 JavaScript 代码难以优化，并且与没有 with 语句编写的等效代码相比，运行速度可能慢得多。</p>
</blockquote>
<p>The common use of the with statement is to make it easier to work with deeply nested object hierarchies. In client-side JavaScript, for example, you may have to type expressions like this one to access elements of an HTML form:</p>
<blockquote>
<p>with 语句的常用用法是使使用深度嵌套的对象层次结构更清晰。例如，在客户端 JavaScript 中，可能必须键入此类表达式才能访问 HTML 表单的元素：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="property">forms</span>[<span class="number">0</span>].<span class="property">address</span>.<span class="property">value</span></span><br></pre></td></tr></table></figure>
<p>If you need to write expressions like this a number of times, you can use the with statement to treat the properties of the form object like variables:</p>
<blockquote>
<p>如果需要多次编写这样的表达式，则可以使用 with 语句将表单对象的属性像变量一样对待：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">with</span>(<span class="params"><span class="variable language_">document</span>.forms[<span class="number">0</span>]</span>) &#123;</span><br><span class="line">    <span class="comment">// Access form elements directly here. For example:</span></span><br><span class="line">    name.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    address.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    email.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This reduces the amount of typing you have to do: you no longer need to prefix each form property name with document.forms[0]. It is just as simple, of course, to avoid the with statement and write the preceding code like this:</p>
<blockquote>
<p>这减少了必须进行的键入操作的数量：不再需要为每个表单属性名称加上 document.forms[0] 前缀。当然，避免 with 语句并像这样编写前面的代码也很简单：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> f = <span class="variable language_">document</span>.<span class="property">forms</span>[<span class="number">0</span>];</span><br><span class="line">f.<span class="property">name</span>.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">f.<span class="property">address</span>.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">f.<span class="property">email</span>.<span class="property">value</span> = <span class="string">&quot;&quot;</span>;</span><br></pre></td></tr></table></figure>
<p>Note that if you use const or let or var to declare a variable or constant within the body of a with statement, it creates an ordinary variable and does not define a new property within the specified object.</p>
<blockquote>
<p>请注意，如果使用 const 或 let 或 var 在 with 语句的主体内声明变量或常量，则它将创建普通变量，并且不会在指定对象内定义新属性。</p>
</blockquote>
<h3 id="5-6-2-debugger"><a href="#5-6-2-debugger" class="headerlink" title="5.6.2 debugger"></a>5.6.2 debugger</h3><p>The debugger statement normally does nothing. If, however, a debugger program is available and is running, then an implementation may (but is not required to) perform some kind of debugging action. In practice, this statement acts like a breakpoint: execution of JavaScript code stops, and you can use the debugger to print variables’ values, examine the call stack, and so on. Suppose, for example, that you are getting an exception in your function f() because it is being called with an undefined argument, and you can’t figure out where this call is coming from. To help you in debugging this problem, you might alter f() so that it begins like this:</p>
<blockquote>
<p>debugger 语句通常不执行任何操作。但是，如果 debugger 程序可用并且正在运行，则这个实现可以（但不是必需）执行某种调试操作。实际上，该语句就像一个断点：停止执行 JavaScript 代码，并且可以使用调试器打印变量的值，检查调用堆栈等。例如，假设您在函数 f() 中遇到一个异常，因为该异常正在使用未定义的参数进行调用，而您无法弄清楚该调用的来源。为了帮助调试此问题，可以更改 f() 使其开始，如下所示：</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params">o</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (o === <span class="literal">undefined</span>) <span class="keyword">debugger</span>;  <span class="comment">// Temporary line for debugging purposes</span></span><br><span class="line">  ...                             <span class="comment">// The rest of the function goes here.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Now, when f() is called with no argument, execution will stop, and you can use the debugger to inspect the call stack and find out where this incorrect call is coming from.</p>
<blockquote>
<p>现在，当不带任何参数调用 f() 时，执行将停止，并且可以使用调试器检查调用堆栈，并找出此错误调用的出处。</p>
</blockquote>
<p>Note that it is not enough to have a debugger available: the debugger statement won’t start the debugger for you. If you’re using a web browser and have the developer tools console open, however, this statement will cause a breakpoint.</p>
<blockquote>
<p>请注意，仅有 debugger 是不够的：debugger 语句不会为启动调试器。但是，如果您使用的是网络浏览器并打开了开发者工具控制台，则此语句将导致一个断点。</p>
</blockquote>
<h3 id="5-6-3-“use-strict”"><a href="#5-6-3-“use-strict”" class="headerlink" title="5.6.3 “use strict”"></a>5.6.3 “use strict”</h3><p>“use strict” is a directive introduced in ES5. Directives are not statements (but are close enough that “use strict” is documented here). There are two important differences between the “use strict” directive and regular statements:</p>
<blockquote>
<p>“use strict”是ES5中引入的指令。指令不是语句（但足够接近，因此此处记录了“use strict”）。“use strict”指令和常规语句之间有两个重要区别：</p>
</blockquote>
<p>It does not include any language keywords: the directive is just an expression statement that consists of a special string literal (in single or double quotes).</p>
<blockquote>
<p>它不包含任何语言关键字：指令只是由特殊字符串文字（单引号或双引号）组成的表达式语句。</p>
</blockquote>
<p>It can appear only at the start of a script or at the start of a function body, before any real statements have appeared.</p>
<blockquote>
<p>它只能出现在脚本的开始处或函数体的开始处，然后才出现任何实际的语句。</p>
</blockquote>
<p>The purpose of a “use strict” directive is to indicate that the code that follows (in the script or function) is strict code. The top-level (nonfunction) code of a script is strict code if the script has a “use strict” directive. A function body is strict code if it is defined within strict code or if it has a “use strict” directive. Code passed to the eval() method is strict code if eval() is called from strict code or if the string of code includes a “use strict” directive. In addition to code explicitly declared to be strict, any code in a class body (Chapter 9) or in an ES6 module (§10.3) is automatically strict code. This means that if all of your JavaScript code is written as modules, then it is all automatically strict, and you will never need to use an explicit “use strict” directive.</p>
<blockquote>
<p>“use strict”指令的目的是指示（在脚本或函数中）后面的代码是严格代码。如果脚本具有“use strict”指令，则该脚本的顶级（非函数）代码为严格代码。如果函数体是在严格代码中定义的，或者具有“use strict”指令，则它是严格代码。如果从严格代码中调用 eval() 或代码字符串包含“use strict”指令，则传递给 eval() 方法的代码为严格代码。除了明确声明为严格的代码之外，类主体（第9章）或 ES6 模块（10.3）中的任何代码都是自动严格的代码。这意味着，如果所有的JavaScript代码都是作为模块编写的，那么它们都是自动严格的，并且将不需要使用显式的“use strict”指令。 </p>
</blockquote>
<p>Strict code is executed in strict mode. Strict mode is a restricted subset of the language that fixes important language deficiencies and provides stronger error checking and increased security. Because strict mode is not the default, old JavaScript code that still uses the deficient legacy features of the language will continue to run correctly. The differences between strict mode and non-strict mode are the following (the first three are particularly important):</p>
<blockquote>
<p>严格代码在严格模式下执行。严格模式是该语言的受限子集，可修复重要的语言缺陷并提供更强的错误检查和更高的安全性。由于严格模式不是默认模式，因此旧 JavaScript 代码使用不足传统特性将继续正确运行。严格模式和非严格模式之间的区别如下（前三个特别重要）：</p>
</blockquote>
<p>The with statement is not allowed in strict mode.</p>
<blockquote>
<p>在严格模式下，不允许使用 with 语句。</p>
</blockquote>
<p>In strict mode, all variables must be declared: a ReferenceError is thrown if you assign a value to an identifier that is not a declared variable, function, function parameter, catch clause parameter, or property of the global object. (In non-strict mode, this implicitly declares a global variable by adding a new property to the global object.)</p>
<blockquote>
<p>在严格模式下，必须声明所有变量：如果将值分配给未声明的变量、函数、函数参数、catch 子句参数或全局对象的属性的标识符，则会引发 ReferenceError。（在非严格模式下，通过向全局对象添加新属性来隐式声明全局变量。）</p>
</blockquote>
<p>In strict mode, functions invoked as functions (rather than as methods) have a this value of undefined. (In non-strict mode, functions invoked as functions are always passed the global object as their this value.) Also, in strict mode, when a function is invoked with call() or apply() (§8.7.4), the this value is exactly the value passed as the first argument to call() or apply(). (In non-strict mode, null and undefined values are replaced with the global object and nonobject values are converted to objects.)</p>
<blockquote>
<p>在严格模式下，作为函数（而不是方法）调用的函数的 this 值是 undefined。（在非严格模式下，作为函数调用的函数总是将全局对象作为其 this 值。）此外，在严格模式下，当使用 call() 或 apply() 调用函数时（§8.7.4），this 值作为第一个参数传递给 call() 或 apply() 的值。（在非严格模式下，将 null 和 undefined 值替换为全局对象，并将 nonobject 值转换为对象。）</p>
</blockquote>
<p>In strict mode, assignments to nonwritable properties and attempts to create new properties on non-extensible objects throw a TypeError. (In non-strict mode, these attempts fail silently.)</p>
<blockquote>
<p>在严格模式下，对不可写属性的分配以及在不可扩展对象上尝试创建新属性的尝试将引发 TypeError。（在非严格模式下，这些尝试将以静默方式失败。）</p>
</blockquote>
<p>In strict mode, code passed to eval() cannot declare variables or define functions in the caller’s scope as it can in non-strict mode. Instead, variable and function definitions live in a new scope created for the eval(). This scope is discarded when the eval() returns.</p>
<blockquote>
<p>在严格模式下，传递给 eval() 的代码无法像在非严格模式下那样在调用者的作用域中声明变量或定义函数。相反，变量和函数定义位于为 eval() 创建的新作用域中。当 eval() 返回时，将放弃此 this 用域。</p>
</blockquote>
<p>In strict mode, the Arguments object (§8.3.3) in a function holds a static copy of the values passed to the function. In non-strict mode, the Arguments object has “magical” behavior in which elements of the array and named function parameters both refer to the same value.</p>
<p>In strict mode, a SyntaxError is thrown if the delete operator is followed by an unqualified identifier such as a variable, function, or function parameter. (In nonstrict mode, such a delete expression does nothing and evaluates to false.)</p>
<p>In strict mode, an attempt to delete a nonconfigurable property throws a TypeError. (In non-strict mode, the attempt fails and the delete expression evaluates to false.)</p>
<p>In strict mode, it is a syntax error for an object literal to define two or more properties by the same name. (In non-strict mode, no error occurs.)</p>
<p>In strict mode, it is a syntax error for a function declaration to have two or more parameters with the same name. (In non-strict mode, no error occurs.)</p>
<p>In strict mode, octal integer literals (beginning with a 0 that is not followed by an x) are not allowed. (In non-strict mode, some implementations allow octal literals.)</p>
<p>In strict mode, the identifiers eval and arguments are treated like keywords, and you are not allowed to change their value. You cannot assign a value to these identifiers, declare them as variables, use them as function names, use them as function parameter names, or use them as the identifier of a catch block.</p>
<p>In strict mode, the ability to examine the call stack is restricted. arguments.caller and arguments.callee both throw a TypeError within a strict mode function. Strict mode functions also have caller and arguments properties that throw TypeError when read. (Some implementations define these nonstandard properties on non-strict functions.)</p>
<h2 id="5-7-Declarations"><a href="#5-7-Declarations" class="headerlink" title="5.7 Declarations"></a>5.7 Declarations</h2><p>The keywords const, let, var, function, class, import, and export are not technically statements, but they look a lot like statements, and this book refers informally to them as statements, so they deserve a mention in this chapter.</p>
<blockquote>
<p>从技术上讲，关键字 const、let、var、function、class、import 和 export 并不是语句，但它们看起来很像语句，并且本书将它们非正式地称为语句，因此在本章中应予提及。</p>
</blockquote>
<p>These keywords are more accurately described as declarations rather than statements. We said at the start of this chapter that statements “make something happen.” Declarations serve to define new values and give them names that we can use to refer to those values. They don’t make much happen themselves, but by providing names for values they, in an important sense, define the meaning of the other statements in your program.</p>
<blockquote>
<p>这些关键字被更准确地描述为声明而不是语句。我们在本章开始时说过，语句“使某事发生”。声明用于定义新值，并为它们提供可用来引用这些值的名称。它们本身并不会带来太大的变化，但是通过提供值的名称，它们在重要的意义上定义了程序中其他语句的含义。</p>
</blockquote>
<p>When a program runs, it is the program’s expressions that are being evaluated and the program’s statements that are being executed. The declarations in a program don’t “run” in the same way: instead, they define the structure of the program itself. Loosely, you can think of declarations as the parts of the program that are processed before the code starts running.</p>
<blockquote>
<p>程序运行时，将对程序的表达式进行评估，并执行程序的语句。程序中的声明不是以相同的方式“运行”：相反，它们定义了程序本身的结构。不确切地说，可以将声明视为代码开始运行之前已处理的部分程序。</p>
</blockquote>
<p>JavaScript declarations are used to define constants, variables, functions, and classes and for importing and exporting values between modules. The next subsections give examples of all of these declarations. They are all covered in much more detail elsewhere in this book.</p>
<blockquote>
<p>JavaScript 声明用于定义常量、变量、函数和类，以及在模块之间导入和导出值。接下来的小节将给出所有这些声明的示例。在本书的其他地方，将对它们进行更详细的介绍。</p>
</blockquote>
<h3 id="5-7-1-const-let-and-var"><a href="#5-7-1-const-let-and-var" class="headerlink" title="5.7.1 const, let, and var"></a>5.7.1 const, let, and var</h3><p>The const, let, and var declarations are covered in §3.10. In ES6 and later, const declares constants, and let declares variables. Prior to ES6, the var keyword was the only way to declare variables and there was no way to declare constants. Variables declared with var are scoped to the containing function rather than the containing block. This can be a source of bugs, and in modern JavaScript there is really no reason to use var instead of let.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">TAU</span> = <span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>;</span><br><span class="line"><span class="keyword">let</span> radius = <span class="number">3</span>;</span><br><span class="line"><span class="keyword">var</span> circumference = <span class="variable constant_">TAU</span> * radius;</span><br></pre></td></tr></table></figure>
<h3 id="5-7-2-function"><a href="#5-7-2-function" class="headerlink" title="5.7.2 function"></a>5.7.2 function</h3><p>The function declaration is used to define functions, which are covered in detail in Chapter 8. (We also saw function in §4.3, where it was used as part of a function expression rather than a function declaration.) A function declaration looks like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">area</span>(<span class="params">radius</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="property">PI</span> * radius * radius;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>A function declaration creates a function object and assigns it to the specified name—area in this example. Elsewhere in our program, we can refer to the function—and run the code inside it—by using this name. The function declarations in any block of JavaScript code are processed before that code runs, and the function names are bound to the function objects throughout the block. We say that function declarations are “hoisted” because it is as if they had all been moved up to the top of whatever scope they are defined within. The upshot is that code that invokes a function can exist in your program before the code that declares the function.</p>
<p>§12.3 describes a special kind of function known as a generator. Generator declarations use the function keyword but follow it with an asterisk. §13.3 describes asynchronous functions, which are also declared using the function keyword but are prefixed with the async keyword.</p>
<h3 id="5-7-3-class"><a href="#5-7-3-class" class="headerlink" title="5.7.3 class"></a>5.7.3 class</h3><p>In ES6 and later, the class declaration creates a new class and gives it a name that we can use to refer to it. Classes are described in detail in Chapter 9. A simple class declaration might look like this:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">radius</span>) &#123; <span class="variable language_">this</span>.<span class="property">r</span> = radius; &#125;</span><br><span class="line">    <span class="title function_">area</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="variable language_">this</span>.<span class="property">r</span> * <span class="variable language_">this</span>.<span class="property">r</span>; &#125;</span><br><span class="line">    <span class="title function_">circumference</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span> * <span class="variable language_">this</span>.<span class="property">r</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Unlike functions, class declarations are not hoisted, and you cannot use a class declared this way in code that appears before the declaration.</p>
<h3 id="5-7-4-import-and-export"><a href="#5-7-4-import-and-export" class="headerlink" title="5.7.4 import and export"></a>5.7.4 import and export</h3><p>The import and export declarations are used together to make values defined in one module of JavaScript code available in another module. A module is a file of JavaScript code with its own global namespace, completely independent of all other modules. The only way that a value (such as function or class) defined in one module can be used in another module is if the defining module exports it with export and the using module imports it with import. Modules are the subject of Chapter 10, and import and export are covered in detail in §10.3.</p>
<p>import directives are used to import one or more values from another file of JavaScript code and give them names within the current module. import directives come in a few different forms. Here are some examples:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Circle</span> <span class="keyword">from</span> <span class="string">&#x27;./geometry/circle.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">PI</span>, <span class="variable constant_">TAU</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./geometry/constants.js&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; magnitude <span class="keyword">as</span> hypotenuse &#125; <span class="keyword">from</span> <span class="string">&#x27;./vectors/utils.js&#x27;</span>;</span><br></pre></td></tr></table></figure>
<p>Values within a JavaScript module are private and cannot be imported into other modules unless they have been explicitly exported. The export directive does this: it declares that one or more values defined in the current module are exported and therefore available for import by other modules. The export directive has more variants than the import directive does. Here is one of them:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// geometry/constants.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="title class_">Math</span>.<span class="property">PI</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">TAU</span> = <span class="number">2</span> * <span class="variable constant_">PI</span>;</span><br><span class="line"><span class="keyword">export</span> &#123; <span class="variable constant_">PI</span>, <span class="variable constant_">TAU</span> &#125;;</span><br></pre></td></tr></table></figure>
<p>The export keyword is sometimes used as a modifier on other declarations, resulting in a kind of compound declaration that defines a constant, variable, function, or class and exports it at the same time. And when a module exports only a single value, this is typically done with the special form export default:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="variable constant_">TAU</span> = <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">magnitude</span>(<span class="params">x,y</span>) &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">sqrt</span>(x*x + y*y); &#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> <span class="title class_">Circle</span> &#123; <span class="comment">/* class definition omitted here */</span> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-8-Summary-of-JavaScript-Statements"><a href="#5-8-Summary-of-JavaScript-Statements" class="headerlink" title="5.8 Summary of JavaScript Statements"></a>5.8 Summary of JavaScript Statements</h2><p>This chapter introduced each of the JavaScript language’s statements, which are summarized in Table 5-1.</p>
<p>Table 5-1. JavaScript statement syntax<br>Statement	Purpose<br>break</p>
<p>Exit from the innermost loop or switch or from named enclosing statement</p>
<p>case</p>
<p>Label a statement within a switch</p>
<p>class</p>
<p>Declare a class</p>
<p>const</p>
<p>Declare and initialize one or more constants</p>
<p>continue</p>
<p>Begin next iteration of the innermost loop or the named loop</p>
<p>debugger</p>
<p>Debugger breakpoint</p>
<p>default</p>
<p>Label the default statement within a switch</p>
<p>do&#x2F;while</p>
<p>An alternative to the while loop</p>
<p>export</p>
<p>Declare values that can be imported into other modules</p>
<p>for</p>
<p>An easy-to-use loop</p>
<p>for&#x2F;await</p>
<p>Asynchronously iterate the values of an async iterator</p>
<p>for&#x2F;in</p>
<p>Enumerate the property names of an object</p>
<p>for&#x2F;of</p>
<p>Enumerate the values of an iterable object such as an array</p>
<p>function</p>
<p>Declare a function</p>
<p>if&#x2F;else</p>
<p>Execute one statement or another depending on a condition</p>
<p>import</p>
<p>Declare names for values defined in other modules</p>
<p>label</p>
<p>Give statement a name for use with break and continue</p>
<p>let</p>
<p>Declare and initialize one or more block-scoped variables (new syntax)</p>
<p>return</p>
<p>Return a value from a function</p>
<p>switch</p>
<p>Multiway branch to case or default: labels</p>
<p>throw</p>
<p>Throw an exception</p>
<p>try&#x2F;catch&#x2F;finally</p>
<p>Handle exceptions and code cleanup</p>
<p>“use strict”</p>
<p>Apply strict mode restrictions to script or function</p>
<p>var</p>
<p>Declare and initialize one or more variables (old syntax)</p>
<p>while</p>
<p>A basic loop construct</p>
<p>with</p>
<p>Extend the scope chain (deprecated and forbidden in strict mode)</p>
<p>yield</p>
<p>Provide a value to be iterated; only used in generator functions</p>
<hr>
<ol>
<li>The fact that the case expressions are evaluated at runtime makes the JavaScript switch statement much different from (and less efficient than) the switch statement of C, C++, and Java. In those languages, the case expressions must be compile-time constants of the same type, and switch statements can often compile down to highly efficient jump tables.</li>
<li>When we consider the continue statement in §5.5.3, we’ll see that this while loop is not an exact equivalent of the for loop.</li>
</ol>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Jack hou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/')">第5章 语句</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/"><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>运营模式与责任</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=第5章 语句&amp;url=http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/&amp;pic=https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.houyanbin.com" target="_blank">Jackhou Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>《JavaScript权威指南》<span class="tagsPageCount">17</span></a><a class="post-meta__box__tags" href="/tags/JavaScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JavaScript<span class="tagsPageCount">17</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">第6章 对象</div></div></a></div><div class="next-post pull-right"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch4/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">第4章 表达式和运算符</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch1/" title="第1章 JavaScript 概述"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第1章 JavaScript 概述</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch12/" title="第12章 迭代器和生成器"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第12章 迭代器和生成器</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch10/" title="第10章 模块"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第10章 模块</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch14/" title="第14章 元编程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第14章 元编程</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch11/" title="第11章 JavaScript 标准库"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第11章 JavaScript 标准库</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch13/" title="第13章 异步 JavaScript"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">第13章 异步 JavaScript</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">Hi，这是我的博客网站，欢迎你能到访~</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">我会在这里分享我的<b style="color:#fff">技术知识</b>、<b style="color:#fff">日常生活</b>和<b style="color:#fff">人生经验。</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Jack hou</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Hou-yanbin" target="_blank" title="Github"><i class="fab fa-github faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/478589474" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=jackhou921@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wxgzh1.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-Expression-Statements"><span class="toc-text">5.1 Expression Statements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-Compound-and-Empty-Statements"><span class="toc-text">5.2 Compound and Empty Statements</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-Conditionals"><span class="toc-text">5.3 Conditionals</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-if"><span class="toc-text">5.3.1 if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-else-if"><span class="toc-text">5.3.2 else if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-3-switch"><span class="toc-text">5.3.3 switch</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-Loops"><span class="toc-text">5.4 Loops</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-1-while"><span class="toc-text">5.4.1 while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-2-do-x2F-while"><span class="toc-text">5.4.2 do&#x2F;while</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-3-for"><span class="toc-text">5.4.3 for</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-4-for-x2F-of"><span class="toc-text">5.4.4 for&#x2F;of</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#FOR-x2F-OF-WITH-OBJECTS"><span class="toc-text">FOR&#x2F;OF WITH OBJECTS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FOR-x2F-OF-WITH-STRINGS"><span class="toc-text">FOR&#x2F;OF WITH STRINGS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FOR-x2F-OF-WITH-SET-AND-MAP"><span class="toc-text">FOR&#x2F;OF WITH SET AND MAP</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ASYNCHRONOUS-ITERATION-WITH-FOR-x2F-AWAIT"><span class="toc-text">ASYNCHRONOUS ITERATION WITH FOR&#x2F;AWAIT</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-4-5-for-x2F-in"><span class="toc-text">5.4.5 for&#x2F;in</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-Jumps"><span class="toc-text">5.5 Jumps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-1-Labeled-Statements"><span class="toc-text">5.5.1 Labeled Statements</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-2-break"><span class="toc-text">5.5.2 break</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-3-continue"><span class="toc-text">5.5.3 continue</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-4-return"><span class="toc-text">5.5.4 return</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-5-yield"><span class="toc-text">5.5.5 yield</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-6-throw"><span class="toc-text">5.5.6 throw</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-5-7-try-x2F-catch-x2F-finally"><span class="toc-text">5.5.7 try&#x2F;catch&#x2F;finally</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-Miscellaneous-Statements"><span class="toc-text">5.6 Miscellaneous Statements</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-1-with"><span class="toc-text">5.6.1 with</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-2-debugger"><span class="toc-text">5.6.2 debugger</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-6-3-%E2%80%9Cuse-strict%E2%80%9D"><span class="toc-text">5.6.3 “use strict”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-Declarations"><span class="toc-text">5.7 Declarations</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-1-const-let-and-var"><span class="toc-text">5.7.1 const, let, and var</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-2-function"><span class="toc-text">5.7.2 function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-3-class"><span class="toc-text">5.7.3 class</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-7-4-import-and-export"><span class="toc-text">5.7.4 import and export</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-Summary-of-JavaScript-Statements"><span class="toc-text">5.8 Summary of JavaScript Statements</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="做情人真的没有好下场吗？"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="做情人真的没有好下场吗？"/></a><div class="content"><a class="title" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="做情人真的没有好下场吗？">做情人真的没有好下场吗？</a><time datetime="2023-08-14T16:00:00.000Z" title="发表于 2023-08-15 00:00:00">2023-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="不爱前行"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="不爱前行"/></a><div class="content"><a class="title" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="不爱前行">不爱前行</a><time datetime="2023-07-29T16:00:00.000Z" title="发表于 2023-07-30 00:00:00">2023-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="租房时光"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="租房时光"/></a><div class="content"><a class="title" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="租房时光">租房时光</a><time datetime="2023-07-21T16:00:00.000Z" title="发表于 2023-07-22 00:00:00">2023-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="故宫记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="故宫记"/></a><div class="content"><a class="title" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="故宫记">故宫记</a><time datetime="2023-06-10T16:00:00.000Z" title="发表于 2023-06-11 00:00:00">2023-06-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集道道之外网信息收集"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息收集道道之外网信息收集"/></a><div class="content"><a class="title" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集道道之外网信息收集">信息收集道道之外网信息收集</a><time datetime="2023-05-28T16:00:00.000Z" title="发表于 2023-05-29 00:00:00">2023-05-29</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 By <a class="footer-bar-link" href="/" title="Jack hou" target="_blank">Jack hou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">11</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 0.88rem; color: rgb(28, 13, 133);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 0.88rem; color: rgb(185, 120, 196);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem; color: rgb(52, 106, 168);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem; color: rgb(9, 99, 59);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem; color: rgb(187, 125, 110);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem; color: rgb(37, 161, 17);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 0.88rem; color: rgb(94, 33, 85);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem; color: rgb(41, 175, 112);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 0.88rem; color: rgb(69, 147, 18);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 0.88rem; color: rgb(101, 3, 55);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 0.88rem; color: rgb(106, 13, 113);">《JavaScript权威指南》<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 0.88rem; color: rgb(187, 154, 104);">匿名<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem; color: rgb(77, 180, 25);">博客<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 0.88rem; color: rgb(61, 127, 109);">安全<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 0.88rem; color: rgb(87, 163, 30);">支付<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 0.88rem; color: rgb(117, 29, 105);">攻防<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 0.88rem; color: rgb(66, 52, 16);">旅行<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem; color: rgb(115, 66, 146);">虚拟机<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 0.88rem; color: rgb(14, 66, 190);">越权<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8868465080" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8868465080&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("4/15/2023 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.8",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Jack hou 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("4/15/2023 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
      img.title = "下班了就该开开心心的玩耍，嘿嘿~";
      img.alt = "下班了就该开开心心的玩耍，嘿嘿~";

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.houyanbin.com/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anzhiy.cn";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>