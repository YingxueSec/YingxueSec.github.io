<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>ç¬¬6ç«  å¯¹è±¡ | Jackhou Blog</title><meta name="keywords" content="ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹,JavaScript"><meta name="author" content="Jack hou"><meta name="copyright" content="Jack hou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="ç¬¬6ç«  å¯¹è±¡"><meta name="application-name" content="ç¬¬6ç«  å¯¹è±¡"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="ç¬¬6ç«  å¯¹è±¡"><meta property="og:url" content="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/index.html"><meta property="og:site_name" content="Jackhou Blog"><meta property="og:description" content="Objects are JavaScriptâ€™s most fundamental datatype, and you have already seen them many times in the chapters that precede this one. Because objec"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg"><meta property="article:author" content="Jack hou"><meta property="article:tag" content="Jackhou, blog"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":null},
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€","rightMenuMsgToTraditionalChinese":"è½¬ä¸ºç¹ä½“","rightMenuMsgToSimplifiedChinese":"è½¬ä¸ºç®€ä½“"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'ç¬¬6ç«  å¯¹è±¡',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-26 21:44:12',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QBwRXhpZgAATU0AKgAAAAgABAEGAAMAAAABAAIAAAESAAMAAAABAAEAAAEoAAMAAAABAAIAAIdpAAQAAAABAAAAPgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAABQKADAAQAAAABAAABPAAAAAD/7QA4UGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAAA4QklNBCUAAAAAABDUHYzZjwCyBOmACZjs+EJ+/8AAEQgBPAFAAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/bAEMAAQEBAQEBAgEBAgMCAgIDBAMDAwMEBgQEBAQEBgcGBgYGBgYHBwcHBwcHBwgICAgICAkJCQkJCwsLCwsLCwsLC//bAEMBAgICAwMDBQMDBQsIBggLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLCwsLC//dAAQAFP/aAAwDAQACEQMRAD8A/ugop2R6UpaND+9+UDrT9ojQZUsQycV478ZPj58IfgR4fXxH8RtV+xW77tp27s7MZ7jpkV/O9+13/wAFWPil4z12bQf2bLpPDOjLEsOXQEvs+6RjGRyeuPxqzopUpXuf0B/tCftK/Av9nHTRqPxZvhCMN8pH93Gf/QhX4KftE/8ABXX4qeP92g/ASwPhzRzuVZHIbcOOeik9/SvyGF42vkHWsTGLIQg8DPpT44xENqcAdqyqVFY9GFPTUu63q/iPxT4o1DxP4l1KXUdQ1EqQspyF2Zzg575/Sq0G5Btbr3ruLr4V+N4vA178Rr2yaLS7FN/2gHPzHOAfTOPxrgI1kAyQTjqazw+8izTtpNjE4zur7n/Zq/YB+Mn7QOkJrVi2n6V4ZmOBtGTjsTyvpXwaHVPvV/Xd+wX4Q/4RH9j/AMDWCw+Wfseev3ulc+PdogfLXg//AIJDfs+aXqX23xlqF3r+/HmBpcZx0wecV976N+zP8C/Cv2SLRfCWjxrCCDm0VmboASSeo9817ciqh3Ac+tTyKJF2NXguHNIDNO3TgGXB696/ll/4KH/tZ6n8d/iPH4Z8JX4ufCGkiP7En9/b98+2cL+VfS//AAU5/a1XWdak/Zw8FSsJ9IjEWvsr/u5QfvY4GVYjkZHA61+aP7LP7Mfjv9qT4lW/w88GN9nshg6jqgXIscdT1H4c8162Dw1tWLzPZv2EP2QfEH7X/i2VHKxeFdPx/ackiErublVBBGWx2/lX9W/hD4beAvht4KTwF8PNLi0vT4htSOMDI+p4zWP8K/hV4W+DXgLTvh34NSRbDTU8uLzW3OVGMbmwMnrk16WiMpGa7pSSVgsXy25Q3rTaRTlAKWuNjPmn9r/4Iv8AtBfs9698N45FRrpFZVcZDlc8e3XrX8cE0fiHwj4o8kA2eo6VeqjbhyrKSCK/u2ycYr+R7/gpB8K7/wCGv7WutzxQLBpXiRRqFiF6EMSGb2Occc1E/hA/ph+BnxAi+M/wZ8N/E2Q+Z/aVovOc/d//AF16j9kt0IZVr8eP+CQvxtk8UeC9V+FniK73T6XF5kKt6jPA9B1/Ov2PJJ6ivCx8XdBHcuIixrtXpTqKK8461sFFFFAwpr/dp1MkBKHHXFXT+JAfx9f8FCPgbefA39pHWdDgTZpuoN9rs3XjKydR35GB3r6Y/wCCcf7HPwH/AGoPDfiP/hYH22a90V1Rn87gjD9sDAbHvjFfQ3/BZbwnZXsXgXxSgAuWN5bynHLgeUVyc9ufzr5W/wCCV3jBfB37VlpoVxJst/EFnPZyxngPuKnP1B6fWvqsDsDvY+d/2svgA/7L3xuvPhVaR7dFYb7BgoB9wT346c+teQ6D8M/iR4h8NP498M6BeXeg9Bd7doOeOmK/oa/4Ky/AbTvGPwVHxVi41TQQpZ1XLSKO59/wNfnR/wAExf2grL4X/H+bwdqjbbPxflXbdgKV4TP0LHuK7pOyuT7RdT5V+DH7V/7Q3wSQWXw78VTNp0YHk6dqiG90onnhVBTk55Ga/Zz4Nf8ABYLwDriSL+0Fp7eHb5ioV4ysisOeexx06gfjX0r8af2Cv2dPjTdz6tPoy6Lq11gtfWAEcufXpg54zxyABX5CftE/8Eu/j18PIX1b4eEeKtMjyRs/dzIo/vL8wPfpXI8Wk7Micos/pQ8A/ETwP8UNETX/AAHqcOpQMoY+UwJUH1FdopG4Cv4dfhx8WviV8CfFL6z4IuJNJ1W3cJKCG3BkJ+Vl4z3H41/QN+yV/wAFU/h78R9CtdD+N6p4c13o0bMGY+56fyrrjVi0czV2fstF/qxUlMJWJMnoKfWpD2Ciiig4mtT/0P7ouG4xj6V+If7YH/BVjSPDTXPgf9mORNT1aLiLUiu9GB9zjIHNfml+1R/wUS+MX7REl94a0B00XwXJIy+Ui5Z8cfeG04P0718IxszIrxkgNnDDvXFDm3kz1YYWzuafjHxN4n8e+O9T8e+Lrv7Rd6l5eV2427N3fPOd36e9YbogXMgLAegyfwGa7rwF8KfiB8UNXbRvAWnT6ncjGUhG7G7OM+mcHFfv38Fv+CUvgfwd4mPiP4zav/wmR+XEZXywTznne+O3r+FZ1cYo6HpQppI/Gf4HfsUftMftB3sdx8MfDEyaIwG/UtRP2OMZ/urhyx4PQjt61+6vwX/4JO/s+fD+ATfFpW8S6moU5LFVQ85AznrkflX6cRNk7vSrZVG7DOM++K4frjk7FOGh+C3/AAV6+JVjYeGfCP7PHhy6LRoyJdRL0UEDGT36HIr8xv2XfCV/4w+KOVQf2ZpVheahfk9o7Ziv9DVb9qX4o3Hxr/ao8YeNLOZpNJjuzb6cpHTYWDMPrkAfSv0C/ZS+GQ8Mf8E9/jF8YfL8v/hJdO1DDD/loeMD227se+fbn1MJPS7Odo/G5UN3aJOrbS3Uelf25fCOH7L8LvDOR10m1/k3+NfxL2+1YcjgbiB+PNf3Sx4wAoAAAAAGAB6AelcmZz7CLwlJRnA6Cvgn/go3+0bqf7PfwQe38JFF8Sa/CVsN/BAXAkKnsRuXB7Zr7H8b+O/C3w38L3PirxVP5FrbnDHrz6V/H7+1H8fdd/aX+LOo/EbUMpAWK2MTNlltD/q+QByfTtXNhIPdgeR+FtD8dePfE9n4a01ZtZ1LUCRvYnhTjJPXC1/Wl+xH+y/afsx/Ci38OXBWXUrlFNxKBg+pBr84P+CVH7G96b+L9pX4k2P7qJVfw8WGGC9Uf8jnpX78eXv5zivU2joAiorJwOaeIvbFOj71JXLKTuA1V206iioArMcAn0r8Yv8Agsd8OftvwM8PfFi3TB0LUwJgOCY3BKoT2HDdq/ZxmVVLN0FfPX7TnhXQ/iT+z54q8OyylMWpAbbu27s9sjPT1raK11Ez+Yf/AIJrfExfhx+1noeot/yDdWtxp8rE/KCxypP1B9q/roJB6DFfwreHNVfRJoNYaLzPMJ1JV3beAeEzg9f09K/uL0DWW1vTl1Dy/L3AnbnOAPfj+VeXmME1dFLc3aKKK8U2WwUUUUGoU1v7vrTqa3GDV07c2oH5lf8ABVvwXZ+If2P73WJRtl0a+sNQRgMsu3zAxH0HX61+Cf7JXjWy8CftSeA9f1HMpGqxAJu27vXnB9q/o9/4KCTrdfsgeNFccRoE/Bc/41/Ll8KSrfFnwhg/d1u0J/Mj+tfS4F6ETvZo/ty8eeDNF8eeD77wlraB4L6MxMSM4yOuM1/EJ8Wvhhqnwc+Kuu+Btcjkhv8ATbthHKDwYycrjt27fnX9zUZwjbucE1/P/wD8Fg/gtJDbeHvjzM3M5j0q52LnDJk7ic55HI47V01Kis0efNyTsfqR+y/8dtP/AGjPglovxKsj+9uF/frncUbA4JwOhyOgr6YfbIAufyr+dz/gj18aW8PePfEf7OWsXGwa6ZNU0tG5DBfQ8YyT7/jmv6GUTAHbHavExbcWmkCcm7M+af2i/wBj/wCC37RdiH8e2iSXZUgXwUC7B7ZcY3Ads1/NZ+09+wV8ZfgFMfE18Dq/h532f2lGxdYiegYbRjPPev68ZAMbj2zTUP2xdvSinmFnZo7adOy1P5Wv2Tv+Civj74AXMOgeJj/wkfh9AF8qM+XJFk8lScgn24zX9Rnwo+KPhH4s+CLPxr4KvUvrO6QEMvDIe6sOxFfg3+3T/wAEtodKs7r4mfsyaUZI9xm1DRYuAxPJeI4+Vep24PWvzc/Zm/ag+LP7L/j4eIPB0nk2isINT090/wBdGh+644wyc7T717VDEqS1OeS1P7V1UsMrzS7Gr5o/ZX/am+Gv7UPw3i8f+AZVEoVTfWIYH7HnPsPQ+ma+nfPik5XkV2LU5+W72P/R5SSXzwElHyHqPUV+gv7I3/BPP4qftFTx+J/EmdD8Bk4MrsQZvcDqfb619T/sB/8ABNu+1O8sfjJ+0Lp6xrEC2n6I/ER242n6JnrjnNf0FDjKtwa8XE42NrI+hR4t8IvhT4O+C/hG38DeB7f7Np9t/q064zXrjETIPaklgUnK8U+vBdV3ZstimY+P8/418vftlfG2y/Z//Zr8U+P5JPK1KNzp+nY4y5BIHfsDzivqlF/ir+eT/gst8SNSk8U+E/grYRm3EzEPbhtytlRjPAzjOa7cNdPY0krtH48aTouqaxqFvoeiqZ9QuMyBc4LHqT9ea/qn/ac8CaZ8If8Agm5rvw90Jt1vp2gmMHG3hhk8ZOPzr8f/APglT8HZfiP+0yvjYANH4QDSOhH384AAOeDlffNft7+3tF/xhn8Rk7JodxgZ6YxivVptpaGEpRufyWeCkZvEWilTz/almD+LV/cEMn8AWP0r+IPwIEHibSt56anZt+Ac5r+0f4leO9A+FPw/1n4j+K5fK0/SrZ/Nb0Jxj+Vc9a8pID8cv+Cvvx5sIbfTv2fNEcPK5F5qW05HmnAUfjg9+1fmP+xd8AU/aP8AjJbeAdVkA0x1xdKU3blOcc5XA4PrXhXj3x/qvxc+Iuq/EPxJJ5mo6vqJ1C4J6EnPH5V/TJ/wTZ/Zo0n4GfA5fEUcRh1TxW6Xt6P9qMEKfrlmrvowSjcOh+jeieHtO8PWCWFiMY6n1rbrOgEijDc/jV9W3Vo5rYViaPvUlRx96krje5AUZ7UV8c/tzfADXv2j/gNf/DvwzfGyvbg4jP8ACxPY/lxSA+viMjmmxxABlXA3Yzx6V+PH/BN79ry51+W8/Zv+MFwqeLNDBaQF+WUHBO3HHUdzX7ExyLzuIH41b2A/hy+N/gWT4WfHLxZ8MfK8oaTd+UqDsrDAA6+lf1O/8E9NbTU/2PPA5Mewiwjs+ufvfxdvTpX4B/8ABUDwGPCH7b3iiSGLampx6dqLHsZCzM3/AKCK/U7/AIIy6rJqfwD1zSJCWSw1qZowT91cA4HsM8fWsMTZ0J33A/YailOM8UlfNmgUUUHhSx4A71UYt7GgUxhkgU+mZy+PSrpL3jQ+Tv22ohB+yB8RzuHzaNO3pzxX8fAXoT2Of5j+tf2K/tuz6LH+yF8RP7Xzg6JOVx6cf/Wr+OVHIXcRxkCvoMInyMTd0z+9/OxCVFeHfHb4eW/xo+DniP4Wako+zatbPEeMkE8gj05Fe4q25SCOKzmix0GM0cz5jj5bn8S/g/W/FnwE+ONpdO7Wmt+DL8FX7sEJAz7denrX9mHw48ZaH8U/AWl/ELQ3H2fVoVnRR2DD07c5wPSv5if+CsvwN1H4UftGf8LBtnH2Px8++FQuNoQjcM5OSpf2r9Nf+CQPxXi8afAXUfAKqVfwreeQctk7ZQcdhgZUnFZ4unzRJiup+uDx44NRW8fl9O1fKv7a37Qdj+zV8AdW+JBz9vhwtptODu5yOh68dq/J7/gmz+3b488QfFGX4UfGC/GtnxJKJNNv7r/WHk5Jz6gjjNeRHCSUrnUnof0Gy4cgk1+Qn7ef7AcXxE+2fGb4XnyvEkWZCCuQVA6EZ5z+GPev2BLKWIGBgbiB2A7/AEqjdKJCCO1d1KTgrMzsfxu/s5ftI/E79lv4nD4gaDO8aCUQ6lZ4Ij3ISHyue/ev64fgH8bfBX7QHw0sPih4EuRLZX67lQnLqvYt9ecfSvx5/wCCmv7EumyJf/tK/D2EQwBQdasYl/1yjOGA9Rz9a+A/2Bf2uL/9mz4tQaXqWqtB4D1fL3kb5kVGU4XAyNpOTnntXq4fFpLUy5Uf/9L+4EEg5HUUBiKSivgZ1JNan0NmFFFNY7VLdcCsoP3izG8Qa/YeHdObUL5sAdB61/Fd8a/HU/xg+NPib4j3EjeXqd4zRqx4HJyR3+Y/0r+mH/gpV8W4Phl+zJPDcExnxNIdNDD0fnbj/a9fav5nvhD4Pb4r/Ffw/wCAUh837fdqCg74/wD119RgqSs2y2rqx/Sn/wAErPgdb/Cf9nj/AITi9tfJ1nxSwuJnP3tn8I7dMmvev25rFrz9jf4lRgZb+wrjHP0r600mBLDTEsSMiPvXiH7UWjR+Jf2cfHWkb9gm0S7XOM4+UHOMjOK7OWyOVw1P4uPDFzJF4jsHI2hbiJs/RhX7xf8ABXv4yvZ+F9G+CWjXRifUcXupIP4zgYH0J5/CvwatbyNpFaMANxgjtXpn7Q/xQ1P41fFnVvHN9KzJJKVh5Pyxg8Ad657LmLsezfsIfs4N+0H8crDQpzv07TZVu78gZBjU525zxnbiv6+gnIAr8hP+CP8A8FrfwL8FtQ+MF0gF/wCL0KFcYMaoScA5Ofvegr9cokKtyc1t9kvU1URdtSUijCA0tc7kxaFiiiimSFId2PlGT2FLRQB+Tf7ef/BP2y+NCH40fBlv7E+Iej4nV4PlEwXnDAY3bu9Yn7B37efiH4oeKpfgH+0Jp03/AAnqbZd5Hlo6chs57jAwf4vav10dQTv7+teWP8MfBrfED/hazaZbHxF9i+x/bfLXzMepOMmtbisfgz/wWd8PQ6P8ZvDfi9Iwn9raWilc7iGj4wT368V03/BF3XJbjxD8RbBhtD2Gm4Pusb/4mt7/AILTA3ehfDs4+a2kfnvhgox/46K8Q/4I63bQ/GvxOAMbtFb8cMP8K5a0HJNAlZWP6T6KKK+dZqFfOfxY/aQ8H/B/xF4X8P8Ai/8A1Piff5bbtuNm3J6HON49K+jK/nS/4LM+K9nxH8LfDYw+WNFsPMzuzxuHbHf69q7cNC6uaeR/REsiMdq8egNWVAHFfmN/wTX/AGlV+P3wR/sXVZAnibw9nzoy247ZO44GRx6V+kkN07KN4ye/1rTlszX1Pjf/AIKKauNF/Yx8d3Pk+cZLBtPA3Yxv/j6HP04+tfys/DDR/wC3Pil4Ps1byydfsRuxnAO/txX9G3/BXbWBY/snjTli8z7frVpGfmxj7+T09unFfzo/CbwH4y+IHxC07w58MTjxRLvOn8Z6Y3dx7V62FS5RJWR+/wB/wUV/bIvTqM/7IfwItn1rxLr8bWt20DgRxRPjdv8AlOAO5zX3/wDsffCzxZ8J/wBnHwx4C8Y3aXl5p9qsbMi7QD365/nXzd+xV/wTr8Lfs2aiPib4pmXVfHN6zSyXLfM+W+8MnO0DsBmv04HzgqTg1q4a3ZySkloj82f+CoPweh+Kv7Keq3KyC3vfDjC/t59u5kKdQB6Hoa/BX/gmN8Zdc+DX7UOl3S5XSdaJ07VUPQpIw/MqwyOa/sNaJWOT9a/h2+N/w88R/Av4s698Mdej2JYTkxMBgSI2cMPUEc9/rWbQKzP6gf8Ago74K07x1+yJ42S+Akh0/T3voiF3FgoyCp7eua/kvtoltVAyAAMD2Ff1VeDfincfGL/gnEPG+qyi4u7nw1dtO3q6yHBP45r+UW9ZWKI7bc9fXA61Dgt0Ur9T+vz9iv8Aaj8OftO/BO28Y2L+bqVor6bqJLZJ6YPbGcHH0r65QluvPpX8pH/BOX9pEfBD9oaw8NeI77y9A8YGPT1yvAwST39+PpX9Wy/KzL0xXnYtNLQEiTGO2K/kv/b7/Zlb9nz42tBo0WzwvqyA2LhcAMv3h1PNf1oM+FJ9K+RP24f2cl/aV/ZxvvD1kI49Vgb7Vp7t/DgHHrgPxnjjFc+HqNXuDZ//0/7gKKwNCux/YFocdQ3+f0rbjfzF3V+fn1fKSUH37jNNcblK+orm/HPivRfAXgvUPHfiGTyrLSrfdIfp0rTDxblczbP5qf8AgrN8a0+JPx9/4Vvo1wZdL8JQudoI2PcYAH4jnHNeqf8ABHv4RL4j+IPiD4pF0L+H4hHGjLnDuWwQc99p/L8vyP1PW77xZrF74v1xzLeavqL6g5br5bnhTX9AH7N/7TH7MX7E/wCzFpFhrWoJd+ItYVru7sbLBG88AeiqB35z+FfU0LKIPY/awKQprM1aNn0a5XuwAH4EGvwX1f8A4LQa19tNn8NvAUBs4s832peYx9CAv3e+c19O/CH/AIKrfs1+OrMv8RmHg/UZNomE4GxiM4G4Y3Yzwa3Ekz+YvUNM1LQL99Pvk27eh9a1/C2kah4y8SWHw90GPzdR1vUBYwD09W98emRmvYf2prbwhc/tBeJ1+H17p934fjuitj9gPCJySrDsMn5eT3r6X/4JgfDP/hKf2v8ATdemj32/hW0/tiRv7pJABzWBLP6hvh94I0v4b+CrDwPoUYS10u02IBwCUAyfxNd4YdvapvOWT+HqMfhU9aSWhLbICRgADGKSiiuRo5pc19AoooqiyxRRRQaBVaeJGQnpVmigD8SP+Cz22H4U+DQR11o/+gj/ABr4D/4JQP8A8ZVYjTP/ABJdQz/3wK/Qb/gtGFPwo8FhTnGtH/0Ee9fBn/BJQQr+1W3m/wDQFv8AH/fA96mTSV2B/UBRRRXzSepoFfyy/wDBWLxpH42/a0m05ZR/oGnfZC3XkdG7dcdK/p+8T+IdO8J6BceI9Wbbb22N5+tfxL/GDxpH8SfixrfjyQt5+oXBcljn5TnaK9bDQtEu2p9P/wDBN/4iXfwo/ac8PWtwDNpnikS6XeR5wCG27GYjtyfSv6yjB5bbTwfSv4XgrIo+YjBI/HuK/uC+Gfiyw+Ivw60j4hWPTVLcTE5zwAM+nTNU46mra6n4mf8ABaXWST8OfC8kX3ZtSvPMJ9MgLtx7DnP4V82f8ElNDN5+1sviRWwNM0S/BTGc+aYxnOexXGMc59q4f/gqB4+/4Tr9rLWLaKTzV0hFthjjGC3P4g198f8ABGTwok3hTxb4xLc740VOuTLvwc57AYxjnPtXpYRGTmran7tKu78Kkw3rTBkHApf3laSkrmLZYj71/Oz/AMFpfhnMfF3hX4qREB9TgSwlCrkluzE5/h+nf2r+iePrXwl/wUT+GEXxS/Zb8S6BAQNRss39mcZYYHQemDS6Er4j8P8A9kX42Xei/sb/ABs+BviPzJDa6FNd6aB0CuriRAPTIUjnvXyT+y58Pf8AhZ37Ufgzw0sW8S3u4t12A45x3/8ArV4K+rC5hKFQSy4PFfpP/wAEl/CJ8SftSW/iRpvL/sO0VvK2Z8wnd3yNuMZ6HNLlvozU+TP2rPgze/s+fGDU/h3FFiKH5bRcbRLYHgLjJwTg96/pd/YD+Px/aA+AWnX+oTfaNW0WKOx1GTuZ0Xkke4AOeBXyH/wV9/Z3bV/C2l/tD6LDmTw8x0+7CjJaPqrHn69vxr41/wCCUnxXXwt+0h/wgzSbf+Eq09Mw/wB4ox5z/s7v1rmxNCyEnc/ptoHA2joBgewpAyk4BzS14kotPQZ//9T+wH9mK4Grfs5eA788CTRLHHudn9a98XA718Af8E2Ne/tv9izwPqQj8tpJBuXO7A+uBX30kOwAZzXwU4tOzPrE9ycnAr8jP+CufxQOg/BvTPhXGrAeJblA7K2NyLjI/wDHh37/AJ/rmAXPHav5LP8Agox8bpPib+0rqkPhq4zp2jj7JD3XgnJHXr35ruwlJrVhbU+JVtXgxnv0qC4TOD1r7v8Ag5+z3Z+Jf2Sfin8edfG86H539mJt6eVn+LPbjtz618DiYt1r2IPYn2iTJgMcUhGRikLKv3iBTgc8iulPQi6IQ5jBcZOOw6193/8ABPP9rn4Qfsp/EHxL4i8e6RciDV7ORVbOMDcC3Y5xwO3WvhaiqH0sf2TfBT9s39nn4+6fHf8Aw916NPOGVXUcWhH1yWxX1Sk5YDI5r+DjKjluAOtfWvwQ/b+/ab+BWm/2D4b1t9U0QgBEviZJCF7byc4GT271KZlY/seUlRnsaPNXO3v9a/GT4Y/8FlvgtrGrQeGPiRo994dKqA8jjeA3chcDOfTPHvX6o6B4/wDCPxD04aj4MvbXUrY4y4G/GemRx1xWNkZ2O/opA+/5sYpN61mQWqKKKDQKhuF3xEVNRQB+J/8AwWUQP8KvB2Tn/idcf98//Wr4E/4JR2TXf7Vh2SbNmi6hnv1QV9N/8Fodbkgvvhn4daPl/wC0L0vu7ExnbjH05zXl3/BHGG6uPiv4zn2/Kmk7Qfc765sbf2Erbgf0aRy7CQRVtnVfvED61CYe5avMfjP8XPAPwQ+Ht38S/iC23TrLG9g2Oue/NeFQpycjQ/K7/grj+07D4T8EL+z7oEha71yF5LzYfuRjAXP5tX44/sYfAP8A4aM/aO0H4b38n+gGNtS1FNu4tHEQCOoxjP61wvx2+L2r/Hj4xa58WdUDRprEoeKJzyoXIJ9s5HHav6Lf+CYn7MWpfs8fCibxv4gIk8Q+JY98s23ZhOSg25OMbj+dfR0Ka5bMvW2h/OF8cPDLfDL40eMPhqZd/wDZOtXQC7du0Pt9z6etf0sfsH/F0aJ+wHZ/EHxYf9F8P2N7GRnG7a+7OccZ3Y79K/nv/bXimb9tb4pSyHcra1Jt7dM17/4l+PX9g/8ABOzSP2ewm3/hK7i9iL7uojCn7uD90+/O725upR5dUVUV4nwvrviHU/GPiPUvG2tuZ7jVIm1BnPJGSSB+Ga/sJ/Yj+DFr8E/2aPC3g9YRDf3CC+vT1JLAcE469MV/LL+xD8Go/jZ8f/D/AMMtSUTaZc+Y16vUNp2FAPt3r+1Dy0jjVIuBjoB09vpVU6nKrWOCbk5ETEFiV6Z4ptFFYubbKV+pbXIBI615v8S4dai+H+s3Oh2wvL5rSVdpbbuBHTpxxXpMfejBUHBrVaou5/CHrWmw6RfTaT4htf7I1gyP/oW7zcYPPz4X/wBBH6V/UN/wTY/Zil/Zx+B6+IvFtl5XiPxOfPnXqUGBj8yfSv0Cu/A3gu7P+k6RZPj1hU100CAY7+la2NGeZ/E3wNpfxP8Ah9q3gHXohLa6pbvEyt2cj5W/A1/FtqieOfgP8Ube4Qmy1nw1cgxkdntWO1u3ysG7fnX9y0sQJzX8vv8AwV7+EOqeFv2mpPHTKDZeJtODLIowqzNnr9Mde9TPVBfU/ot+E/jXRfiZ8MNE+ImjoEGpwB3UHowAB47ZOeDXfV+Pv/BIn4iTaz8Fta8IzuzPpV/wrDlVkzgfmp7V+vUczuoZhivOnFJgkf/V/oV/4JMa4br9mfUtJ8vaNH1yUBt2d5fHbHGMepzX6wwXnm9RX4T/APBHjWHu1+IPh4JgAabel89dgPy4/A85r92I41X5U4r5DFpRxUkj631PD/2mPjDH8C/gt4g+JhIT+zrOX5842tx7Gv4uJIstvJ5Ix+Vfvr/wWJ+NLx+EtI+AemSGNtQK6hqcYP3tgGAfYk5/Cvzy/wCCdfwv/wCFpftSaJFeR+bpukbr2977Y48V6VKCUUYTkrH9JX7PP7PWk/C39lfw/wDBPxHBBdsbGIXYkTIBHIwM8EZPevg74/f8Ejfgv4qiuNf+Fd4fDOpt83lKu6Fz9M8elfsUVY8mrceM7scitmcTk+Y/ju+KP7A/7XPwbsX1fXPCo1SwQnM+n5uwF9TgKRnnHB6V8gRyNINzLsPoO1f3tHOOK+JfjX+wh+zp8e9afxB4/wBBjh1Jclb2yAhkJPdsD5ug/KrN1Jn8gYBPTtSAZGR0r9kPj7/wSG+IuhadL4p+AXiE6zANzfYL0E8Dp0I7Z7V+R3xA+Hnjj4Ya2dD+Ien3ej3AYrtf5Dn+grWxoYBHY0qj5hQxyc/zpB8zbF5Pp3pALdxeeoUbf+BdKND1PxD4Q1FdW8N30djcDo9mdpOP73rUrDKkVlLAisSoApoaP1R+CH/BVX9oXwVqMNn49A8TafgK287JUX2POa/X/wCFH/BSr9l34g2UEXiPWG8LavLwdO1NQkynv37cdu9fygWreWMetP2ZPUfj0rIyP7x4+9PJAwCevAr+LX4Hftd/Hr9nLVoj4J1fdpkeALCVD/ZuB1yc9ce3Ff0OfsD/ALbUf7Usup+GfHdrbWPifRh9yNskAkg84XrgdqAP03ooFIGU5wc44/GswP5lf+CzXiMXnx+8OaOsPlnTtFkQMTnJDg/h1x+Hvx73/wAEZPBsQtvGnjrzARujsCmOhG45znnPPbjHvX5PftheKrb4k/tO+MfE8cpLzXzllH3VzxgflX9Dn/BK/wAETeCf2PNLWePa+qaheX8jH7zPLszn6YAFZtc2jF5H6KMqsNrDIPWv5cf+CkX7YDfG3xPP8G/Bk0g8K6VdiQk4w5HBHbrgHrX1J/wUj/bvW+gm+BvwR1oxuC8epahp1xnIOB5YIUY6HnPNfkV8Bfg34i/aF+MOj/B/w+QBqwkMj43bRHjnqPX1FXSw0YmnmfYP/BNj9lLRf2ivii+ta2om8K6GT+528MARxuz/ABEDtxiv6pZbYFgp5POAK8w+CXwt8MfA3wHZ/DnwTbrb6ZZLiMBcOWP3iT3JwKvfGf4q+Gfgl8Ltb+K3iR/Lj0qzkZCeBlsZ9fQV0RSSKbaP4/v2stRXW/2oviDq/eXW7nP/AAEgV8/mLeFkPIHQ49B/hVoQrvBm5BwG9cDj+VfoB+wJ+yFqH7SXj/8AtXxHZsPAtmfn81dvmKQSWySMDg+tJ67mkpxtY/UX/glJ+y9b/DH4V3Pxj1OEm78VErYMwKmLTVwAgXqNxGetfr6khNWXgD9T0pPI96xOVq4UUgZW6HNLWYy5H3qQ8daiQMQQpwT3r55+KX7TfwU+B0pX4teKLTTVOcBj83GO3HTIzzWyehLWp9D7Pf8Az+dQqpHT9f8AJr8Avir/AMFkpYZL1/gf4Ub5dq2+oaqBgddxXjLA+nFflZ8Tf2wP2p/iPo40Hxx4tvNS09juwrFAc+uD+laFpM/pt+Jv/BR39kb4TXIsPEHiqC+ugeU0zF0g+r5UYr8F/wBuT9vrS/2qbAeGbbQzpsmmXO6JiRucMBnIwPQY57mvzrguSycjr61XliUsG71LehSjY+//APgnD8XtW+Gn7T2hmMBJNZb+zNXJOAokOcYxklSD6V/WYIlU7QeR2r+FzwL4muPAuqad4htS0R0nUBftIp5C5HQdyMA1/bv4F8T/APCYeDNN8YGLaNRsVulfOcnA+XGB0yOe9ediovoB/9b9Cv8AglJe/wBnftWjTSvmfbNF1DnONvlquOO+c+o6V/THFJI3zMK/kR/YO1A2v7YngYOM7rpv6V/RJ+3/APHG0+CH7MWvahAyR6nqyrYWCuMgyy5wcd8V8pi4N4qTR9TU2P5xP22PjVbfHH9pnxJ46tcvYEPYW3qkUf3T9BzX7M/8Eb/hfa6B8GtU+LklqPO8S3O1ZT1McPLL9Muua/nX0jRbDW/E+m+ENJXyZtUhGnxLjdz3fHGSOOM81/cf8P8AwRofwl+H2j/DvQY1jtNJsfscCrx8nHP5+lehT+E8+o5XsjrtqnkDANOpqKyQhiCAAOTTqshJ3LknaoyM8VI/OB0r4c+Lv/BQn9mX4M2jNr2tf2rcpw0GjD7W34HKA1oarY+49igbV4x2rm9e0Dw/q4Q63ZRXfl52eYoO3OM4yDjOBn6V+EfxM/4LI3G17D4M+EtzLn/TtTO4kf8AfI9+K/M7xp+3b+1t4y1eXXbvxrf6XM+dx0pzaHHYDG4ADnHHc1tdbmqiz9Uv2wP2J/2DpbzULCfxbB8Kb9lEreUcAnJGVG4Dtg4A7V+AGt2tnoWt3Fxpd/FrEsuPL1CM5VgM8EgYY5PXAqzJff21MdWaPyjL/Du3Yx74H8qiuYg2MjOKV9TQjVty5p1IAAMClpAFFFFAEEqAgL29K+7v+CbXwuT4g/tX+H9SD4fQybxVIOGHHcEdwMV8LBlJxnNf0Bf8Edv2fPFOm2Ot/HDxha+Tpuq2q2dgrcMVBJI7Z2hhzjnPtVLsDlZH7plQ2cHrXyV+1p8bNP8A2f8A9n3xT4/SQCddOl+wSk/8v+NpI+m5T79K+rY8+tfzXf8ABVX9qzw98XPF+l/Cf4chkfw7exq4LZLSd12gcfd9TWd9CXe5+Qmgg3+pLayrtD4ya/WX9rb/AIKDwS+Frn9nf9mS7xoVpYnTTqa4Zhu4lAkBG4kgE4Ar8n4JVhfcgwVzyvNfTv7M37H/AMU/2nNU8/wl5VrojbSuoSHcDnPRMjPTruFYlHknwZ+D/jb44eNU8BeBbV7rUJkLqqLuGB13HsOetf1s/sr/ALNWh/swfCjT/Bmnyx3WsiNWub6MbVZuflxk/dyec85rb/Zv/Zl+Gv7MXgk+Cvh5Awa4Km9uzyLpee/ckHk19CeSa1J3LKsNpkx8w6/U15t8Vfh34P8AjN4Cvvhx47tftOnahgSLn+7XooQ96i8gg5HehyRUrWPxp0H/AII6fDXUPFya83im61XwyxV4o9/Lbc5XOTgHjNfrh4M8C+Ffhzow8O+EbJLO1Vy+F6ljgHJwM9PSu0tW2sKmljz8w/Gg4pTZErZ4PWn/ADfwKGPYHoa/Lv40/wDBWX9nj4Uah/Y/gOf/AISLU+QNibQuMeueK/JX44/8FWf2mvGmrzS/D69Tw5Zyk/u4081u2M4KZxRYtNvVn9OPjv4sfD/4XaDJrvxG1G20hIuofgmvys+KH/BZD4QaPEs/wh0W78VbSwJVRGpxjBBOcDr2r+dnxf4w1z4kap/wknj+8v8AV9SfO6e8fd/3yO3v61zgVVG1BgDpWdzWx9/fFP8A4KUftU/EG2e2t9aGkCQ8m0Xa2PQ9P6V8AjOOetTsN3Jpvl/5/wAmkMkIyMGlycbe1R+bGPvED61KoBYAkr7rwa0NCIxMOvH4UeUxG4dB7V0Oh+DPFfirVBpHgexudXuD1VTkLnp271+lnwV/4JXftHeNmjk8eIfCWRuO4+YVz7fJk+2aT2A/LHb8pUngjkV/WH/wTa8cnx3+yH4Zso5vOOjQmzZsdQMDPtnFfjb/AMFBf2SvBX7Ltv4K0jw/PLI+rJeSareyndulBVVZUzxnDEjdzn2r0D/gnT8cNP8AhJ+yR8ZNzfPo+6Yc4MmPMG3oduPXnr04rCUU3qI//9fgb/xLdaDcf25oDbbmzztP164r9a/+Covxsj+JN54W8CmLc2mWK6oku7I8zgAFccdOuTmvyQmVJWGQMVo70CAcLnj0zmvFcU3c+rlsfpr/AMEufgx/wsH9oV/HuFudO8LM2x2XAkkY/KcZOPu5xmv6RPiX8UfA/wAIfDMvjb4jXp0/Tbb/AFk+Mlfwr4T/AOCWnwQvvhH+y/pWt64gF/4mzqcgxhkEwGFPrgd8Cv59P2qP2p/ip+0D8Q9Xl1i42aPLerPp2nlNpWNS27c2SNzfLkY4xVHK43P33+Ln/BWj9mr4dTz+GPCgvvFV23G23ONv14OAa/PPxz/wV7/aB1+3up/h14ftfDCKR5fmKCwB7kADJ9q/Ifzy/UYx2phZ9uwMQPSgy5D1nx/8fvjf8WWa4+JniS61WVzuO4lUGewXJAFeVQlgSWOT61FUkfetCo7klIR196aJFzTgQa3R1xWhFAohTYh4H9auB0PQiofxC+5GQK2dM8JePPEWf+EX0nUNcx91bDT3JbPoQBnFJ2YudIzwCelJX278Nf8Agml+2H8T4nkudEk8KIAMf2iu1znOfl4wRj3r9K/hR/wRt8PwTKPjP4outbSMA5OQGJzkD5jtxx65o5R+0R/PvWrLpGoWn/H7Z3Sexg3D/wBCFf2F+AP2L/2YvhayDwJ4D0+IQf6s/wB38xXuOv8Aw48HeK40Xx5ZWutMoO7d7+npT5TDnSdj+an9hH9gDxb8cvFsHjP4y6X/AGX4d0yRXeJRh7gnlRyOV4PPav6iNL0Sy0PTV06wXaB1PrT42/Sr4cd6SkhTuVFj/CvxV+Nv/BIDw343+Il98QvBHif+x3vQpIuNxKbc9MEZ6+1fttvWqlyofBAzRzIFJs/KD4Gf8Em/2cPBcC6r42EPiy4bAy/KKRnnBz/kV+rFvANPXavI9aiQbDmrTHcMGsuZD9RWYnjtSJGh6ikqSPvSlJWBtWIgAOlJsWnUVzX1M2xqrtr8jP8Agq7+0TpHg/4Lw/B61/5CfishFO7AjZRkAjHIwTzkYx71+utfy8/8FcbA6F+09pvict5n2/RFi8vG3ZjbznnPXPQdK0Rgj8taTAzupA4Khuxp1amoMSww3NFFFBoFRypvTaf0p5OBmv0E/Yl/a0+C/wCz0tmnxB+HtlDHG+1vEKoCyY6F2x8uc+/Q0+Vj5WeV/Bz9gD9pf44yvfaH4Ylt9NIUx3moObVHBznaMOSRiv2G/Zv/AOCRPhD4epBrfx91P/hLboqC1nsITPOeCx3dR6YxX6h/C74ofDH4n6GninwHrMOoWM3KOpA6+2TXsCujBWTkDoapRHJvoeN/Cn4JfCv4H+Hl8K/CXRP7G0/j90o/u5xn6ZNevRqdmK0lfjmjy6LEc+lj8cv+CxOmvL8BND1/OP7K15CI/wDnpxwM9vyNfz16F8Q38OeAfGfh922weLFs3aIfwlFdQvvjHXA61/Sj/wAFc4o2/ZOZ1Oc6vY8j3kGa/lmvIIJSqEDpwPYVizSOx//Q84Bwc1658EvhifjF8VdC8AAbvtl0g2+uPyr9dfgB/wAE4fAfxB/ZF0XXPHiX2n+J9VUEPMehbt74/Cvev2Uv2F9J/Zh8d3nxBh8QR67qN1vw6j7u/wDE9P19sV5B9gqcmaP/AAVO1jxJoX7Ok+i6FCp0ZLy3F8V+Vd3zbSF5wDzxnjFfzbzXAnYOeo71/X78bvhR4b/aB+F2rfDLxOq7NRVSrP8Ad3Jng/XNfzT/ALRn7DHxg/Zz1q6tolGs+HEb/R9RXKgr3UDkPt9dwoMvYvsfKGFJ60bR613/AMM/gV8V/itcSr8PNHudQ2bc5XaPmzjnk9j2r9GPhv8A8ErPi1rYaPx3fWekuFUlWJdl3Z9wCf5fjSIVBs/Kny/8/wCTQYgw2k4B/wA+tf0SfC7/AIJX/s5/D9BP4y+2+KLs43PITtQrnhck9c+/SvtbRPhZ8NPBNz5vg3Q7fTIwPuqvI/E1rodFPBOR/Ml4H/Yq/as+IFzPH4d8G3lo0G0yLqw+xMN2ccYkOeDxX6FfCf8A4I+eNPEf2fXvGPiqDTRtyEhRicntncM/pX7ZwyjYBXT6Tqn2OUKRwa3N54RqOjPmn4Vf8E0v2WfhhaCKPR11i+YcvdYIcjuByAR+NfcMHh+w0og2ibD3FWrG58yESqMHsa1Gm3dqjmR4snaViNIsLg8VIEA4PNOoouXdtBUUgBwDUtRydql7EXYfc/GjzP8AP+RRJ2qOuZt3LJPM/wA/5FHmf5/yKjopXYEnmf5/yKPM/wA/5FR0UXYEnmf5/wAims26m0UXAKKKKQB16ED69K/O39un9izVf2utP0TTND12x0u70ckr53zF1IAIxkYBxz9K/RIjPBpLpFDrtGAPStDM/k8/aj/4Jz/HH4NsfEvhyYeKreXfny3KuoTGePm9fXtX50xS7s8V/e7HgrjgfXpXxr8Zv2Cf2bfjVqj+Itb0EWWrsMm/05Qm4+rEcP8AjjgYrVCbsfx74OM0lfph+0D/AMEufjt8I5JdX8HSnxZpiknz4tysB6FTnkfU1+Z496FubR3CkIBGCOKXHeiu2MVY64xVjovB/jvx58MtaXxN8N77+zr5MfMBw4HZhnBH19a/Zv8AZ3/4K9+LbeztNN/aE0jz5JCVa90+P5TjjJUk45PTP41+IinByeafcj5kbrt7Vm0Qf2+/C74z/Dj4t6PHrPgXWbfUElGQqMM/rXrwYYIccHrmv4OfBHj74hfDDxafGPw71E6ddnYCwBO4JngjIGOTX7Hfssf8Fcb3RZNO8FftGacsoGVk19cyP2xuXjqe2enesG9TncbnvH/BTf8AZz/a5+MSvH4EuV1nwamZZNBiLLlzgAoBuyQA3Ud6+Zf2L/8AgnT8UI/Htt4/+O2iS6Npllgo0o3/AH85wMjPQV/QD8OfjN8KPi3pUWp/D7X7XVIpl3ARsO/tkkH2r0aaFWXYRkHqO1Ia7I//0f7Er8Cz+y6Bb/8AHtYRCOMfTqf5VEoBUZq3qCESbm6mqiMCRGOp5ryNT9EjCPQk4EbZ6Vi6brehM7CO43E1txuBmvibx1a2/wAB/iHH8QzJ5dlqDqjYH8S5xn6ZNK4+RH3B9oQ8jpU7fL97iuSt7g6lGHU7RgH86+af2jC8fxM8HarGPlhcDPvwf6UDjST2R9eTByB5bFfcV866f8TNe/4SP/hFviBtiPXyx2/GvoGC88/hePevCfjL8MU8XeHVcKLq+TdkY2iTOPc4xj3rZG9CK6ntscaqoC8D3q2jYYEV5h8MrfxH/YKr4gyGXAUHr3zXpkSHPFavYyqWWh7loXOmxn1rXrK0JG/syPI7VpsxVcgZrjvqfIST5hSwHWlryH4ufFnwL8IPAuo/ED4g6gmnWOnpuJbq/Xgc9eK/mf8A2i/2o/iT+2t8SH8NaW403wK671URZfa/uGUkHb6itVsengctrYp/ulc/qM8GfEb4f/EWwXU/AmsW2pwsMgxNzj6V2xQDqa/jni+HfxA+GXiV/H3wR8S3ml6ouCymTKyBOx6Z7jp3r9D/AIIf8FevFej3MHg39pXSDC0R2fbo+VfPGSeO/tTsdeKyHFUEpOOh/QWy7qb5f+f8mvCfg1+0d8F/j7pY1L4QeILXW0dQyrA4LY9x2r3dGJHPWo5WeVKEou0kRUUrbQdoPNKy7aysyRtFFFIAooooAKKKKALFFFFaAFFFFAFR1LDggH36V8PfHX9gb9mT482UkfibQJLTUZCTJfaf0kPbOeDj0+tfclIqbUwvGK2juC3P5Uvjt/wTK+P3wLtmm0Qf8JVZDJMiMSyAduV/Hqa/O3nv1r+7KVAH+Y7R3Ir4A/aW/Y4/Z/8AjTdTXUVhFb+JiMpfrEGbJ65Axu7dT0FdCV0bwTeh/KWSByeKDtYeor7z+MX/AATa+NXw7gk8S+CvN8R6ZlsScggD2+b3r4BhLKOaOUtQZEVB5paKKkVmfof/AMEr9I8Ga7+2DY6obgPqOkWOoLZrs6xJ5XGe2OO1f1bK4PGK/lq/4JLaB4quP2iH8U6UynTNF04LqKN1xllVh+Z+ua/phXxYnQDp7UA1c//S/st8Q2km3ci14n8S9d1nw1oZ1nRIxJLDmvrbUNPjuIGXaMkV5TdaFPHK0m3cM15Fz7Wji7vU+XfBH7Q3hXxDOtlqaPptyeCkpBXPs2Bn8hXt/iPQ9P8AEtj/AGRqqeZby8snTNcp4s+FHgrxfGYdbsRJjJU5wVJ9K7uYuxBcYoO1TTK+m6cdOtUg37yqqu7GM7Rjpmvn/wDaOt1k0S1mf722Rc+w2mvpKpEthMQxotodMKsY6MzdMdmtI5XGCyg4/CtgsTj2qYWyRIEQcCo/K3fLn/P50jKVVIkRQfkT9K1NP0uViGZeKm0nSppJVkxkGvT7e3jgjUBelanm4rE9DZ0yFYLCNe+K4j4qfFDwJ8HfA178QviNeCy0uwAMspGcbvauwM2yPbj7pwfqK/lp/bG/aXvP21Pi23hrQIWb4f6TOFwRt34J575LY69sUonJhcK68vI8v+OXx0+KX7afxRHiDW0fTPCOju32Gy3ErcE/xt06Y9Oc12OiacmlrtiACjsOKu6foVppkCW9qBsQYAA7VeVTGcdc1reyP3jJMkWAo8jjqy/XN6voOl6nOr3cKO3qRzj610lK8DHBNWz2ZYVTVmj5+1H4DQW962oeAr1dDkbkeXGWAPqQGXP1r6X+H3/BQ39tX4EawkPxMtR410JML5hb94iDjhjkn1w351mRrtGMYp7p5kZXJX3BwaXKj5bNOEaGI96K1P1A+DH/AAVn/Zp+I1t9j8bMPDOocfupAFDE56Pntx1Hev0x8PeJ/C/i/SYtZ8K38d9byAENGQcZ7cE1/J7rXwv8JalCYJrYckEbRjH0rkNB8AfFD4c62da+Eni+70LnKx4dlU/g61jJHwOY8HYmm70lof2E0oVj0Ga/mW8H/wDBR/8AbU+FGpC28Z2kni9MbfNj6SKO7HnB/Cvv74cf8Fb/ANmPxdcH/hL5b3w2IztlNywG1z2xgA/XNYOOp8xicvxGHdqsD9ayCOtJXmfgX40fBb4lARfDrxTZ6vIVD7EkG7B/HrXpfPrT5GciTYtFKAD3pyoX+5lvoKnlZLaW5LRUbuYhmUEULIj9DVjTJKKKKACoZm2jNO8z/P8AkUxzvGKa3Fc5vVdT8mJkIwSK8YmmzcvNjBJ616T4rjOQVrz4xhDu6V0p6XPQwyRRuIi21emelfNPxt/ZJ+Dnx5El54xsQ2pN0u0wsmfcgAnt19K2/if8TNd8F/ErQ73UTnQbhmQx9CPM2jk+xFe5rIod9x7kflVHU4o/FfxN/wAEkdVgvVm8FeMVNuxbMWoRlig4wFIbnvngV5x4O/4JV/HLW9NN7498R6Fofl43rhjt698jd+lfvrMQSuP4uKIXXJGR8vpQZug+iPC/gj+zj8Pf2d9M/sb4eQCCBgFftlRnjvwe9e/RyEHipioPWsHRvEfh7xEZF0O5+0GLG/Axt3Zx+eDQY8jP/9P+5bYhGCKp3VhbuhOOver1IRkYrxz3oyaPPL7w2krHyxzjrXMN4W1YsSicV7AUyc05QVoOxYpnjZ8N6yDjyv1pw8Pa2vSL9a9x2LRsWmNYt9jymz8JXZKvcOPcV29voGmxoGEXzDvWz5HvVikZVK8pGXBaW8bZRcVaEeeE606vKvjZ8VfD/wAD/hfrXxV177ulWrlOdv3sZ5wfQdq3sRK7R+TH/BVH9q42dlD+zJ8NZRdXmsRn+2tjfKhJAZDwep9+MV+bngrwJB4J0CLTYXEkh+aVxxuY1zPheS8+L/xC1z42+LyZdW1mbeXfugJ2j9TXsy2xHO4AHoeopNn6lwdl1OhTVeb2Gwt8m1jjFP8AMQH74r37wz+zn481K98vV4Vsoe7Od38q+gNG/Zk8G2e1tWJuWHXA2j+ZrSx9jWzajFu09T4RjyzAJya6ix0PW9SA8q2Cj1JxX6R+HPhj4E8LzfadN09fM6ZY7v6V3ASOMbYlCjsBxQ5I82pxFVjsz83YPgv4/lxiz2Z/vHFbsX7PnxBlAx9lGexl5/8AQa/QcDI5pad0cc+KK+x8PSfsua7Igb7fjPpF/wDZmm237Kt8SrtrThu6smR/6FX3JubGM1GEAO6k2jjlxDXbu2fIh/ZcvjGFfVQw9AhB/PdxXn2qfsI+C75Plihjbu3IH6EYr9BgMDFMlG5CKVomFTO6zjZM/JzVP+CaizkNY+J0jA7feP5AgfpWPoPhT/gqt8BoWfwd4tXVdKt+YVXKBx3zkvj9a/WWWHEme1akEmIw2OlZpK58zWoRqS1R+Z3g/wD4K2ftLeCF+2fGPwPa6vbgKgNsx8xj3Ynbx9dp/wAfq/w//wAFmfgXqu99Q0HXNLZcYJAAOc9Bj+o9q7H4jfCLwx8VQ8XiNN3GIzjO3PU9favzu+Mf7L1n4b0t0j0Z42jOQ8ZyCvrn0o5UTHhmnidnqftZbfty/sma2w8z4iWKhOgI/ng19Haf4r8M6sGXw9qMOoeVjf5RztznGcZxnBr+R9/gzoEluVLMCR37VwMnwJs7eZprW4RSe8gOB+WaZs+Acya5qcbo/tCiuPMUHHWrVfxwxWXx70ZifCfji4iEn+sze3uTjp064zXH3/7RX7XvgKMaE3jzxDKq9ZWviv5Daf50rHLLgrNIvWnof2nU1uVOK/h2vvjh8ZtdKN4i8Xa7OUztUXu0DPXGEr7/AP8AgkV41/4Qf9oyTwW0m5fFdgsRXpkpuOf+A7unfNOx5eMyPEYRXraH9J3imKRyCgz0rzuRG6EV7hqUCvCwK5OK8l1WIwTElevNanPh6iW58sftP+FrTxF4AMs/ym0BZSOxOK7T4WazbeMPB1nPYnDRqEZT1BAxj9K9QliF8/zj7vSvFPgp4J174YyXX9txBhMVKgH+7nIPX1o9T0ITSZzfiTxXafEzw54h8KaCMz6exAzyJAhyfT24rb+AvjG18XeD2nlJ+32rFLgseoHANcl8NPC/iHR/iP4v0yC2Atkd/KBP3d/Xnv2rY8A/DvxF4X+L99Jp6iHwzcIZTEepPcZHqSKZ3Ll5T6Pjk4r5G/ZeuSNS161cYJlT9N2K+v8AywBheMV8ceAXbRf2mNY0TGBOTKfo/NFjCUVc/9T+5iiiivHPcLFFFFBoFFFFABRRRQBXr8A/+CznxtlbUvD/AOzppJbcSb/VgjcGDK4XpjIxkjOee3f9+ycCv5htEsdE/am/4KFeMfFuu/Po2jZUj727O76Yzt9+lbs9DAxvUv2PSPg/+zZmG2l1IB9LQEOSNvmn29q+4dB8LaD4ciW10i1SFF4yByfqa9Ku1E6gHtzWL5OGyBQz77DYrlpci2NGAsQCalIG4e9RxHCYAqU/3j2pzkrEzlfUXgCkyGGKH+7TY+9cbk7nK2ySiiitVNmIUUUU+Z9wCiiijmfcAx3oooqRWG/Mrblpjh5AQv3u31NS0YB60GkajifOnjT9n/wb4vMk9qE03VTksEG0N9T0P5V8MeNfh5rngaVRrEZUs5UHHBx3B71+sM8A3hyMn171k6voOk69aNZ6xCsqMCDuGePpTPby7OatBtLqfkQs4kUbTmuY8Y+CNM8ZaYbO++RsEq4GSP5V9hfFP4Bp4fgbxL4QVpbNiSy+nrgV89pH5bAnqDx71rax9vgc1WIjaWh+bvijQn0DV206RSu3pn0r3X9kDWDoH7Vfw71dk8zydat1x045wM9smt743+ETdQHWLaPayNk47jHNeHeAWjj8XaUWOGa+gVfx3Cg+c41oKWEukf3I3C72K9q5LxBpMVzbqE4YHOa7COHdEjZ/hH8qimt+QetaXPwvmkmeIzaPcQs2ExWQ8bH5Wr3uS0heMpt6jFcdP4SR3ZwcZNLmXc6qeKdzzUBwSR1PX8aQKw6V3cnhcgHAwfrn+tVR4S1R+UTIp8x6kcQuW7Zx+HpoiaNehxnP45zXbp4S1BWywFaqaFdqACgNO5Lxauf/1f7mKKKK8c9wsUUUUGgUUUUAFFFOX7w+tAHjvxt8Vaf8P/hT4n+Ieo/J/YunXrK2cdFBx364FfgL/wAEyNFYeC9Y1AEBYrvaR6/exX7Af8FCVZf2TviVMOE/sScn/vk1+an/AATzYj9na3x3v7o/qK3Z6uW6an3sTkkimkAkE9qar7jin1EpKx9ZDYaxx3xTA2Ce9LJ2qOuVyZpcUnJzSUUVIixRRRWhmV6KKK0AKKKKACiiigAooooAKDyCKKKAIQMrsHQcgdq8F+IHwY0DxJcS+JrSEDVtpxIe/tivoEEjpTFQk4zQehhcwlQ1R+Q/i/QI7iCfRb9dr5ZDnsw4r4HfQrzQ/i14f0pQR/xOrYEf7JY1/QT8X/hNY+O9LFzaosd9bfMjqMFh6E9xx+Ffkf4U8PC6/wCCgvgfw6X2Y12y56gc9cZ5rax2Z1mqrZfee5/XdF/qk/3R/KnEA9abH/q1+gpxBPQ4qZH5E/QgpR70lFYtu5Am1M7gMU4Ed6Sildj5mKDilyvpTaKOZj5mf//W/uYooorxz3CxRRRQaBRRRQAUUUUAfH37ftl9s/Yo+J0w+8uiT/8AoJr8uP8AgnkwP7O1sy8/6fdfoRX7h/FLw/J4x+Hes+DRjZqVs8RB9e1fzr/8EudSM/hnxD4VKf6rUC3mZ92GMY9uua2nsejgna5+q6fIv1p3mf5/yKH5ANR1xtu59ktgoooqRhRRRQBYooorQAooorQAooooAKKKKACiiigAooooAKKKMgdaAGA7mOPSvzf/AGSoT8Rf+CoPiDxYD9lFkb5vJ+/n7v8AF8uMdenevub4nfEOP4Q/D7WviU0wt/7MspSHPYvj/Cvn/wD4Iv8Awyl0XwN4l+LkcYjOs3rWZYjJlWBmJIOeMbumOc+3O9zxc3rtQ5Ez9xaKQEEZFLU3ifL6FiiiisiQooooAKKKTcobZn5vTvQB/9f+5iiiivHPcLFFFFBoFFFFABUcnapKjk7UAV5I/MxzX8ynjWSX9kT/AIKL6hPayFPDHiwBo2xyy3qq75PuRkZzjB9eP6b6/Jr/AIKqfs1j4p/BFPiN4bTZqfhMLImxeSh64+hAPQ/rW09jtws+Wep7EcDGT0JFPr5B/Y9+NA+MXwjga/k3appx2XIJ+Zs4Gce2K+tYsbGkBwo6k1xtXZ9dRqxcSCiiipOkKKKKALFFFFaAFFFFaAFFFFABRRRQAUUUUAFFFFABURYc4NPfhDWMRIMvzj1oMqzSiz83v+ClXxGceDdN+EPhSbN34j43/wB37v8AD3xnpkV+5X7KXwmj+CP7PXhX4WxqFGkWSR4HQEgE1+GX7IvgaP8AbJ/bRuv2irlHufCnhEI8KMuImkHIRT6jgnHqK/pRhVUXavQYArSWx8jmVbmlYq0UUVzO55wUUUUwLFFFHfHetAGuXCEx/exx9a+Qf2uP2p/DP7MXw9g1y/cf8JLqaN9hjDYyVI68HAPPOO1fUfiLxPoHhLT21bxHcfZrder4zX8iv7Z37Xl/+1d8SoteDO/hfS5MaZaOMFdh4fOe/p7UyWrn/9D+5iiiivHPcLFFFFBoFFFFABRRRQBXpGICnccAcmlpDjHzHA9a6DQ/mx/al+DXjD9g3402fxr+DlnLJ4NvHeV4k/gLtl89cjGBzzxX2n8GPjn4S+NPhmLXdAlUkqGvLDcGliP14zj6Cv1S8UeEfDnjzw7d+GfEtol5pl6mwhh+GR6EV/Oz+01+x18Qf2M/ihL8ePgG8h8PzSBri2UFwqEklW6cDscVzyj1PSwmMalZn6fhkbmMYXsD6UtfNnwN/aZ8GfGbfpsET6bqkagyWlwQHGfTofzFfS5jYIZNp2r1PpWLR9LSxEHHVkdFOXa33TTvL/z/AJNKzN1JPYkooorSxQUVH5n+f8ijzP8AP+RViuiSiiigYUUUUAFFFFABRkDrTWbbSogfhxnPB7cGgic1FXY3HmAMvIr8zP25fjpqMULfAv4byNNq9+wjdoR5g3dAMcdP1z7V9PftN/tBWv7OtlFHFvOrMxWzs0++X4+vrye1cX/wTb/ZFvdY1H/hsD4tSSvq+ssslmi/KVjGSd2c88ig8LMMercqP0V/Yt/Z1sP2a/gZp3w7MYTUZmN9f8YJebBAPr09BX2PB3rFikVsuo61qRS7c8Vqz5arVcpajaKKKxsMsUDkbhyPWggHKn6GuX8VeKNE8E6NNr3iPUotL02AfM8gzjPpyKots6Z/unr07da+Tfj7+2P8DP2d7MQ+ONTVdTYlBZKNt9xj+Lnjn+7X5FftU/8ABXjX3W68P/s1SSf2DATjxCxC7gcfcOCTjBr8cvEmv+JvEXiXUPFnivUn1TU9VcP842hQueByePmouK19z6L/AGqP2vPjp+1JdxWt47DSHvo1srEnBwCd2XHr8uRivlVrZogFPI7VNbyvE37xcE/pWizbqRR//9H+5jIoyD0r5q+C37UHwa/aGsxB4D1qJWG3/iXyjF/82cZOeOh7V9FquwbRnA6Zrxz2zSopodG+6QadQahRRRQAUVH5n+f8ijzP8/5FOzAkoqPzP8/5FHmf5/yKLMCMcLtHQdqCAeG6UUVXKyrM/ID9pL/glZ4T8YXr+Pf2f9Rfwn4lhJeCaIn5TxxkEZ6V8NN+1P8AHn9l7U18EftQ6Rew28jfKSoHyr1YdeuR1Ir+mTGeMge56VxPjzwd4E8eaDL4Z8f6fYazYzAhoZyGx7jIOD/hS9nc3jiqkdD8t/hp+0J8Hfijp8d94d1qLfKMiFsBwfQjIr2wzLLzHyK+efjZ/wAEgvg542t/+Eg+Bl7J4S1qDcySRPuR+nDEY4GPTvXyLqngP/gp18A7W5e+nm8X6UCAyRg3oCL3BypHft+FLk8j2sJmF9GfqMUA5JpTEw5P8q/LTw9/wUustGtRpnxZ8LrpF7EdjZBXa3ocrkdRX0Xof7cH7PN/+91jXBpKbVbdfOFXLdhgdq05Udqx0WfYdFcpovjnwdr/AJp07VLV/KxuxJ03Zx2HpXUqxJIPOO9WdCxEerBW3U6mhcdDS4Pr/n8qx5X2N/bQW7FJA5NR+bH/AHhTm3YyME+/SuQ13xp8PdBK/wDCZa5p2mrzuDnGMfjzRysbrQW7OwBDDcvINLXwr41/b2/Z58G3LWfh+Q6vcuTldOTLnb0356da+TfEv/BRL4q+MceEvhJoGFlJCKzNeX2O2CSMY5zipOapmFCK+LU/YjVdW0vQtNk1LU5NmzoPWvzt+LX7e2lw7vDnwYYXWqnP7zft29O2057964XwN/wTs/bH/aXnk8RfFq5j0TTBtb/iaMd7B85wF4BGOQCe1fsJ+yx+wH+zx+zRYw3uh6cmr+IIlA/tO7/euCM9CRz9eKdj5/HZspe7A/PP9k3/AIJ2eO/ip43m+PH7YscjLJIJINPfIJAJIUZ/hOeeO1fu/JH0q2ItvB7Ug2nvSPFqVpTd2VFXbV6PvSiIkgDqf8+teXfFP40fC74GeH/7e+K2uWulA5+TfuPy4zzgeo7Vra5zHqpBBweorn/FXi7wn4D8O3HivxpfCwsLbG+XGcZr8Jfjj/wWhhN0+gfs6aG8rwFg2o6pEMSAkY298Dn659q/HH4u/tC/HX42a8uufFbXP7U4ICCLYBuxnncfQdqZvqz9zPjZ/wAFk/Amiai3hr4H6GuvTDOL28G1h0xxg+/evxE+K3xq+K/xz10698WNSGokbsIF243Yz3PXA/KvE4m2/d4xX6J/s6/8E2/iL8X/AAJB8ZviTe/8I14eAy0T5eVs54IBXH/16v2cmaJJH5+QQpGDGvTtSlGEgkfkjp/nNaHiFdHh8SXMfh5CllG2yME56dT719y/8E+fgF4e/aC/aK0nSfFdsLjSdJBvLtD0KAZFL2bGz7e/YM/4Ji6Lq9tafFb9pm2BXAay0UoRHGF+4SM84z6Cvvn9uj9k34V/GH9n3USdEtLe/wDDllu06bAVUVB8sfA6N3PtX6PwWSQrt4wOAMcAD0r41/bw+JZ+D37I/jXxRbNuuBZ/YI/4cHkFuh9en60cjsZ893of/9LufiV+zl+0V+zxqcX/AAmmgXujfaN5gvfL8wfu8bvlyOm4fxd6+2P2dv8Agpb8evhpFbaB4zB8UaZFhMytslRfYncfwJr+onxH4Z8PeLdIl0TxRZQ6hZygh4bhBIjfUGvww/4KL/sVfs7eA/hfqPxS8EaEmk6xN+8aS2O1cpuwNuDx6ivIase2mfcfwM/4KG/s0fG/UB4e8PX/APZmtEDFheMElyeuR27etfdsUhdcsMEda/gmlRPLJKg4HcZ6V7p8F/20v2mvBuoxabovi29EJOAJH8wqBkAAnnHU/U0JXZqj+2UyqOvH40MdwBFfG37Hnxz8cfHD4PWPjbx99nmv7g7XaKPYpwAc4yQDzX2FFygbGM1pKHKBY+5+NHmf5/yKJO1R1vGKsBJ5f+f8mjy/8/5NSUVlZAR+X/n/ACaPL/z/AJNSUUWQEfl/5/yaPL/z/k1JRRZARGPvSBG5I4P51NRTHfoedeM/h/4H8bWP2Dxnoun6qH+8LtVP5ZU4r4q8ff8ABMf9kT4gFmk8FppO4g5027eLGD/D6V+i7RxscsoP1FOAAGBVcw1Nn4h3v/BFL4dSKp03xhqcJ7g5/wDi68utv+CQ3x80Uk6P8VZQWxk5fn6/MDxX9B1UX++frSuX7ae1z+d0f8Exv284lxB8SNLXHTN/ek/ogql/w7c/4KJZKR/FLS8D0vr3P6rX9EZ+8Ks3AB259KbSH9Yna1z+eOT/AIJJ/tU6kw/tj4tQrn0Rz/7Ur0rw1/wRP8FxxSf8Jv471W4dwu3apZVPOefM5zx2HSv3ZtfumruAVBPXmlZClXm1Zs/MHwL/AMEqf2TPCzRNLZXmo+TnC3l84jbPqqgZ/E198eBPhl8Ovhfp8WkfD7RLDSII12gWcQQ49z1Nd+kcZLZUH8Kr7VVhtGKknd6muGLxYPas0RAMWXvzVmH7tfzzf8FOP2/f2iv2f/Fms+D/AIY3lpZWKjhTBuPHvu96T2MbK9j99/EPiHQPCumtqniK5+zW69Xxn9M1+cPxj/4Kk/sp/Ci2a50PWf8AhKWUnclgM59NpOd3v6V/L9ffEXxv8Xdfg1P4g6nPqMq7iN7cZPXj8BVGVQkjKOgJFImx+k3xv/4KwftHeLxGPC5sPCmnrv8AM8tueduMnaN2MH0xmvzF1vW/EWr3W68uN/mNnjKjn8TgVqydqyLtVEZkIyVBP5UXGb+l+GPEWt67/wAI74bt/tk+AQuduc+/NfpR8IP+CSX7Q3xQukX4jRf8I3p2AWfzCxP0A25IxXzD+zJ+3B8ZPgHpYh+GdvpNkqEKM2m7hc/7Q9TVTxV+2d+1Z4s1h7zV/H2s5bJCR3BRFz2ULjArSl8QtT+jrQf2eP2Hv2INKX4j61p9hpWp26kLq9/h5iq4zjI7ZHSvyc/bw/4KLWHxg8NTfBn4Yacq6IznzLgxeWsi+ijOQDzmvyfkmknYPLjPsAP0AAqC5GUUV6sYrlNbGakpYciv29/4IwS/8V942A/589O7+pGf1zX4hqMnFe5/s7fE7xh8Ivjr4Z8UeCLn7PdyXPkMSMqUcDII46YGK55RSA/uJibbmv5Y/wDgp1+1vpnxn8e/8KR8Gu/9geF5AknPyyk8ED2O336Vl/tuftzftB+LDYeCm1CHTrHULRftIsYjE0m3GMncf7x6etflrH3rFxREYW1P/9k="/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>if (GLOBAL_CONFIG.preloader.source == "2" || GLOBAL_CONFIG.preloader.source == "3") {
  const loadingPercentage = document.getElementById("loading-percentage");
  let loadingPercentageTimer = setInterval(function() {
    var progressBar = document.querySelector(".pace-progress");
    if (!progressBar) return
    var currentValue = progressBar.getAttribute("data-progress-text");
    if (currentValue !== loadingPercentage.textContent) {
      loadingPercentage.textContent = currentValue;
      if (currentValue === "100%") {
        clearInterval(loadingPercentageTimer);
      }
    }
  }, 100);
}

const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="åšå®¢" target="_blank"><img class="back-menu-item-icon" src="/img/favicon.png" alt="åšå®¢"/><span class="back-menu-item-text">åšå®¢</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" href="https://image.anheyu.com/" title="å®‰çŸ¥é±¼å›¾åºŠ" target="_blank"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="å®‰çŸ¥é±¼å›¾åºŠ"/><span class="back-menu-item-text">å®‰çŸ¥é±¼å›¾åºŠ</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Jackhou Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> è¿½ç•ªé¡µ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™"><a class="site-page" onclick="anzhiyu.totraveling()" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="æœç´¢ğŸ”" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> æœç´¢</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> <span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 1.05rem; color: rgb(87, 177, 162);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 1.05rem; color: rgb(145, 0, 124);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem; color: rgb(145, 13, 29);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem; color: rgb(124, 109, 126);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem; color: rgb(90, 170, 22);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem; color: rgb(37, 174, 193);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 1.05rem; color: rgb(74, 163, 109);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem; color: rgb(26, 180, 175);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 1.05rem; color: rgb(175, 19, 6);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 1.05rem; color: rgb(190, 137, 121);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 1.05rem; color: rgb(163, 194, 125);">ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 1.05rem; color: rgb(11, 10, 47);">åŒ¿å<sup>4</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem; color: rgb(104, 132, 0);">åšå®¢<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.05rem; color: rgb(179, 3, 132);">å®‰å…¨<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 1.05rem; color: rgb(81, 33, 123);">æ”¯ä»˜<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 1.05rem; color: rgb(154, 62, 178);">æ”»é˜²<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 1.05rem; color: rgb(128, 153, 171);">æ—…è¡Œ<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem; color: rgb(120, 113, 110);">è™šæ‹Ÿæœº<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 1.05rem; color: rgb(55, 36, 156);">è¶Šæƒ<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/09/"><span class="card-archive-list-date">ä¹æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">å…«æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">äº”æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">å››æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">37</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">ä¸‰æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/">æŠ€æœ¯</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/JavaScript/">JavaScript</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹</span></a><a class="article-meta__tags" href="/tags/JavaScript/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>JavaScript</span></a></span></div></div><h1 class="post-title">ç¬¬6ç«  å¯¹è±¡</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2023-04-25T16:00:55.000Z" title="å‘è¡¨äº 2023-04-26 00:00:55">2023-04-26</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2023-04-26T13:44:12.000Z" title="æ›´æ–°äº 2023-04-26 21:44:12">2023-04-26</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="ç¬¬6ç«  å¯¹è±¡"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="é˜…è¯»é‡">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºåŒ—äº¬"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>åŒ—äº¬</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><meta name="referrer" content="no-referrer"/>



<p>Objects are JavaScriptâ€™s most fundamental datatype, and you have already seen them many times in the chapters that precede this one. Because objects are so important to the JavaScript language, it is important that you understand how they work in detail, and this chapter provides that detail. It begins with a formal overview of objects, then dives into practical sections about creating objects and querying, setting, deleting, testing, and enumerating the properties of objects. These property-focused sections are followed by sections that explain how to extend, serialize, and define important methods on objects. Finally, the chapter concludes with a long section about new object literal syntax in ES6 and more recent versions of the language.</p>
<blockquote>
<p>å¯¹è±¡æ˜¯ JavaScript æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œåœ¨æœ¬ç« ä¹‹å‰çš„ç« èŠ‚ä¸­å·²ç»å¤šæ¬¡çœ‹åˆ°å®ƒä»¬ã€‚å› ä¸ºå¯¹è±¡å¯¹ JavaScript è¯­è¨€éå¸¸é‡è¦ï¼Œæ‰€ä»¥äº†è§£å®ƒä»¬çš„å·¥ä½œåŸç†éå¸¸é‡è¦ï¼Œæœ¬ç« å°†æä¾›è¿™äº›ç»†èŠ‚ã€‚å®ƒä»å¯¹è±¡çš„æ­£å¼æ¦‚è¿°å¼€å§‹ï¼Œç„¶åæ·±å…¥åˆ°å…³äºåˆ›å»ºå¯¹è±¡ä»¥åŠæŸ¥è¯¢ã€è®¾ç½®ã€åˆ é™¤ã€æµ‹è¯•å’Œæšä¸¾å¯¹è±¡å±æ€§çš„å®ç”¨éƒ¨åˆ†ã€‚åœ¨è¿™äº›ä»¥å±æ€§ä¸ºä¸­å¿ƒçš„ç« èŠ‚ä¹‹åï¼Œå°†ä»‹ç»å¦‚ä½•æ‰©å±•ã€åºåˆ—åŒ–å’Œå®šä¹‰å¯¹è±¡ä¸Šçš„é‡è¦æ–¹æ³•ã€‚æœ€åï¼Œæœ¬ç« ä»¥ä¸€å¤§æ®µå…³äº ES6 ä¸­çš„æ–°å¯¹è±¡æ–‡å­—è¯­æ³•å’Œè¯¥è¯­è¨€çš„æœ€æ–°ç‰ˆæœ¬ç»“å°¾ã€‚</p>
</blockquote>
<h2 id="6-1-Introduction-to-Objects"><a href="#6-1-Introduction-to-Objects" class="headerlink" title="6.1 Introduction to Objects"></a>6.1 Introduction to Objects</h2><p>An object is a composite value: it aggregates multiple values (primitive values or other objects) and allows you to store and retrieve those values by name. An object is an unordered collection of properties, each of which has a name and a value. Property names are usually strings (although, as weâ€™ll see in Â§6.10.3, property names can also be Symbols), so we can say that objects map strings to values. This string-to-value mapping goes by various namesâ€”you are probably already familiar with the fundamental data structure under the name â€œhash,â€ â€œhashtable,â€ â€œdictionary,â€ or â€œassociative array.â€ An object is more than a simple string-to-value map, however. In addition to maintaining its own set of properties, a JavaScript object also inherits the properties of another object, known as its â€œprototype.â€ The methods of an object are typically inherited properties, and this â€œprototypal inheritanceâ€ is a key feature of JavaScript.</p>
<blockquote>
<p>å¯¹è±¡æ˜¯ä¸€ä¸ªå¤åˆå€¼ï¼šå®ƒèšåˆäº†å¤šä¸ªå€¼ï¼ˆåŸå§‹å€¼æˆ–å…¶ä»–å¯¹è±¡ï¼‰ï¼Œå¹¶å…è®¸æŒ‰åç§°å­˜å‚¨å’Œè·å–è¿™äº›å€¼ã€‚å¯¹è±¡æ˜¯å±æ€§çš„æ— åºé›†åˆï¼Œæ¯ä¸ªå±æ€§éƒ½æœ‰ä¸€ä¸ªåç§°å’Œä¸€ä¸ªå€¼ã€‚å±æ€§åé€šå¸¸æ˜¯å­—ç¬¦ä¸²ï¼ˆå°½ç®¡ï¼Œæ­£å¦‚æˆ‘ä»¬å°†åœ¨ Â§6.10.3 ä¸­çœ‹åˆ°çš„ï¼Œå±æ€§åä¹Ÿå¯ä»¥æ˜¯ Symbolï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¯´å¯¹è±¡å°†å­—ç¬¦ä¸²æ˜ å°„åˆ°å€¼ã€‚è¿™ç§å­—ç¬¦ä¸²åˆ°å€¼çš„æ˜ å°„æœ‰ä¸åŒçš„åç§°â€”â€”å¯èƒ½å·²ç»ç†Ÿæ‚‰è¿™ç§åŸºæœ¬æ•°æ®ç»“æ„çš„åˆ«çš„åç§°â€œæ•£åˆ—â€ï¼ˆhashï¼‰ã€â€œæ•£åˆ—è¡¨â€ï¼ˆhashtableï¼‰ã€â€œå­—å…¸â€ï¼ˆdictionaryï¼‰æˆ–â€œå…³è”æ•°ç»„â€ï¼ˆassociative arrayï¼‰ã€‚ç„¶è€Œï¼Œå¯¹è±¡ä¸ä»…ä»…æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ°å€¼çš„æ˜ å°„ã€‚é™¤äº†ç»´æŠ¤è‡ªå·±çš„å±æ€§é›†ï¼ŒJavaScript å¯¹è±¡è¿˜ç»§æ‰¿å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œå³å®ƒçš„â€œåŸå‹â€ã€‚å¯¹è±¡çš„æ–¹æ³•é€šå¸¸æ˜¯ç»§æ‰¿çš„å±æ€§ï¼Œè€Œè¿™ç§â€œåŸå‹ç»§æ‰¿â€æ˜¯ JavaScript çš„ä¸€ä¸ªå…³é”®ç‰¹æ€§ã€‚</p>
</blockquote>
<p>JavaScript objects are dynamicâ€”properties can usually be added and deletedâ€”but they can be used to simulate the static objects and â€œstructsâ€ of statically typed languages. They can also be used (by ignoring the value part of the string-to-value mapping) to represent sets of strings.</p>
<blockquote>
<p>JavaScript å¯¹è±¡æ˜¯åŠ¨æ€çš„â€”â€”å±æ€§é€šå¸¸å¯ä»¥æ·»åŠ å’Œåˆ é™¤â€”â€”ä½†å®ƒä»¬å¯ä»¥ç”¨æ¥æ¨¡æ‹Ÿé™æ€ç±»å‹è¯­è¨€çš„é™æ€å¯¹è±¡å’Œâ€œç»“æ„ä½“â€ï¼ˆstructï¼‰ã€‚æœ‰æ—¶å®ƒä»¬ä¹Ÿç”¨åšå­—ç¬¦ä¸²çš„é›† åˆï¼ˆå¿½ç•¥å&#x2F;å€¼å¯¹ä¸­çš„å€¼ï¼‰ã€‚</p>
</blockquote>
<p>Any value in JavaScript that is not a string, a number, a Symbol, or true, false, null, or undefined is an object. And even though strings, numbers, and booleans are not objects, they can behave like immutable objects.</p>
<blockquote>
<p>JavaScript ä¸­ä»»ä½•ä¸æ˜¯å­—ç¬¦ä¸²ã€æ•°å­—ã€Symbol æˆ– trueã€falseã€null æˆ– undefined çš„å€¼éƒ½æ˜¯å¯¹è±¡ã€‚å³ä½¿å­—ç¬¦ä¸²ã€æ•°å­—å’Œå¸ƒå°”å€¼ä¸æ˜¯å¯¹è±¡ï¼Œå®ƒä»¬çš„è¡Œä¸ºå’Œä¸å¯å˜å¯¹è±¡éå¸¸ç±»ä¼¼ã€‚</p>
</blockquote>
<p>Recall from Â§3.8 that objects are mutable and manipulated by reference rather than by value. If the variable x refers to an object and the code let y &#x3D; x; is executed, the variable y holds a reference to the same object, not a copy of that object. Any modifications made to the object through the variable y are also visible through the variable x.</p>
<blockquote>
<p>å›æƒ³ä¸€ä¸‹ Â§3.8ï¼Œå¯¹è±¡æ˜¯å¯å˜çš„ï¼Œé€šè¿‡å¼•ç”¨è€Œä¸æ˜¯å€¼æ¥æ“ä½œã€‚å¦‚æœå˜é‡ x æŒ‡å‘ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ï¼Œæ‰§è¡Œ <code>y = x;</code> æ—¶ï¼Œå˜é‡ y ä¹Ÿæ˜¯æŒ‡å‘åŒä¸€å¯¹è±¡çš„å¼•ç”¨ï¼Œè€Œä¸æ˜¯è¯¥å¯¹è±¡çš„å‰¯æœ¬ã€‚é€šè¿‡å˜é‡ y ä¿®æ”¹è¿™ä¸ªå¯¹è±¡ä¹Ÿä¼šå¯¹å˜é‡ x é€ æˆå½±å“ã€‚</p>
</blockquote>
<p>The most common things to do with objects are to create them and set, query, delete, test, and enumerate their properties. These fundamental operations are described in the opening sections of this chapter. The sections after that cover more advanced topics.</p>
<blockquote>
<p>å¯¹å¯¹è±¡æœ€å¸¸è§çš„æ“ä½œæ˜¯åˆ›å»ºå®ƒä»¬å¹¶è®¾ç½®ã€æŸ¥è¯¢ã€åˆ é™¤ã€æµ‹è¯•å’Œæšä¸¾å®ƒä»¬çš„å±æ€§ã€‚è¿™äº›åŸºæœ¬çš„æ“ä½œå°†åœ¨æœ¬ç« çš„å¼€å¤´éƒ¨åˆ†è¿›è¡Œæè¿°ã€‚ä¹‹åçš„éƒ¨åˆ†å°†ä»‹ç»æ›´é«˜çº§çš„ä¸»é¢˜ã€‚</p>
</blockquote>
<p>A property has a name and a value. A property name may be any string, including the empty string (or any Symbol), but no object may have two properties with the same name. The value may be any JavaScript value, or it may be a getter or setter function (or both). Weâ€™ll learn about getter and setter functions in Â§6.10.6.</p>
<blockquote>
<p>å±æ€§æœ‰ä¸€ä¸ªåç§°å’Œä¸€ä¸ªå€¼ã€‚å±æ€§åå¯ä»¥æ˜¯ä»»ä½•å­—ç¬¦ä¸²ï¼ŒåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼ˆæˆ–ä»»ä½• Symbolï¼‰ï¼Œä½†ä»»ä½•å¯¹è±¡éƒ½ä¸èƒ½æœ‰ä¸¤ä¸ªåŒåçš„å±æ€§ã€‚å€¼å¯ä»¥æ˜¯ä»»ä½• JavaScript å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ getter æˆ– setter å‡½æ•°ï¼ˆæˆ–ä¸¤è€…éƒ½æ˜¯ï¼‰ã€‚æˆ‘ä»¬å°†åœ¨ Â§6.10.6 ä¸­å­¦ä¹  getter å’Œ setter å‡½æ•°ã€‚</p>
</blockquote>
<p>It is sometimes important to be able to distinguish between properties defined directly on an object and those that are inherited from a prototype object. JavaScript uses the term own property to refer to non-inherited properties.</p>
<blockquote>
<p>æœ‰æ—¶ï¼Œèƒ½å¤ŸåŒºåˆ†ç›´æ¥åœ¨å¯¹è±¡ä¸Šå®šä¹‰çš„å±æ€§å’Œä»åŸå‹å¯¹è±¡ç»§æ‰¿çš„å±æ€§æ˜¯å¾ˆé‡è¦çš„ã€‚JavaScript ä½¿ç”¨æœ¯è¯­â€œè‡ªæœ‰å±æ€§â€æ¥æŒ‡ä»£éç»§æ‰¿å±æ€§ã€‚</p>
</blockquote>
<p>In addition to its name and value, each property has three property attributes:</p>
<blockquote>
<p>é™¤äº†åç§°å’Œå€¼ä¹‹å¤–ï¼Œæ¯ä¸ªå±æ€§è¿˜æœ‰ä¸‰ä¸ªå±æ€§å±æ€§:</p>
</blockquote>
<ul>
<li>The writable attribute specifies whether the value of the property can be set.</li>
<li>The enumerable attribute specifies whether the property name is returned by a for&#x2F;in loop.</li>
<li>The configurable attribute specifies whether the property can be deleted and whether its attributes can be altered.</li>
</ul>
<hr>
<ul>
<li>writable å±æ€§æŒ‡å®šæ˜¯å¦å¯ä»¥è®¾ç½®å±æ€§çš„å€¼ã€‚</li>
<li>enumerable å±æ€§æŒ‡å®š for&#x2F;in å¾ªç¯æ˜¯å¦è¿”å›å±æ€§åç§°ã€‚</li>
<li>å¯é…ç½®å±æ€§æŒ‡å®šè¯¥å±æ€§æ˜¯å¦å¯ä»¥åˆ é™¤ï¼Œæ˜¯å¦å¯ä»¥ä¿®æ”¹å…¶å±æ€§ã€‚</li>
</ul>
<p>Many of JavaScriptâ€™s built-in objects have properties that are read-only, non-enumerable, or non-configurable. By default, however, all properties of the objects you create are writable, enumerable, and configurable. Â§14.1 explains techniques for specifying non-default property attribute values for your objects.</p>
<blockquote>
<p>è®¸å¤š JavaScript çš„å†…ç½®å¯¹è±¡å…·æœ‰åªè¯»ã€ä¸å¯æšä¸¾æˆ–ä¸å¯é…ç½®çš„å±æ€§ã€‚ä½†æ˜¯ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œåˆ›å»ºçš„å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å¯å†™ã€å¯æšä¸¾å’Œå¯é…ç½®çš„ã€‚Â§14.1 è§£é‡Šäº†ä¸ºå¯¹è±¡æŒ‡å®šéé»˜è®¤å±æ€§å±æ€§å€¼çš„æŠ€å·§ã€‚</p>
</blockquote>
<h2 id="6-2-Creating-Objects"><a href="#6-2-Creating-Objects" class="headerlink" title="6.2 Creating Objects"></a>6.2 Creating Objects</h2><p>Objects can be created with object literals, with the new keyword, and with the Object.create() function. The subsections below describe each technique.</p>
<blockquote>
<p>å¯¹è±¡å¯ä»¥ç”¨å¯¹è±¡å­—é¢é‡åˆ›å»ºï¼Œä¹Ÿå¯ä»¥ç”¨ new å…³é”®å­—å’Œ Object.create() å‡½æ•°æ¥åˆ›å»ºã€‚æ¥ä¸‹æ¥çš„å‡ éƒ¨åˆ†å¯¹è¿™äº›æŠ€æœ¯ä¸€ä¸€è®²è¿°ã€‚</p>
</blockquote>
<h3 id="6-2-1-Object-Literals"><a href="#6-2-1-Object-Literals" class="headerlink" title="6.2.1 Object Literals"></a>6.2.1 Object Literals</h3><p>The easiest way to create an object is to include an object literal in your JavaScript code. In its simplest form, an object literal is a comma-separated list of colon-separated name:value pairs, enclosed within curly braces. A property name is a JavaScript identifier or a string literal (the empty string is allowed). A property value is any JavaScript expression; the value of the expression (it may be a primitive value or an object value) becomes the value of the property. Here are some examples:</p>
<blockquote>
<p>åˆ›å»ºå¯¹è±¡æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯åœ¨ JavaScript ä»£ç ä¸­ä½¿ç”¨å¯¹è±¡ç›´æ¥é‡ã€‚å¯¹è±¡ç›´æ¥é‡æ˜¯ç”±è‹¥å¹²å&#x2F;å€¼å¯¹ç»„æˆçš„æ˜ å°„è¡¨ï¼Œå&#x2F;å€¼å¯¹ä¸­é—´ç”¨å†’å·åˆ†éš”ï¼Œå&#x2F;å€¼å¯¹ä¹‹é—´ç”¨é€—å·åˆ†éš”ï¼Œæ•´ä¸ªæ˜ å°„è¡¨ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥ã€‚å±æ€§åå¯ä»¥æ˜¯ JavaScript æ ‡è¯†ç¬¦ä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²å­—é¢é‡ï¼ˆåŒ…æ‹¬ç©ºå­—ç¬¦ä¸²ï¼‰ã€‚å±æ€§çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„ JavaScript è¡¨è¾¾å¼ï¼›è¡¨è¾¾å¼çš„å€¼ï¼ˆå¯ä»¥æ˜¯åŸå§‹å€¼ä¹Ÿå¯ä»¥æ˜¯å¯¹è±¡å€¼ï¼‰å˜æˆè¿™ä¸ªå±æ€§çš„å€¼ã€‚ä¸‹é¢æœ‰ä¸€äº›ä¾‹å­ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> empty = &#123;&#125;;                          <span class="comment">// An object with no properties</span></span><br><span class="line"><span class="keyword">let</span> point = &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;;              <span class="comment">// Two numeric properties</span></span><br><span class="line"><span class="keyword">let</span> p2 = &#123; <span class="attr">x</span>: point.<span class="property">x</span>, <span class="attr">y</span>: point.<span class="property">y</span>+<span class="number">1</span> &#125;;   <span class="comment">// More complex values</span></span><br><span class="line"><span class="keyword">let</span> book = &#123;</span><br><span class="line">    <span class="string">&quot;main title&quot;</span>: <span class="string">&quot;JavaScript&quot;</span>,          <span class="comment">// These property names include spaces,</span></span><br><span class="line">    <span class="string">&quot;sub-title&quot;</span>: <span class="string">&quot;The Definitive Guide&quot;</span>, <span class="comment">// and hyphens, so use string literals.</span></span><br><span class="line">    <span class="attr">for</span>: <span class="string">&quot;all audiences&quot;</span>,                <span class="comment">// for is reserved, but no quotes.</span></span><br><span class="line">    <span class="attr">author</span>: &#123;                            <span class="comment">// The value of this property is</span></span><br><span class="line">        <span class="attr">firstname</span>: <span class="string">&quot;David&quot;</span>,              <span class="comment">// itself an object.</span></span><br><span class="line">        <span class="attr">surname</span>: <span class="string">&quot;Flanagan&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>A trailing comma following the last property in an object literal is legal, and some programming styles encourage the use of these trailing commas so youâ€™re less likely to cause a syntax error if you add a new property at the end of the object literal at some later time.</p>
<blockquote>
<p>å¯¹è±¡æ–‡æœ¬ä¸­æœ€åä¸€ä¸ªå±æ€§çš„å°¾éšé€—å·æ˜¯åˆæ³•çš„ï¼Œå¹¶ä¸”æŸäº›ç¼–ç¨‹æ ·å¼é¼“åŠ±ä½¿ç”¨è¿™äº›å°¾éšé€—å·ï¼Œå› ä¸ºï¼Œå¦‚æœä¹‹ååœ¨å¯¹è±¡æ–‡æœ¬çš„æœ«å°¾æ·»åŠ æ–°å±æ€§ï¼Œåˆ™ä¸å¤ªå¯èƒ½å¯¼è‡´è¯­æ³•é”™è¯¯ã€‚</p>
</blockquote>
<p>An object literal is an expression that creates and initializes a new and distinct object each time it is evaluated. The value of each property is evaluated each time the literal is evaluated. This means that a single object literal can create many new objects if it appears within the body of a loop or in a function that is called repeatedly, and that the property values of these objects may differ from each other.</p>
<blockquote>
<p>å¯¹è±¡å­—é¢é‡æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒæ¯æ¬¡è®¡ç®—æ—¶éƒ½ä¼šåˆ›å»ºå’Œåˆå§‹åŒ–ä¸€ä¸ªæ–°å¯¹è±¡ã€‚æ¯æ¬¡å­—é¢é‡è®¡ç®—æ—¶ï¼Œå°†è®¡ç®—æ¯ä¸ªå±æ€§çš„å€¼ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœå•ä¸ªå¯¹è±¡å­—é¢é‡å‡ºç°åœ¨å¾ªç¯ä½“æˆ–é‡å¤è°ƒç”¨çš„å‡½æ•°ä¸­ï¼Œå®ƒèƒ½åˆ›å»ºè®¸å¤šä¸ªæ–°å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å¯¹è±¡çš„å±æ€§å€¼å¯èƒ½å½¼æ­¤ä¸åŒã€‚</p>
</blockquote>
<p>The object literals shown here use simple syntax that has been legal since the earliest versions of JavaScript. Recent versions of the language have introduced a number of new object literal features, which are covered in Â§6.10.</p>
<blockquote>
<p>æ­¤å¤„çš„ç®€å•è¯­æ³•å¯¹è±¡å­—é¢é‡ï¼Œè‡ª JavaScript æœ€æ—©çš„ç‰ˆæœ¬ä»¥æ¥ä¸€ç›´æ˜¯åˆæ³•çš„ã€‚æœ€æ–°ç‰ˆæœ¬å¼•å…¥äº†è®¸å¤šå¯¹è±¡å­—é¢é‡çš„æ–°çš„ç‰¹æ€§ï¼Œè¿™äº›ç‰¹æ€§åœ¨ Â§6.10 ä¸­ä»‹ç»ã€‚</p>
</blockquote>
<h3 id="6-2-2-Creating-Objects-with-new"><a href="#6-2-2-Creating-Objects-with-new" class="headerlink" title="6.2.2 Creating Objects with new"></a>6.2.2 Creating Objects with new</h3><p>The new operator creates and initializes a new object. The new keyword must be followed by a function invocation. A function used in this way is called a constructor and serves to initialize a newly created object. JavaScript includes constructors for its built-in types. For example:</p>
<blockquote>
<p>new è¿ç®—ç¬¦åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚new å…³é”®å­—å¿…é¡»ç´§è·Ÿä¸€ä¸ªå‡½æ•°è°ƒç”¨ã€‚è¿™ç§æ–¹å¼ä½¿ç”¨å‡½æ•°å«åšæ„é€ å‡½æ•°è°ƒç”¨ï¼Œå…¶æä¾›åˆå§‹åŒ–ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡çš„æœåŠ¡ã€‚åœ¨ JavaScript ä¸­ï¼Œå†…ç½®ç±»å‹éƒ½åŒ…å«ç›¸å¯¹åº”çš„æ„é€ å‡½æ•°ã€‚ä¾‹å¦‚ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = <span class="keyword">new</span> <span class="title class_">Object</span>();  <span class="comment">// Create an empty object: same as &#123;&#125;.</span></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>();   <span class="comment">// Create an empty array: same as [].</span></span><br><span class="line"><span class="keyword">let</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>();    <span class="comment">// Create a Date object representing the current time</span></span><br><span class="line"><span class="keyword">let</span> r = <span class="keyword">new</span> <span class="title class_">Map</span>();     <span class="comment">// Create a Map object for key/value mapping</span></span><br></pre></td></tr></table></figure>
<p>In addition to these built-in constructors, it is common to define your own constructor functions to initialize newly created objects. Doing so is covered in Chapter 9.</p>
<blockquote>
<p>é™¤äº†è¿™äº›å†…ç½®æ„é€ å‡½æ•°ï¼Œå¸¸å¸¸ç”¨è‡ªå®šä¹‰æ„é€ å‡½æ•°æ¥åˆå§‹åŒ–æ–°å¯¹è±¡ã€‚ ç¬¬ 9 ç« å°†è¯¦ç»†è®²è¿°å…¶ä¸­çš„ç»†èŠ‚ã€‚</p>
</blockquote>
<h3 id="6-2-3-Prototypes"><a href="#6-2-3-Prototypes" class="headerlink" title="6.2.3 Prototypes"></a>6.2.3 Prototypes</h3><p>Before we can cover the third object creation technique, we must pause for a moment to explain prototypes. Almost every JavaScript object has a second JavaScript object associated with it. This second object is known as a prototype, and the first object inherits properties from the prototype.</p>
<blockquote>
<p>åœ¨è®²è¿°ç¬¬ä¸‰ç§å¯¹è±¡åˆ›å»ºæŠ€æœ¯ä¹‹å‰ï¼Œæˆ‘ä»¬åº”å½“é¦–å…ˆè§£é‡Šä¸€ä¸‹åŸå‹ã€‚æ¯ä¸€ä¸ª JavaScript å¯¹è±¡éƒ½å’Œå¦ä¸€ä¸ªå¯¹è±¡ç›¸å…³è”ã€‚â€œå¦ä¸€ä¸ªâ€å¯¹è±¡å°±æ˜¯æˆ‘ä»¬ç†ŸçŸ¥çš„åŸå‹ï¼Œæ¯ä¸€ä¸ªå¯¹è±¡éƒ½ä»åŸå‹ç»§æ‰¿å±æ€§ã€‚</p>
</blockquote>
<p>All objects created by object literals have the same prototype object, and we can refer to this prototype object in JavaScript code as Object.prototype. Objects created using the new keyword and a constructor invocation use the value of the prototype property of the constructor function as their prototype. So the object created by new Object() inherits from Object.prototype, just as the object created by {} does. Similarly, the object created by new Array() uses Array.prototype as its prototype, and the object created by new Date() uses Date.prototype as its prototype. This can be confusing when first learning JavaScript. Remember: almost all objects have a prototype, but only a relatively small number of objects have a prototype property. It is these objects with prototype properties that define the prototypes for all the other objects.</p>
<blockquote>
<p>æ‰€æœ‰é€šè¿‡å¯¹è±¡å­—é¢é‡åˆ›å»ºçš„å¯¹è±¡éƒ½å…·æœ‰åŒä¸€ä¸ªåŸå‹å¯¹è±¡ï¼Œå¹¶å¯ä»¥é€šè¿‡ JavaScript ä»£ç  Object.prototype è·å¾—å¯¹åŸå‹å¯¹è±¡çš„å¼•ç”¨ã€‚é€šè¿‡å…³é”®å­— new å’Œæ„é€ å‡½æ•°è°ƒç”¨åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹å°±æ˜¯æ„é€ å‡½æ•°çš„ prototype å±æ€§çš„å€¼ã€‚å› æ­¤ï¼ŒåŒä½¿ç”¨ {} åˆ›å»ºå¯¹è±¡ä¸€æ ·ï¼Œé€šè¿‡ new Object() åˆ›å»ºçš„å¯¹è±¡ä¹Ÿç»§æ‰¿è‡ªObject.prototypeã€‚åŒæ ·ï¼Œé€šè¿‡ new Array() åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹å°±æ˜¯ Array.prototypeï¼Œé€šè¿‡ new Date() åˆ›å»ºçš„å¯¹è±¡çš„åŸå‹å°±æ˜¯ Date.prototypeã€‚å½“ç¬¬ä¸€æ¬¡å­¦ä¹  JavaScript æ—¶ï¼Œè¿™å¯èƒ½ä»¤äººå›°æƒ‘ã€‚è¯·è®°ä½ï¼šå‡ ä¹æ‰€æœ‰å¯¹è±¡éƒ½æœ‰åŸå‹ï¼Œä½†åªæœ‰ç›¸å¯¹è¾ƒå°‘çš„å¯¹è±¡å…·æœ‰åŸå‹å±æ€§ã€‚æ­£æ˜¯è¿™äº›å…·æœ‰åŸå‹å±æ€§çš„å¯¹è±¡å®šä¹‰äº†æ‰€æœ‰å…¶ä»–å¯¹è±¡çš„åŸå‹ã€‚</p>
</blockquote>
<p>Object.prototype is one of the rare objects that has no prototype: it does not inherit any properties. Other prototype objects are normal objects that do have a prototype. Most built-in constructors (and most user-defined constructors) have a prototype that inherits from Object.prototype. For example, Date.prototype inherits properties from Object.prototype, so a Date object created by new Date() inherits properties from both Date.prototype and Object.prototype. This linked series of prototype objects is known as a prototype chain.</p>
<blockquote>
<p>æ²¡æœ‰åŸå‹çš„å¯¹è±¡ä¸ºæ•°ä¸å¤šï¼ŒObject.prototypeå°±æ˜¯å…¶ä¸­ä¹‹ä¸€ï¼šå®ƒä¸ç»§æ‰¿ä»»ä½•å±æ€§ã€‚å…¶ä»–åŸå‹å¯¹è±¡éƒ½æ˜¯æ™®é€šå¯¹è±¡ï¼Œæ™®é€šå¯¹è±¡éƒ½å…·æœ‰åŸå‹ã€‚å¤§éƒ¨åˆ†çš„å†…ç½®æ„é€ å‡½æ•°ï¼ˆä»¥åŠå¤§éƒ¨åˆ†è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°ï¼‰éƒ½å…·æœ‰ä¸€ä¸ªç»§æ‰¿è‡ª Object.prototype çš„åŸå‹ã€‚ä¾‹å¦‚ï¼Œ Date.prototype çš„å±æ€§ç»§æ‰¿è‡ª Object.prototypeï¼Œå› æ­¤ç”± new Date() åˆ›å»ºçš„ Date å¯¹è±¡çš„å±æ€§åŒæ—¶ç»§æ‰¿è‡ª Date.prototype å’Œ Object.prototypeã€‚è¿™ä¸€ç³»åˆ—é“¾æ¥çš„åŸå‹å¯¹è±¡å°±æ˜¯æ‰€è°“ â€œåŸå‹é“¾â€ï¼ˆprototype chainï¼‰ã€‚</p>
</blockquote>
<p>An explanation of how property inheritance works is in Â§6.3.2. Chapter 9 explains the connection between prototypes and constructors in more detail: it shows how to define new â€œclassesâ€ of objects by writing a constructor function and setting its prototype property to the prototype object to be used by the â€œinstancesâ€ created with that constructor. And weâ€™ll learn how to query (and even change) the prototype of an object in Â§14.3.</p>
<blockquote>
<p>Â§6.3.2 èŠ‚è®²è¿°å±æ€§ç»§æ‰¿çš„å·¥ä½œæœºåˆ¶ã€‚ç¬¬ 9 ç« å°†ä¼šæ›´è¯¦ç»†åœ°è®¨è®ºåŸå‹å’Œæ„é€ å‡½æ•°ï¼šåŒ…æ‹¬å¦‚ä½•é€šè¿‡ç¼–å†™æ„é€ å‡½æ•°å®šä¹‰å¯¹è±¡çš„â€œç±»â€ï¼Œä»¥åŠç»™æ„é€ å‡½æ•°çš„ prototype å±æ€§èµ‹å€¼å¯ä»¥è®©å…¶â€œå®ä¾‹â€ç›´æ¥ä½¿ç”¨è¿™ä¸ªåŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚å¹¶ä¸”åœ¨ Â§14.3 æˆ‘ä»¬ä¼šå­¦ä¹ å¦‚ä½•æŸ¥è¯¢ï¼ˆç”šè‡³æ”¹å˜ï¼‰å¯¹è±¡çš„åŸå‹ã€‚</p>
</blockquote>
<h3 id="6-2-4-Object-create"><a href="#6-2-4-Object-create" class="headerlink" title="6.2.4 Object.create()"></a>6.2.4 Object.create()</h3><p>Object.create() creates a new object, using its first argument as the prototype of that object:</p>
<blockquote>
<p>Object.create() åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨ç¬¬ä¸€ä¸ªå®å‚ä½œä¸ºå®ƒçš„åŸå‹ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o1 = <span class="title class_">Object</span>.<span class="title function_">create</span>(&#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;);     <span class="comment">// o1 inherits properties x and y.</span></span><br><span class="line">o1.<span class="property">x</span> + o1.<span class="property">y</span>                               <span class="comment">// =&gt; 3</span></span><br></pre></td></tr></table></figure>
<p>You can pass null to create a new object that does not have a prototype, but if you do this, the newly created object will not inherit anything, not even basic methods like toString() (which means it wonâ€™t work with the + operator either):</p>
<blockquote>
<p>å¯ä»¥é€šè¿‡ä¼ å…¥å‚æ•° null æ¥åˆ›å»ºä¸€ä¸ªæ²¡æœ‰åŸå‹çš„æ–°å¯¹è±¡ï¼Œä½†é€šè¿‡è¿™ç§æ–¹å¼åˆ›å»ºçš„å¯¹è±¡ä¸ä¼šç»§æ‰¿ä»»ä½•ä¸œè¥¿ï¼Œç”šè‡³ä¸åŒ…æ‹¬åŸºç¡€æ–¹æ³•ï¼Œæ¯”å¦‚ toString()ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒå°†ä¸èƒ½å’Œâ€œ+â€è¿ç®—ç¬¦ä¸€èµ·æ­£å¸¸å·¥ä½œï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);             <span class="comment">// o2 inherits no props or methods.</span></span><br></pre></td></tr></table></figure>
<p>If you want to create an ordinary empty object (like the object returned by {} or new Object()), pass Object.prototype:</p>
<blockquote>
<p>å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ç©ºå¯¹è±¡ï¼ˆåƒé€šè¿‡ {} æˆ– new Object() åˆ›å»ºçš„å¯¹è±¡ï¼‰ï¼Œéœ€è¦ä¼ å…¥ Object.prototypeï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o3 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>); <span class="comment">// o3 is like &#123;&#125; or new Object().</span></span><br></pre></td></tr></table></figure>
<p>The ability to create a new object with an arbitrary prototype is a powerful one, and weâ€™ll use Object.create() in a number of places throughout this chapter. (Object.create() also takes an optional second argument that describes the properties of the new object. This second argument is an advanced feature covered in Â§14.1.)</p>
<blockquote>
<p>å¯ä»¥é€šè¿‡ä»»æ„åŸå‹åˆ›å»ºæ–°å¯¹è±¡ï¼Œè¿™æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ç‰¹æ€§ï¼Œå¹¶ä¸”æœ¬ç« æˆ‘ä»¬ä¼šåœ¨å¾ˆå¤šåœ°æ–¹ä½¿ç”¨ Object.create()ã€‚ï¼ˆObject.create() ä¹Ÿå¯ä»¥ä¼ å…¥ç¬¬äºŒä¸ªå¯é€‰å®å‚æ¥æè¿°è¿™ä¸ªæ–°çš„å¯¹è±¡çš„å±æ€§ã€‚ç¬¬äºŒä¸ªå®å‚æ˜¯ä¸€ä¸ªé«˜çº§ç‰¹æ€§ï¼Œåœ¨  Â§14.1 å†è¿›è¡Œæè¿°ã€‚ï¼‰</p>
</blockquote>
<p>One use for Object.create() is when you want to guard against unintended (but nonmalicious) modification of an object by a library function that you donâ€™t have control over. Instead of passing the object directly to the function, you can pass an object that inherits from it. If the function reads properties of that object, it will see the inherited values. If it sets properties, however, those writes will not affect the original object.</p>
<blockquote>
<p>Object.create() å…¶ä¸­ä¸€ä¸ªç”¨é€”æ˜¯é¢„é˜²å¯¹è±¡æ— æ„é—´ï¼ˆéæ¶æ„åœ°ï¼‰è¢«æ— æ³•æ”¯é…çš„åº“å‡½æ•°ç¯¡æ”¹ã€‚å¯ä»¥åˆ›å»ºä¸€ä¸ªç»§æ‰¿å®ƒçš„å¯¹è±¡æ¥ä¼ é€’ç»™å‡½æ•°ï¼Œè€Œä¸æ˜¯å°†å…¶ç›´æ¥ä¼ é€’ç»™å‡½æ•°ã€‚å½“å‡½æ•°è¯»å–ç»§æ‰¿å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå®é™…ä¸Šè¯»å–çš„æ˜¯ç»§æ‰¿æ¥çš„å€¼ã€‚å¦‚æœç»™ç»§æ‰¿å¯¹è±¡çš„å±æ€§èµ‹å€¼ï¼Œåˆ™è¿™äº›å±æ€§åªä¼šå½±å“è¿™ä¸ªç»§æ‰¿å¯¹è±¡è‡ªèº«ï¼Œè€Œä¸æ˜¯åŸå§‹å¯¹è±¡ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="string">&quot;don&#x27;t change this value&quot;</span> &#125;;</span><br><span class="line">library.<span class="keyword">function</span>(<span class="params"><span class="built_in">Object</span>.create(o)</span>);  <span class="comment">// Guard against accidental modifications</span></span><br></pre></td></tr></table></figure>
<p>To understand why this works, you need to know how properties are queried and set in JavaScript. These are the topics of the next section.</p>
<blockquote>
<p>æƒ³è¦äº†è§£å…¶å·¥ä½œåŸç†ï¼Œéœ€è¦å…ˆçŸ¥é“ JavaScript ä¸­å±æ€§çš„æŸ¥è¯¢å’Œè®¾ç½®æœºåˆ¶ã€‚è¿™æ˜¯æ¥ä¸‹æ¥è¿™èŠ‚çš„ä¸»é¢˜ã€‚</p>
</blockquote>
<h2 id="6-3-Querying-and-Setting-Properties"><a href="#6-3-Querying-and-Setting-Properties" class="headerlink" title="6.3 Querying and Setting Properties"></a>6.3 Querying and Setting Properties</h2><p>To obtain the value of a property, use the dot (.) or square bracket ([]) operators described in Â§4.4. The lefthand side should be an expression whose value is an object. If using the dot operator, the righthand side must be a simple identifier that names the property. If using square brackets, the value within the brackets must be an expression that evaluates to a string that contains the desired property name:</p>
<blockquote>
<p>Â§4.4 å·²ç»æåˆ°ï¼Œå¯ä»¥é€šè¿‡ç‚¹ï¼ˆ.ï¼‰æˆ–æ–¹æ‹¬å·ï¼ˆ[]ï¼‰è¿ç®—ç¬¦æ¥è·å–å±æ€§çš„å€¼ã€‚è¿ç®—ç¬¦å·¦ä¾§åº”å½“æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ã€‚å¦‚æœä½¿ç”¨ç‚¹è¿ç®—ç¬¦ï¼Œå³ä¾§å¿…é¡»æ˜¯ä¸€ä¸ªä»¥å±æ€§åç§°å‘½åçš„ç®€å•æ ‡è¯†ç¬¦ã€‚å¦‚æœä½¿ç”¨æ–¹æ‹¬å·ï¼Œæ–¹æ‹¬å·å†…å¿…é¡»æ˜¯ä¸€ä¸ªè®¡ç®—ç»“æœä¸ºå­—ç¬¦ä¸²çš„è¡¨è¾¾å¼ï¼Œè¿™ä¸ªå­—ç¬¦ä¸²å°±æ˜¯å±æ€§çš„åå­—ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> author = book.<span class="property">author</span>;       <span class="comment">// Get the &quot;author&quot; property of the book.</span></span><br><span class="line"><span class="keyword">let</span> name = author.<span class="property">surname</span>;      <span class="comment">// Get the &quot;surname&quot; property of the author.</span></span><br><span class="line"><span class="keyword">let</span> title = book[<span class="string">&quot;main title&quot;</span>]; <span class="comment">// Get the &quot;main title&quot; property of the book.</span></span><br></pre></td></tr></table></figure>
<p>To create or set a property, use a dot or square brackets as you would to query the property, but put them on the lefthand side of an assignment expression:</p>
<blockquote>
<p>å’ŒæŸ¥è¯¢å±æ€§å€¼çš„å†™æ³•ä¸€æ ·ï¼Œé€šè¿‡ç‚¹å’Œæ–¹æ‹¬å·ä¹Ÿå¯ä»¥åˆ›å»ºå±æ€§æˆ–ç»™å±æ€§èµ‹å€¼ï¼Œä½†éœ€è¦å°†å®ƒä»¬æ”¾åœ¨èµ‹å€¼è¡¨è¾¾å¼çš„å·¦ä¾§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">book.<span class="property">edition</span> = <span class="number">7</span>;                   <span class="comment">// Create an &quot;edition&quot; property of book.</span></span><br><span class="line">book[<span class="string">&quot;main title&quot;</span>] = <span class="string">&quot;ECMAScript&quot;</span>;  <span class="comment">// Change the &quot;main title&quot; property.</span></span><br></pre></td></tr></table></figure>
<p>When using square bracket notation, weâ€™ve said that the expression inside the square brackets must evaluate to a string. A more precise statement is that the expression must evaluate to a string or a value that can be converted to a string or to a Symbol (Â§6.10.3). In Chapter 7, for example, weâ€™ll see that it is common to use numbers inside the square brackets.</p>
<blockquote>
<p>å½“ä½¿ç”¨æ–¹æ‹¬å·æ—¶ï¼Œæˆ‘ä»¬è¯´æ–¹æ‹¬å·å†…çš„è¡¨è¾¾å¼å¿…é¡»è¿”å›å­—ç¬¦ä¸²ã€‚å…¶å®æ›´ä¸¥æ ¼åœ°è®²ï¼Œè¡¨è¾¾å¼å¿…é¡»è¿”å›å­—ç¬¦ä¸²æˆ–è¿”å›ä¸€ä¸ªå¯ä»¥è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„å€¼æˆ– Symbolï¼ˆÂ§6.10.3ï¼‰ã€‚åœ¨ç¬¬ 7 ç« é‡Œæœ‰ä¸€äº›ä¾‹å­ä¸­çš„æ–¹æ‹¬å·å†…ä½¿ç”¨äº†æ•°å­—ï¼Œè¿™æƒ…å†µæ˜¯éå¸¸å¸¸ç”¨çš„ã€‚</p>
</blockquote>
<h3 id="6-3-1-Objects-As-Associative-Arrays"><a href="#6-3-1-Objects-As-Associative-Arrays" class="headerlink" title="6.3.1 Objects As Associative Arrays"></a>6.3.1 Objects As Associative Arrays</h3><p>As explained in the preceding section, the following two JavaScript expressions have the same value:</p>
<blockquote>
<p>ä¸Šæ–‡æåˆ°ï¼Œä¸‹é¢ä¸¤ä¸ªè¡¨è¾¾å¼æœ‰ç›¸åŒçš„å€¼ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">object.<span class="property">property</span></span><br><span class="line">object[<span class="string">&quot;property&quot;</span>]</span><br></pre></td></tr></table></figure>
<p>The first syntax, using the dot and an identifier, is like the syntax used to access a static field of a struct or object in C or Java. The second syntax, using square brackets and a string, looks like array access, but to an array indexed by strings rather than by numbers. This kind of array is known as an associative array (or hash or map or dictionary). JavaScript objects are associative arrays, and this section explains why that is important.</p>
<blockquote>
<p>ç¬¬ä¸€ç§è¯­æ³•ä½¿ç”¨ç‚¹è¿ç®—ç¬¦å’Œä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œè¿™å’Œ C å’Œ Java ä¸­è®¿é—®ä¸€ä¸ªç»“æ„ä½“æˆ–å¯¹è±¡çš„é™æ€å­—æ®µéå¸¸ç±»ä¼¼ã€‚ç¬¬äºŒç§è¯­æ³•ä½¿ç”¨æ–¹æ‹¬å·å’Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œçœ‹èµ·æ¥æ›´åƒæ•°ç»„ï¼Œåªæ˜¯è¿™ä¸ªæ•°ç»„å…ƒç´ æ˜¯é€šè¿‡å­—ç¬¦ä¸²ç´¢å¼•è€Œä¸æ˜¯æ•°å­—ç´¢å¼•ã€‚è¿™ç§æ•°ç»„å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å…³è”æ•°ç»„ï¼ˆassociative arrayï¼‰ï¼ˆä¹Ÿç§°åšæ•£åˆ—ã€æ˜ å°„æˆ–å­—å…¸ï¼‰ã€‚JavaScript å¯¹è±¡éƒ½æ˜¯å…³è”æ•°ç»„ï¼Œæœ¬èŠ‚å°†è®¨è®ºå®ƒçš„é‡è¦æ€§ã€‚</p>
</blockquote>
<p>In C, C++, Java, and similar strongly typed languages, an object can have only a fixed number of properties, and the names of these properties must be defined in advance. Since JavaScript is a loosely typed language, this rule does not apply: a program can create any number of properties in any object. When you use the . operator to access a property of an object, however, the name of the property is expressed as an identifier. Identifiers must be typed literally into your JavaScript program; they are not a datatype, so they cannot be manipulated by the program.</p>
<blockquote>
<p>åœ¨ Cã€C++ã€Java å’Œä¸€äº›å¼ºç±»å‹è¯­è¨€ä¸­ï¼Œå¯¹è±¡åªèƒ½æ‹¥æœ‰å›ºå®šæ•°ç›®çš„å±æ€§ï¼Œå¹¶ä¸”è¿™äº›å±æ€§çš„åç§°å¿…é¡»æå‰å®šä¹‰å¥½ã€‚ç”±äº JavaScript æ˜¯ä¸€ä¸ªå¼±ç±»å‹è¯­è¨€ï¼Œå› æ­¤ä¸é€‚ç”¨è¿™æ¡è§„åˆ™ï¼šå¯¹è±¡åœ¨ç¨‹åºä¸­å¯ä»¥åˆ›å»ºä»»æ„æ•°é‡çš„å±æ€§ã€‚å½“ä½¿ç”¨ . è¿ç®—ç¬¦è®¿é—®å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå±æ€§åç”¨ä¸€ä¸ªæ ‡è¯†ç¬¦æ¥è¡¨ç¤ºã€‚æ ‡è¯†ç¬¦å¿…é¡»ç›´æ¥å‡ºç°åœ¨ JavaScript ç¨‹åºä¸­ï¼Œå®ƒä»¬ä¸æ˜¯æ•°æ®ç±»å‹ï¼Œæ‰€ä»¥æ— æ³•åœ¨ç¨‹åºä¸­ä¿®æ”¹ã€‚</p>
</blockquote>
<p>On the other hand, when you access a property of an object with the [] array notation, the name of the property is expressed as a string. Strings are JavaScript datatypes, so they can be manipulated and created while a program is running. So, for example, you can write the following code in JavaScript:</p>
<blockquote>
<p>å¦ä¸€ç§æ–¹å¼ï¼Œå½“é€šè¿‡ [] æ¥è®¿é—®å¯¹è±¡çš„å±æ€§æ—¶ï¼Œå±æ€§åé€šè¿‡å­—ç¬¦ä¸²æ¥è¡¨ç¤ºã€‚å­—ç¬¦ä¸²æ˜¯ JavaScript çš„æ•°æ®ç±»å‹ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶å¯ä»¥ä¿®æ”¹å’Œåˆ›å»ºå®ƒä»¬ã€‚å› æ­¤ï¼Œå¯ä»¥åœ¨ JavaScript ä¸­ä½¿ç”¨ä¸‹é¢è¿™ç§ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> addr = <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">    addr += customer[<span class="string">`address<span class="subst">$&#123;i&#125;</span>`</span>] + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This code reads and concatenates the address0, address1, address2, and address3 properties of the customer object.</p>
<blockquote>
<p>è¿™æ®µä»£ç è¯»å– customer å¯¹è±¡çš„ address0ã€address1ã€address2 å’Œ address3 å±æ€§ï¼Œå¹¶å°†å®ƒä»¬è¿æ¥èµ·æ¥ã€‚</p>
</blockquote>
<p>This brief example demonstrates the flexibility of using array notation to access properties of an object with string expressions. This code could be rewritten using the dot notation, but there are cases in which only the array notation will do. Suppose, for example, that you are writing a program that uses network resources to compute the current value of the userâ€™s stock market investments. The program allows the user to type in the name of each stock they own as well as the number of shares of each stock. You might use an object named portfolio to hold this information. The object has one property for each stock. The name of the property is the name of the stock, and the property value is the number of shares of that stock. So, for example, if a user holds 50 shares of stock in IBM, the portfolio.ibm property has the value 50.</p>
<blockquote>
<p>è¿™ä¸ªä¾‹å­ä¸»è¦è¯´æ˜äº†é€šè¿‡å­—ç¬¦ä¸²è¡¨è¾¾å¼ä½¿ç”¨æ•°ç»„æ ‡è®°æ¥è®¿é—®å¯¹è±¡å±æ€§çš„çµæ´»æ€§ã€‚è¿™æ®µä»£ç ä¹Ÿå¯ä»¥é€šè¿‡ç‚¹è¿ç®—ç¬¦æ¥é‡å†™ï¼Œä½†æ˜¯ä¸€äº›åœºæ™¯åªèƒ½ä½¿ç”¨æ•°ç»„å†™æ³•æ¥å®Œæˆã€‚å‡è®¾ä½ æ­£åœ¨å†™ä¸€ä¸ªç¨‹åºï¼Œè¿™ä¸ªç¨‹åºåˆ©ç”¨ç½‘ç»œèµ„æºè®¡ç®—ç”¨æˆ·è‚¡ç¥¨å¸‚åœºæŠ•èµ„çš„å½“å‰ä»·å€¼ã€‚ç¨‹åºå…è®¸ç”¨æˆ·è¾“å…¥ä»–ä»¬æ‹¥æœ‰çš„è‚¡ç¥¨åç§°ä»¥åŠå¯¹åº”çš„æ•°é‡ã€‚ä½ å¯ä»¥ç”¨ä¸€ä¸ªåä¸º portfolio çš„å¯¹è±¡æ¥å‚¨å­˜è¿™äº›ä¿¡æ¯ã€‚æ¯ä¸€ä¸ªè‚¡ç¥¨åœ¨å¯¹è±¡ä¸­éƒ½æœ‰ä¸€ä¸ªå±æ€§ä¸ä¹‹å¯¹åº”ã€‚å±æ€§åæ˜¯è‚¡ç¥¨åï¼Œå±æ€§å€¼æ˜¯è‚¡ç¥¨æŒæœ‰ä»½é¢ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç”¨æˆ·æŒæœ‰ IBM çš„ 50 è‚¡ï¼Œé‚£ä¹ˆ portfolio.ibm å±æ€§çš„å€¼å°±ä¸º 50ã€‚</p>
</blockquote>
<p>Part of this program might be a function for adding a new stock to the portfolio:</p>
<blockquote>
<p>ä¸‹é¢æ˜¯ç¨‹åºçš„éƒ¨åˆ†ä»£ç ï¼Œè¿™ä¸ªå‡½æ•°ç”¨æ¥ç»™ portifolio æ·»åŠ æ–°çš„è‚¡ç¥¨ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">addstock</span>(<span class="params">portfolio, stockname, shares</span>) &#123;</span><br><span class="line">    portfolio[stockname] = shares;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Since the user enters stock names at runtime, there is no way that you can know the property names ahead of time. Since you canâ€™t know the property names when you write the program, there is no way you can use the . operator to access the properties of the portfolio object. You can use the [] operator, however, because it uses a string value (which is dynamic and can change at runtime) rather than an identifier (which is static and must be hardcoded in the program) to name the property.</p>
<blockquote>
<p>ç”±äºç”¨æˆ·æ˜¯åœ¨ç¨‹åºè¿è¡Œæ—¶è¾“å…¥è‚¡ç¥¨åç§°ï¼Œå› æ­¤åœ¨ä¹‹å‰æ— æ³•å¾—çŸ¥è¿™äº›è‚¡ç¥¨çš„åç§°æ˜¯ä»€ä¹ˆã€‚è€Œç”±äºåœ¨å†™ç¨‹åºçš„æ—¶å€™ä¸çŸ¥é“å±æ€§åç§°ï¼Œå› æ­¤æ— æ³•é€šè¿‡ç‚¹è¿ç®—ç¬¦ï¼ˆ.ï¼‰æ¥è®¿é—®å¯¹è±¡ portfolio çš„å±æ€§ã€‚ä½†å¯ä»¥ä½¿ç”¨ [] è¿ç®—ç¬¦ï¼Œå› ä¸ºå®ƒä½¿ç”¨å­—ç¬¦ä¸²å€¼ï¼ˆå­—ç¬¦ä¸²å€¼æ˜¯åŠ¨æ€çš„ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶æ›´æ”¹ï¼‰è€Œä¸æ˜¯æ ‡è¯†ç¬¦ï¼ˆæ ‡è¯†ç¬¦æ˜¯é™æ€çš„ï¼Œå¿…é¡»å†™æ­»åœ¨ç¨‹åºä¸­ï¼‰ä½œä¸ºç´¢å¼•å¯¹å±æ€§è¿›è¡Œè®¿é—®ã€‚</p>
</blockquote>
<p>In Chapter 5, we introduced the for&#x2F;in loop (and weâ€™ll see it again shortly, in Â§6.6). The power of this JavaScript statement becomes clear when you consider its use with associative arrays. Here is how you would use it when computing the total value of a portfolio:</p>
<blockquote>
<p>ç¬¬ 5 ç« ä»‹ç»äº† for&#x2F;in å¾ªç¯ï¼ˆÂ§6.6 èŠ‚è¿˜ä¼šè¿›ä¸€æ­¥ä»‹ç»ï¼‰ã€‚å½“ä½¿ç”¨ for&#x2F;in å¾ªç¯éå†å…³è”æ•°ç»„æ—¶ï¼Œå°±å¯ä»¥æ¸…æ™°åœ°ä½“ä¼šåˆ° for&#x2F;in çš„å¼ºå¤§ä¹‹å¤„ã€‚ä¸‹é¢çš„ä¾‹å­å°±æ˜¯åˆ©ç”¨ for&#x2F;in è®¡ç®—  portfolio çš„åˆè®¡å€¼ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">computeValue</span>(<span class="params">portfolio</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> total = <span class="number">0.0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> stock <span class="keyword">in</span> portfolio) &#123;       <span class="comment">// For each stock in the portfolio:</span></span><br><span class="line">        <span class="keyword">let</span> shares = portfolio[stock];  <span class="comment">// get the number of shares</span></span><br><span class="line">        <span class="keyword">let</span> price = <span class="title function_">getQuote</span>(stock);    <span class="comment">// look up share price</span></span><br><span class="line">        total += shares * price;        <span class="comment">// add stock value to total value</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> total;                       <span class="comment">// Return total value.</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JavaScript objects are commonly used as associative arrays as shown here, and it is important to understand how this works. In ES6 and later, however, the Map class described in Â§11.1.2 is often a better choice than using a plain object.</p>
<blockquote>
<p>å¦‚æœ¬èŠ‚æ‰€ç¤ºï¼ŒJavaScript å¯¹è±¡é€šå¸¸ç”¨ä½œå…³è”æ•°ç»„ï¼Œç†è§£å…¶å·¥ä½œåŸç†éå¸¸é‡è¦ã€‚ä½†æ˜¯ï¼Œåœ¨ ES6 ä¹‹åä½¿ç”¨ Map ç±»å¸¸å¸¸æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ï¼Œæˆ‘ä»¬å°†åœ¨ Â§11.1.2 ä¸­è¿›è¡Œæè¿°ã€‚</p>
</blockquote>
<h3 id="6-3-2-Inheritance"><a href="#6-3-2-Inheritance" class="headerlink" title="6.3.2 Inheritance"></a>6.3.2 Inheritance</h3><p>JavaScript objects have a set of â€œown properties,â€ and they also inherit a set of properties from their prototype object. To understand this, we must consider property access in more detail. The examples in this section use the Object.create() function to create objects with specified prototypes. Weâ€™ll see in Chapter 9, however, that every time you create an instance of a class with new, you are creating an object that inherits properties from a prototype object.</p>
<blockquote>
<p>JavaScript å¯¹è±¡ä¸­æœ‰ä¸€ç»„â€œè‡ªæœ‰å±æ€§â€ï¼Œä¹Ÿæœ‰ä¸€ç»„å±æ€§æ˜¯ç»§æ‰¿è‡ªå®ƒçš„åŸå‹å¯¹è±¡ã€‚æƒ³è¦ç†è§£å±æ€§ç»§æ‰¿ï¼Œå¿…é¡»æ›´æ·±å…¥åœ°äº†è§£å±æ€§è®¿é—®çš„ç»†èŠ‚ã€‚è¿™ä¸€èŠ‚çš„ä¾‹å­é€šè¿‡ä½¿ç”¨ Object.create() å‡½æ•°åˆ›å»ºå¯¹è±¡æ¥æŒ‡å®šå®ƒçš„åŸå‹ã€‚æˆ‘ä»¬ä¼šåœ¨ç¬¬ 9 ç« å†æ¬¡çœ‹åˆ°å®ƒï¼Œä½†æ˜¯ï¼Œæ¯æ¬¡ä½¿ç”¨ new åˆ›å»ºç±»çš„å®ä¾‹æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªä»åŸå‹å¯¹è±¡ç»§æ‰¿å±æ€§çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p>Suppose you query the property x in the object o. If o does not have an own property with that name, the prototype object of o1 is queried for the property x. If the prototype object does not have an own property by that name, but has a prototype itself, the query is performed on the prototype of the prototype. This continues until the property x is found or until an object with a null prototype is searched. As you can see, the prototype attribute of an object creates a chain or linked list from which properties are inherited:</p>
<blockquote>
<p>å‡è®¾è¦æŸ¥è¯¢å¯¹è±¡ o çš„å±æ€§ xã€‚å¦‚æœ o ä¸­ä¸å­˜åœ¨ x åç§°çš„è‡ªç”±å±æ€§ï¼Œé‚£ä¹ˆå°†ä¼šç»§ç»­åœ¨ o çš„åŸå‹å¯¹è±¡ä¸­æŸ¥è¯¢å±æ€§ xã€‚å¦‚æœåŸå‹å¯¹è±¡ä¸­ä¹Ÿæ²¡æœ‰ xï¼Œä½†è¿™ä¸ªåŸå‹å¯¹è±¡ä¹Ÿæœ‰åŸå‹ï¼Œé‚£ä¹ˆç»§ç»­åœ¨è¿™ä¸ªåŸå‹å¯¹è±¡çš„åŸå‹ä¸Šæ‰§è¡ŒæŸ¥è¯¢ï¼Œç›´åˆ°æ‰¾åˆ° x æˆ–è€…æŸ¥æ‰¾åˆ°ä¸€ä¸ªåŸå‹æ˜¯ null çš„å¯¹è±¡ä¸ºæ­¢ã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¯¹è±¡çš„åŸå‹å±æ€§æ„æˆäº†ä¸€ä¸ªâ€œé“¾â€ï¼Œé€šè¿‡è¿™ä¸ªâ€œé“¾â€å¯ä»¥å®ç°å±æ€§çš„ç»§æ‰¿ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;&#125;;               <span class="comment">// o inherits object methods from Object.prototype</span></span><br><span class="line">o.<span class="property">x</span> = <span class="number">1</span>;                  <span class="comment">// and it now has an own property x.</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="title class_">Object</span>.<span class="title function_">create</span>(o); <span class="comment">// p inherits properties from o and Object.prototype</span></span><br><span class="line">p.<span class="property">y</span> = <span class="number">2</span>;                  <span class="comment">// and has an own property y.</span></span><br><span class="line"><span class="keyword">let</span> q = <span class="title class_">Object</span>.<span class="title function_">create</span>(p); <span class="comment">// q inherits properties from p, o, and...</span></span><br><span class="line">q.<span class="property">z</span> = <span class="number">3</span>;                  <span class="comment">// ...Object.prototype and has an own property z.</span></span><br><span class="line"><span class="keyword">let</span> f = q.<span class="title function_">toString</span>();     <span class="comment">// toString is inherited from Object.prototype</span></span><br><span class="line">q.<span class="property">x</span> + q.<span class="property">y</span>                 <span class="comment">// =&gt; 3; x and y are inherited from o and p</span></span><br></pre></td></tr></table></figure>
<p>Now suppose you assign to the property x of the object o. If o already has an own (non-inherited) property named x, then the assignment simply changes the value of this existing property. Otherwise, the assignment creates a new property named x on the object o. If o previously inherited the property x, that inherited property is now hidden by the newly created own property with the same name.</p>
<blockquote>
<p>ç°åœ¨å‡è®¾ç»™å¯¹è±¡ o çš„å±æ€§ x èµ‹å€¼ï¼Œå¦‚æœ o ä¸­å·²ç»æœ‰å±æ€§ xï¼ˆè¿™ä¸ªå±æ€§ä¸æ˜¯ç»§æ‰¿æ¥çš„ï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸ªèµ‹å€¼æ“ä½œåªæ”¹å˜è¿™ä¸ªå·²æœ‰å±æ€§ x çš„å€¼ã€‚å¦åˆ™ï¼Œèµ‹å€¼æ“ä½œç»™ o æ·»åŠ ä¸€ä¸ªæ–°å±æ€§ xã€‚å¦‚æœä¹‹å‰ o ç»§æ‰¿è‡ªå±æ€§ xï¼Œé‚£ä¹ˆè¿™ä¸ªç»§æ‰¿çš„å±æ€§å°±è¢«æ–°åˆ›å»ºçš„åŒåå±æ€§è¦†ç›–äº†ã€‚</p>
</blockquote>
<p>Property assignment examines the prototype chain only to determine whether the assignment is allowed. If o inherits a read-only property named x, for example, then the assignment is not allowed. (Details about when a property may be set are in Â§6.3.3.) If the assignment is allowed, however, it always creates or sets a property in the original object and never modifies objects in the prototype chain. The fact that inheritance occurs when querying properties but not when setting them is a key feature of JavaScript because it allows us to selectively override inherited properties:</p>
<blockquote>
<p>å±æ€§èµ‹å€¼æ“ä½œæ£€æŸ¥åŸå‹é“¾åªæ˜¯åˆ¤æ–­æ˜¯å¦å…è®¸èµ‹å€¼æ“ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœ o ç»§æ‰¿è‡ªä¸€ä¸ªåªè¯»å±æ€§ xï¼Œé‚£ä¹ˆèµ‹å€¼æ“ä½œæ˜¯ä¸å…è®¸çš„ï¼ˆÂ§6.3.3 å°†å¯¹æ­¤è¿›è¡Œè¯¦ç»†è®¨è®ºï¼‰ã€‚ å¦‚æœå…è®¸å±æ€§èµ‹å€¼æ“ä½œï¼Œå®ƒä¹Ÿæ€»æ˜¯åœ¨åŸå§‹å¯¹è±¡ä¸Šåˆ›å»ºå±æ€§æˆ–å¯¹å·²æœ‰çš„å±æ€§èµ‹å€¼ï¼Œè€Œä¸ä¼šå»ä¿®æ”¹åŸå‹é“¾ã€‚åœ¨ JavaScript ä¸­ï¼Œåªæœ‰åœ¨æŸ¥è¯¢å±æ€§æ—¶æ‰ä¼šä½“ä¼šåˆ°ç»§æ‰¿çš„å­˜åœ¨ï¼Œè€Œè®¾ç½®å±æ€§åˆ™å’Œç»§æ‰¿æ— å…³ï¼Œè¿™æ˜¯ JavaScript çš„ä¸€ä¸ªé‡è¦ç‰¹æ€§ï¼Œè¯¥ç‰¹æ€§è®©ç¨‹åºå‘˜å¯ä»¥æœ‰é€‰æ‹©åœ°é‡å†™ç»§æ‰¿çš„å±æ€§ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> unitcircle = &#123; <span class="attr">r</span>: <span class="number">1</span> &#125;;         <span class="comment">// An object to inherit from</span></span><br><span class="line"><span class="keyword">let</span> c = <span class="title class_">Object</span>.<span class="title function_">create</span>(unitcircle); <span class="comment">// c inherits the property r</span></span><br><span class="line">c.<span class="property">x</span> = <span class="number">1</span>; c.<span class="property">y</span> = <span class="number">1</span>;                  <span class="comment">// c defines two properties of its own</span></span><br><span class="line">c.<span class="property">r</span> = <span class="number">2</span>;                           <span class="comment">// c overrides its inherited property</span></span><br><span class="line">unitcircle.<span class="property">r</span>                       <span class="comment">// =&gt; 1: the prototype is not affected</span></span><br></pre></td></tr></table></figure>
<p>There is one exception to the rule that a property assignment either fails or creates or sets a property in the original object. If o inherits the property x, and that property is an accessor property with a setter method (see Â§6.10.6), then that setter method is called rather than creating a new property x in o. Note, however, that the setter method is called on the object o, not on the prototype object that defines the property, so if the setter method defines any properties, it will do so on o, and it will again leave the prototype chain unmodified.</p>
<blockquote>
<p>å±æ€§èµ‹å€¼è¦ä¹ˆå¤±è´¥ï¼Œè¦ä¹ˆåˆ›å»ºä¸€ä¸ªå±æ€§ï¼Œè¦ä¹ˆåœ¨åŸå§‹å¯¹è±¡ä¸­è®¾ç½®å±æ€§ã€‚ä½†æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå¦‚æœ o ç»§æ‰¿è‡ªå±æ€§ xï¼Œè€Œè¿™ä¸ªå±æ€§æ˜¯ä¸€ä¸ªå…·æœ‰ setter æ–¹æ³•çš„å­˜å–å™¨å±æ€§ï¼ˆå‚ç…§ Â§6.10.6ï¼‰ï¼Œé‚£ä¹ˆè¿™æ—¶å°†è°ƒç”¨ setter æ–¹æ³•è€Œä¸æ˜¯ç»™ o åˆ›å»ºä¸€ä¸ªå±æ€§ xã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œsetter æ–¹æ³•æ˜¯ç”±å¯¹è±¡ o è°ƒç”¨çš„ï¼Œè€Œä¸æ˜¯å®šä¹‰è¿™ä¸ªå±æ€§çš„åŸå‹å¯¹è±¡è°ƒç”¨çš„ã€‚å› æ­¤å¦‚æœ setter æ–¹æ³•å®šä¹‰ä»»æ„å±æ€§ï¼Œè¿™ä¸ªæ“ä½œåªæ˜¯é’ˆå¯¹ o æœ¬èº«ï¼Œå¹¶ä¸ä¼šä¿®æ”¹åŸå‹é“¾ã€‚</p>
</blockquote>
<h3 id="6-3-3-Property-Access-Errors"><a href="#6-3-3-Property-Access-Errors" class="headerlink" title="6.3.3 Property Access Errors"></a>6.3.3 Property Access Errors</h3><p>Property access expressions do not always return or set a value. This section explains the things that can go wrong when you query or set a property.</p>
<blockquote>
<p>å±æ€§è®¿é—®è¡¨è¾¾å¼å¹¶ä¸æ€»æ˜¯è¿”å›æˆ–è®¾ç½®ä¸€ä¸ªå€¼ã€‚æœ¬èŠ‚è®²è¿°æŸ¥è¯¢æˆ–è®¾ç½®å±æ€§æ—¶çš„ä¸€äº›å‡ºé”™æƒ…å†µã€‚</p>
</blockquote>
<p>It is not an error to query a property that does not exist. If the property x is not found as an own property or an inherited property of o, the property access expression o.x evaluates to undefined. Recall that our book object has a â€œsub-titleâ€ property, but not a â€œsubtitleâ€ property:</p>
<blockquote>
<p>æŸ¥è¯¢ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§å¹¶ä¸ä¼šæŠ¥é”™ï¼Œå¦‚æœåœ¨å¯¹è±¡ o è‡ªèº«çš„å±æ€§æˆ–ç»§æ‰¿çš„å±æ€§ä¸­å‡æœªæ‰¾åˆ°å±æ€§ xï¼Œå±æ€§è®¿é—®è¡¨è¾¾å¼ o.x è¿”å› undefinedã€‚å›æƒ³ä¸€ä¸‹æˆ‘ä»¬çš„ book å¯¹è±¡æœ‰å±æ€§â€œsub-titleâ€ï¼Œè€Œæ²¡æœ‰å±æ€§â€œsubtitleâ€ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">book.<span class="property">subtitle</span>    <span class="comment">// =&gt; undefined: property doesn&#x27;t exist</span></span><br></pre></td></tr></table></figure>
<p>It is an error, however, to attempt to query a property of an object that does not exist. The null and undefined values have no properties, and it is an error to query properties of these values. Continuing the preceding example:</p>
<blockquote>
<p>ä½†æ˜¯ï¼Œå¦‚æœå¯¹è±¡ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆè¯•å›¾æŸ¥è¯¢è¿™ä¸ªä¸å­˜åœ¨çš„å¯¹è±¡çš„å±æ€§å°±ä¼šæŠ¥é”™ã€‚null å’Œ undefined å€¼éƒ½æ²¡æœ‰å±æ€§ï¼Œå› æ­¤æŸ¥è¯¢è¿™äº›å€¼çš„å±æ€§ä¼šæŠ¥é”™ï¼Œæ¥ä¸Šä¾‹ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> len = book.<span class="property">subtitle</span>.<span class="property">length</span>; <span class="comment">// !TypeError: undefined doesn&#x27;t have length</span></span><br></pre></td></tr></table></figure>
<p>Property access expressions will fail if the lefthand side of the . is null or undefined. So when writing an expression like book.author.surname, you should be careful if you are not certain that book and book.author are actually defined. Here are two ways to guard against this kind of problem: </p>
<blockquote>
<p>å¦‚æœ . çš„å·¦è¾¹æ˜¯ null æˆ– undefined æ—¶ï¼Œå…¶å±æ€§è¡¨è¾¾å¼ä¼šå¤±è´¥ã€‚æ‰€ä»¥å½“å†™ä¸€ä¸ªåƒ book.author.surname ä¸€æ ·çš„è¡¨è¾¾å¼æ—¶ï¼Œå¦‚æœä½ ä¸ç¡®å®š book å’Œ book.author ç¡®å®è¢«å®šä¹‰å°±è¦å°å¿ƒäº†ã€‚ä¸‹é¢æä¾›äº†ä¸¤ç§é¿å…å‡ºé”™çš„æ–¹æ³•ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A verbose and explicit technique</span></span><br><span class="line"><span class="keyword">let</span> surname = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">if</span> (book) &#123;</span><br><span class="line">    <span class="keyword">if</span> (book.<span class="property">author</span>) &#123;</span><br><span class="line">        surname = book.<span class="property">author</span>.<span class="property">surname</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// A concise and idiomatic alternative to get surname or null or undefined</span></span><br><span class="line">surname = book &amp;&amp; book.<span class="property">author</span> &amp;&amp; book.<span class="property">author</span>.<span class="property">surname</span>;</span><br></pre></td></tr></table></figure>
<p>To understand why this idiomatic expression works to prevent TypeError exceptions, you might want to review the short-circuiting behavior of the &amp;&amp; operator in Â§4.10.1.</p>
<blockquote>
<p>ä¸ºäº†ç†è§£ä¸ºä»€ä¹ˆè¿™é‡Œçš„ç¬¬äºŒç§æ–¹æ³•å¯ä»¥é¿å…ç±»å‹é”™è¯¯å¼‚å¸¸ï¼Œå¯ä»¥å‚ç…§ Â§4.10.1èŠ‚ ä¸­å…³äº &amp;&amp; è¿ç®—ç¬¦çš„çŸ­è·¯è¡Œä¸ºã€‚</p>
</blockquote>
<p>As described in Â§4.4.1, ES2020 supports conditional property access with ?., which allows us to rewrite the previous assignment expression as:</p>
<blockquote>
<p>å¦‚ Â§4.4.1 ä¸­æ‰€æè¿°ï¼ŒES2020 æ”¯æŒç”¨ ?. æ¡ä»¶å±æ€§è®¿é—®ï¼Œå®ƒå…è®¸è¿™æ ·é‡å†™ä¸Šé¢çš„èµ‹å€¼è¡¨è¾¾å¼ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> surname = book?.<span class="property">author</span>?.<span class="property">surname</span>;</span><br></pre></td></tr></table></figure>
<p>Attempting to set a property on null or undefined also causes a TypeError. Attempts to set properties on other values do not always succeed, either: some properties are read-only and cannot be set, and some objects do not allow the addition of new properties. In strict mode (Â§5.6.3), a TypeError is thrown whenever an attempt to set a property fails. Outside of strict mode, these failures are usually silent.</p>
<blockquote>
<p>å½“ç„¶ï¼Œç»™ null å’Œ undefined è®¾ç½®å±æ€§ä¹Ÿä¼šæŠ¥ç±»å‹é”™è¯¯ã€‚ç»™å…¶ä»–å€¼è®¾ç½®å±æ€§ä¹Ÿä¸æ€»æ˜¯æˆåŠŸï¼Œæœ‰ä¸€äº›å±æ€§æ˜¯åªè¯»çš„ï¼Œä¸èƒ½é‡æ–°èµ‹å€¼ï¼Œæœ‰ä¸€äº›å¯¹è±¡ä¸å…è®¸æ–°å¢å±æ€§ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ˆÂ§5.6.3ï¼‰ï¼Œå±æ€§è®¾å®šå¤±è´¥æ—¶ä¼šæŠ›å‡º TypeError å¼‚å¸¸ã€‚åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œè¿™äº›å¤±è´¥çš„å¤„ç†ç»å¸¸æ²¡æœ‰ä»»ä½•ååº”ã€‚</p>
</blockquote>
<p>The rules that specify when a property assignment succeeds and when it fails are intuitive but difficult to express concisely. An attempt to set a property p of an object o fails in these circumstances:</p>
<blockquote>
<p>å°½ç®¡å±æ€§èµ‹å€¼æˆåŠŸæˆ–å¤±è´¥çš„è§„å¾‹çœ‹èµ·æ¥å¾ˆç®€å•ï¼Œä½†è¦æè¿°æ¸…æ¥šå¹¶ä¸å®¹æ˜“ã€‚åœ¨è¿™äº›åœºæ™¯ä¸‹ç»™å¯¹è±¡ o è®¾ç½®å±æ€§ p ä¼šå¤±è´¥ï¼š</p>
</blockquote>
<p>o has an own property p that is read-only: it is not possible to set read-only properties.</p>
<blockquote>
<p>o ä¸­çš„å±æ€§ p æ˜¯åªè¯»çš„ï¼šä¸èƒ½ç»™åªè¯»å±æ€§é‡æ–°èµ‹å€¼ã€‚</p>
</blockquote>
<p>o has an inherited property p that is read-only: it is not possible to hide an inherited read-only property with an own property of the same name.</p>
<blockquote>
<p>o ä¸­çš„å±æ€§ p æ˜¯ç»§æ‰¿å±æ€§ï¼Œä¸”å®ƒæ˜¯åªè¯»çš„ï¼šä¸èƒ½é€šè¿‡åŒåè‡ªæœ‰å±æ€§è¦†ç›–åªè¯»çš„ç»§æ‰¿å±æ€§ã€‚</p>
</blockquote>
<p>o does not have an own property p; o does not inherit a property p with a setter method, and oâ€™s extensible attribute (see Â§14.2) is false. Since p does not already exist in o, and if there is no setter method to call, then p must be added to o. But if o is not extensible, then no new properties can be defined on it.</p>
<blockquote>
<p>o ä¸­ä¸å­˜åœ¨è‡ªæœ‰å±æ€§ pï¼šo æ²¡æœ‰ä½¿ç”¨ setter æ–¹æ³•ç»§æ‰¿å±æ€§ pï¼Œå¹¶ä¸”oçš„å¯æ‰©å±•æ€§æ˜¯ï¼ˆè§ Â§14.2ï¼‰falseã€‚å¦‚æœ o ä¸­ä¸å­˜åœ¨ pï¼Œè€Œä¸”æ²¡æœ‰ setter æ–¹æ³•å¯ä¾›è°ƒç”¨ï¼Œåˆ™ p ä¸€å®šä¼šæ·»åŠ è‡³ o ä¸­ã€‚ä½†å¦‚æœ o ä¸æ˜¯å¯æ‰©å±•çš„ï¼Œé‚£ä¹ˆåœ¨ o ä¸­ä¸èƒ½å®šä¹‰æ–°å±æ€§ã€‚</p>
</blockquote>
<h2 id="6-4-Deleting-Properties"><a href="#6-4-Deleting-Properties" class="headerlink" title="6.4 Deleting Properties"></a>6.4 Deleting Properties</h2><p>The delete operator (Â§4.13.4) removes a property from an object. Its single operand should be a property access expression. Surprisingly, delete does not operate on the value of the property but on the property itself:</p>
<blockquote>
<p>åˆ é™¤è¿ç®—ç¬¦ï¼ˆÂ§4.13.4ï¼‰èƒ½åˆ é™¤å¯¹è±¡ä¸­çš„å±æ€§ã€‚å®ƒçš„æ“ä½œæ•°åº”å½“æ˜¯ä¸€ä¸ªå±æ€§è®¿é—®è¡¨è¾¾å¼ã€‚ä»¤äººæ„å¤–çš„æ˜¯ï¼Œdelete æ²¡æœ‰æ“ä½œå±æ€§çš„å€¼ï¼Œè€Œæ˜¯æ“ä½œå±æ€§çš„å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> book.<span class="property">author</span>;          <span class="comment">// The book object now has no author property.</span></span><br><span class="line"><span class="keyword">delete</span> book[<span class="string">&quot;main title&quot;</span>];   <span class="comment">// Now it doesn&#x27;t have &quot;main title&quot;, either.</span></span><br></pre></td></tr></table></figure>
<p>The delete operator only deletes own properties, not inherited ones. (To delete an inherited property, you must delete it from the prototype object in which it is defined. Doing this affects every object that inherits from that prototype.)</p>
<blockquote>
<p>delete è¿ç®—ç¬¦åªåˆ é™¤è‡ªæœ‰å±æ€§ï¼Œä¸åˆ é™¤ç»§æ‰¿å±æ€§ã€‚ï¼ˆæƒ³è¦åˆ é™¤ä¸€ä¸ªç»§æ‰¿å±æ€§ï¼Œå¿…é¡»ä»å®šä¹‰è¿™ä¸ªå±æ€§çš„åŸå‹å¯¹è±¡ä¸Šåˆ é™¤å®ƒã€‚è¿™ä¼šå½±å“æ‰€æœ‰ç»§æ‰¿è¿™ä¸ªåŸå‹çš„å¯¹è±¡ã€‚ï¼‰</p>
</blockquote>
<p>A delete expression evaluates to true if the delete succeeded or if the delete had no effect (such as deleting a nonexistent property). delete also evaluates to true when used (meaninglessly) with an expression that is not a property access expression:</p>
<blockquote>
<p>å¦‚æœåˆ é™¤æˆåŠŸæˆ–åˆ é™¤æ²¡æœ‰ä»»ä½•å½±å“æ—¶åˆ é™¤è¡¨è¾¾å¼è®¡ç®—ç»“æœæ˜¯ trueï¼ˆå¦‚åˆ é™¤ä¸å­˜åœ¨çš„å±æ€§ï¼‰ã€‚delete ä½œç”¨äºéå±æ€§è®¿é—®è¡¨è¾¾å¼ï¼ˆæ— ç”¨ä»£ç ï¼‰æ—¶ä¹Ÿè¿”å› trueã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;;    <span class="comment">// o has own property x and inherits property toString</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>         <span class="comment">// =&gt; true: deletes property x</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>         <span class="comment">// =&gt; true: does nothing (x doesn&#x27;t exist) but true anyway</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">toString</span>  <span class="comment">// =&gt; true: does nothing (toString isn&#x27;t an own property)</span></span><br><span class="line"><span class="keyword">delete</span> <span class="number">1</span>           <span class="comment">// =&gt; true: nonsense, but true anyway</span></span><br></pre></td></tr></table></figure>
<p>delete does not remove properties that have a configurable attribute of false. Certain properties of built-in objects are non-configurable, as are properties of the global object created by variable declaration and function declaration. In strict mode, attempting to delete a non-configurable property causes a TypeError. In non-strict mode, delete simply evaluates to false in this case:</p>
<blockquote>
<p>delete ä¸èƒ½åˆ é™¤é‚£äº›å¯é…ç½®æ€§ä¸º false çš„å±æ€§ã€‚æŸäº›å†…ç½®å¯¹è±¡çš„å±æ€§æ˜¯ä¸å¯é…ç½®çš„ï¼Œæ¯”å¦‚é€šè¿‡å˜é‡å£°æ˜å’Œå‡½æ•°å£°æ˜åˆ›å»ºçš„å…¨å±€å¯¹è±¡çš„å±æ€§ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œåˆ é™¤ä¸€ä¸ªä¸å¯é…ç½®å±æ€§ä¼šæŠ¥ä¸€ä¸ªç±»å‹é”™è¯¯ã€‚åœ¨éä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œåœ¨è¿™äº›æƒ…å†µä¸‹çš„ delete æ“ä½œä¼šè¿”å› falseï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// In strict mode, all these deletions throw TypeError instead of returning false</span></span><br><span class="line"><span class="keyword">delete</span> <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span> <span class="comment">// =&gt; false: property is non-configurable</span></span><br><span class="line"><span class="keyword">var</span> x = <span class="number">1</span>;              <span class="comment">// Declare a global variable</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="property">x</span>     <span class="comment">// =&gt; false: can&#x27;t delete this property</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">f</span>(<span class="params"></span>) &#123;&#125;         <span class="comment">// Declare a global function</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="property">f</span>     <span class="comment">// =&gt; false: can&#x27;t delete this property either</span></span><br></pre></td></tr></table></figure>
<p>When deleting configurable properties of the global object in non-strict mode, you can omit the reference to the global object and simply follow the delete operator with the property name:</p>
<blockquote>
<p>å½“åœ¨éä¸¥æ ¼æ¨¡å¼ä¸­åˆ é™¤å…¨å±€å¯¹è±¡çš„å¯é…å€¼å±æ€§æ—¶ï¼Œå¯ä»¥çœç•¥å¯¹å…¨å±€å¯¹è±¡çš„å¼•ç”¨ï¼Œç›´æ¥åœ¨ delete æ“ä½œç¬¦åè·Ÿéšè¦åˆ é™¤çš„å±æ€§åå³å¯ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">globalThis.<span class="property">x</span> = <span class="number">1</span>;       <span class="comment">// Create a configurable global property (no let or var)</span></span><br><span class="line"><span class="keyword">delete</span> x                <span class="comment">// =&gt; true: this property can be deleted</span></span><br></pre></td></tr></table></figure>
<p>In strict mode, however, delete raises a SyntaxError if its operand is an unqualified identifier like x, and you have to be explicit about the property access:</p>
<blockquote>
<p>ç„¶è€Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸­ï¼Œdelete åè·Ÿéšä¸€ä¸ªéæ³•çš„æ“ä½œæ•°ï¼ˆæ¯”å¦‚ xï¼‰ï¼Œåˆ™ä¼šæŠ¥ä¸€ä¸ªè¯­æ³•é”™è¯¯ï¼Œå› æ­¤å¿…é¡»æ˜¾å¼æŒ‡å®šå¯¹è±¡åŠå…¶å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> x;               <span class="comment">// SyntaxError in strict mode</span></span><br><span class="line"><span class="keyword">delete</span> globalThis.<span class="property">x</span>;    <span class="comment">// This works</span></span><br></pre></td></tr></table></figure>
<h2 id="6-5-Testing-Properties"><a href="#6-5-Testing-Properties" class="headerlink" title="6.5 Testing Properties"></a>6.5 Testing Properties</h2><p>JavaScript objects can be thought of as sets of properties, and it is often useful to be able to test for membership in the setâ€”to check whether an object has a property with a given name. You can do this with the in operator, with the hasOwnProperty() and propertyIsEnumerable() methods, or simply by querying the property. The examples shown here all use strings as property names, but they also work with Symbols (Â§6.10.3).</p>
<blockquote>
<p>JavaScript å¯¹è±¡å¯ä»¥çœ‹ä½œå±æ€§çš„é›†åˆï¼Œæˆ‘ä»¬ç»å¸¸ä¼šæ£€æµ‹é›†åˆä¸­æˆå‘˜çš„æ‰€å±å…³ç³»â€”â€”åˆ¤æ–­æŸä¸ªå±æ€§æ˜¯å¦å­˜åœ¨äºæŸä¸ªå¯¹è±¡ä¸­ã€‚å¯ä»¥ç”¨ in è¿ç®—ç¬¦ã€hasOwnPreperty() å’Œ  propertyIsEnumerable() æ–¹æ³•æ¥å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œç”šè‡³ä»…é€šè¿‡å±æ€§æŸ¥è¯¢ä¹Ÿå¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚è¿™èŠ‚çš„ä¾‹å­éƒ½æ˜¯ç”¨å­—ç¬¦ä¸²ä½œä¸ºå±æ€§åç§°ï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç”¨ Symbol ä½œä¸ºå±æ€§åï¼ˆÂ§6.10.3ï¼‰ã€‚</p>
</blockquote>
<p>The in operator expects a property name on its left side and an object on its right. It returns true if the object has an own property or an inherited property by that name:</p>
<blockquote>
<p>in è¿ç®—ç¬¦çš„å·¦ä¾§æ˜¯å±æ€§åï¼Œå³ä¾§æ˜¯å¯¹è±¡ã€‚å¦‚æœå¯¹è±¡çš„è‡ªæœ‰å±æ€§æˆ–ç»§æ‰¿å±æ€§ä¸­åŒ…å«è¿™ä¸ªå±æ€§åˆ™è¿”å› trueï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o         <span class="comment">// =&gt; true: o has an own property &quot;x&quot;</span></span><br><span class="line"><span class="string">&quot;y&quot;</span> <span class="keyword">in</span> o         <span class="comment">// =&gt; false: o doesn&#x27;t have a property &quot;y&quot;</span></span><br><span class="line"><span class="string">&quot;toString&quot;</span> <span class="keyword">in</span> o  <span class="comment">// =&gt; true: o inherits a toString property</span></span><br></pre></td></tr></table></figure>
<p>The hasOwnProperty() method of an object tests whether that object has an own property with the given name. It returns false for inherited properties:</p>
<blockquote>
<p>å¯¹è±¡çš„ hasOwnProperty() æ–¹æ³•ç”¨æ¥æ£€æµ‹ç»™å®šçš„åå­—æ˜¯å¦æ˜¯å¯¹è±¡çš„è‡ªæœ‰å±æ€§ã€‚å¯¹äºç»§æ‰¿å±æ€§å®ƒå°†è¿”å› falseï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;x&quot;</span>)        <span class="comment">// =&gt; true: o has an own property x</span></span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;y&quot;</span>)        <span class="comment">// =&gt; false: o doesn&#x27;t have a property y</span></span><br><span class="line">o.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;toString&quot;</span>) <span class="comment">// =&gt; false: toString is an inherited property</span></span><br></pre></td></tr></table></figure>
<p>The propertyIsEnumerable() refines the hasOwnProperty() test. It returns true only if the named property is an own property and its enumerable attribute is true. Certain built-in properties are not enumerable. Properties created by normal JavaScript code are enumerable unless youâ€™ve used one of the techniques shown in Â§14.1 to make them non-enumerable.</p>
<blockquote>
<p>propertyIsEnumerable() æ˜¯ hasOwnProperty() çš„å¢å¼ºç‰ˆã€‚åªæœ‰æ£€æµ‹åˆ°æ˜¯è‡ªæœ‰å±æ€§ä¸”è¿™ä¸ªå±æ€§çš„å¯æšä¸¾æ€§ä¸º true æ—¶å®ƒæ‰è¿”å› trueã€‚æŸäº›å†…ç½®å±æ€§æ˜¯ä¸å¯æšä¸¾çš„ã€‚é€šå¸¸ç”± JavaScript ä»£ç åˆ›å»ºçš„å±æ€§éƒ½æ˜¯å¯æšä¸¾çš„ï¼Œé™¤éä½¿ç”¨  Â§14.1 ä¸­ä»‹ç»çš„æŠ€æœ¯æ¥è®©å®ƒä»¬ä¸å¯æšä¸¾ã€‚</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;x&quot;</span>)  <span class="comment">// =&gt; true: o has an own enumerable property x</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;toString&quot;</span>)  <span class="comment">// =&gt; false: not an own property</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;toString&quot;</span>) <span class="comment">// =&gt; false: not enumerable</span></span><br></pre></td></tr></table></figure>
<p>Instead of using the in operator, it is often sufficient to simply query the property and use !&#x3D;&#x3D; to make sure it is not undefined:</p>
<blockquote>
<p>é™¤äº†ä½¿ç”¨ in è¿ç®—ç¬¦ä¹‹å¤–ï¼Œå¦ä¸€ç§æ›´ç®€ä¾¿çš„æ–¹æ³•æ˜¯ä½¿ç”¨ !&#x3D;&#x3D; åˆ¤æ–­ä¸€ä¸ªå±æ€§æ˜¯å¦æ˜¯ undefinedï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line">o.<span class="property">x</span> !== <span class="literal">undefined</span>        <span class="comment">// =&gt; true: o has a property x</span></span><br><span class="line">o.<span class="property">y</span> !== <span class="literal">undefined</span>        <span class="comment">// =&gt; false: o doesn&#x27;t have a property y</span></span><br><span class="line">o.<span class="property">toString</span> !== <span class="literal">undefined</span> <span class="comment">// =&gt; true: o inherits a toString property</span></span><br></pre></td></tr></table></figure>
<p>There is one thing the in operator can do that the simple property access technique shown here cannot do. in can distinguish between properties that do not exist and properties that exist but have been set to undefined. Consider this code:</p>
<blockquote>
<p>ç„¶è€Œæœ‰ä¸€ç§åœºæ™¯åªèƒ½ä½¿ç”¨ in è¿ç®—ç¬¦è€Œä¸èƒ½ä½¿ç”¨ä¸Šè¿°å±æ€§è®¿é—®çš„æ–¹å¼ã€‚in å¯ä»¥åŒºåˆ†ä¸å­˜åœ¨çš„å±æ€§å’Œå­˜åœ¨ä½†å€¼ä¸º undefined çš„å±æ€§ã€‚ä¾‹å¦‚ä¸‹é¢çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="literal">undefined</span> &#125;;  <span class="comment">// Property is explicitly set to undefined</span></span><br><span class="line">o.<span class="property">x</span> !== <span class="literal">undefined</span>          <span class="comment">// =&gt; false: property exists but is undefined</span></span><br><span class="line">o.<span class="property">y</span> !== <span class="literal">undefined</span>          <span class="comment">// =&gt; false: property doesn&#x27;t even exist</span></span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o                   <span class="comment">// =&gt; true: the property exists</span></span><br><span class="line"><span class="string">&quot;y&quot;</span> <span class="keyword">in</span> o                   <span class="comment">// =&gt; false: the property doesn&#x27;t exist</span></span><br><span class="line"><span class="keyword">delete</span> o.<span class="property">x</span>;                <span class="comment">// Delete the property x</span></span><br><span class="line"><span class="string">&quot;x&quot;</span> <span class="keyword">in</span> o                   <span class="comment">// =&gt; false: it doesn&#x27;t exist anymore</span></span><br></pre></td></tr></table></figure>
<h2 id="6-6-Enumerating-Properties"><a href="#6-6-Enumerating-Properties" class="headerlink" title="6.6 Enumerating Properties"></a>6.6 Enumerating Properties</h2><p>Instead of testing for the existence of individual properties, we sometimes want to iterate through or obtain a list of all the properties of an object. There are a few different ways to do this.</p>
<blockquote>
<p>é™¤äº†æ£€æµ‹å¯¹è±¡çš„å±æ€§æ˜¯å¦å­˜åœ¨ï¼Œæˆ‘ä»¬è¿˜ä¼šç»å¸¸éå†å¯¹è±¡çš„å±æ€§ã€‚æœ‰å‡ ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>
</blockquote>
<p>The for&#x2F;in loop was covered in Â§5.4.5. It runs the body of the loop once for each enumerable property (own or inherited) of the specified object, assigning the name of the property to the loop variable. Built-in methods that objects inherit are not enumerable, but the properties that your code adds to objects are enumerable by default. For example:</p>
<blockquote>
<p>Â§5.4.5 è®¨è®ºè¿‡ for&#x2F;in å¾ªç¯ï¼Œå…¶å¯ä»¥åœ¨å¾ªç¯ä½“ä¸­éå†æŒ‡å®šå¯¹è±¡ä¸­æ‰€æœ‰å¯æšä¸¾çš„å±æ€§ï¼ˆåŒ…æ‹¬è‡ªæœ‰å±æ€§å’Œç»§æ‰¿çš„å±æ€§ï¼‰ï¼ŒæŠŠå±æ€§åç§°èµ‹å€¼ç»™å¾ªç¯å˜é‡ã€‚å¯¹è±¡ç»§æ‰¿çš„ å†…ç½®æ–¹æ³•ä¸å¯æšä¸¾çš„ï¼Œä½†åœ¨ä»£ç ä¸­ç»™å¯¹è±¡æ·»åŠ çš„å±æ€§éƒ½æ˜¯å¯æšä¸¾çš„ï¼ˆé™¤éç”¨ä¸‹æ–‡ä¸­æåˆ°çš„ä¸€ä¸ªæ–¹æ³•å°†å®ƒä»¬è½¬æ¢ä¸ºä¸å¯æšä¸¾çš„ï¼‰ã€‚ä¾‹å¦‚ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;;          <span class="comment">// Three enumerable own properties</span></span><br><span class="line">o.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;toString&quot;</span>)   <span class="comment">// =&gt; false: not enumerable</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;                    <span class="comment">// Loop through the properties</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(p);                  <span class="comment">// Prints x, y, and z, but not toString</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>To guard against enumerating inherited properties with for&#x2F;in, you can add an explicit check inside the loop body:</p>
<blockquote>
<p>ä¸ºäº†é˜²æ­¢ for&#x2F;in æšä¸¾åˆ°ç»§æ‰¿å±æ€§ï¼Œå¯ä»¥åœ¨å¾ªç¯ä¸­æ·»åŠ æ˜¾ç¤ºæ£€æŸ¥ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!o.<span class="title function_">hasOwnProperty</span>(p)) <span class="keyword">continue</span>;       <span class="comment">// Skip inherited properties</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> p <span class="keyword">in</span> o) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> o[p] === <span class="string">&quot;function&quot;</span>) <span class="keyword">continue</span>; <span class="comment">// Skip all methods</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>As an alternative to using a for&#x2F;in loop, it is often easier to get an array of property names for an object and then loop through that array with a for&#x2F;of loop. There are four functions you can use to get an array of property names:</p>
<blockquote>
<p>ä½œä¸ºä½¿ç”¨ for&#x2F;in å¾ªç¯çš„æ›¿ä»£æ–¹æ³•ï¼Œé€šå¸¸ä½¿ç”¨ for&#x2F;of å¾ªç¯éå†æ˜“è·å–å¯¹è±¡çš„å±æ€§åç§°æ•°ç»„ã€‚å¯ä»¥ä½¿ç”¨å››ä¸ªå‡½æ•°è·å–å±æ€§åç§°æ•°ç»„ï¼š</p>
</blockquote>
<p>Object.keys() returns an array of the names of the enumerable own properties of an object. It does not include non-enumerable properties, inherited properties, or properties whose name is a Symbol (see Â§6.10.3).</p>
<blockquote>
<p>Object.keys() è¿”å›å¯¹è±¡çš„å¯æšä¸¾è‡ªæœ‰å±æ€§åç§°æ•°ç»„é›†åˆã€‚æ•°ç»„å†…ä¸åŒ…å«ä¸å¯æšä¸¾å±æ€§ã€ç»§æ‰¿å±æ€§æˆ–å±æ€§åç§°æ˜¯ Symbolï¼ˆè§ Â§6.10.3ï¼‰çš„å±æ€§</p>
</blockquote>
<p>Object.getOwnPropertyNames() works like Object.keys() but returns an array of the names of non-enumerable own properties as well, as long as their names are strings.</p>
<blockquote>
<p>Object.getOwnPropertyNames() ç”¨èµ·æ¥å’Œ Object.keys() ç±»ä¼¼ï¼Œä½†æ˜¯å®ƒè¿”å›æ•°ç»„ä¸­ä¹ŸåŒ…å«ä¸å¯è¿­ä»£çš„è‡ªæœ‰å±æ€§ï¼Œåªè¦å®ƒä»¬çš„åç§°æ˜¯å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<p>Object.getOwnPropertySymbols() returns own properties whose names are Symbols, whether or not they are enumerable.</p>
<blockquote>
<p>Object.getOwnPropertySymbols() è¿”å›åç§°æ˜¯ Symbol çš„è‡ªæœ‰å±æ€§ï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦å¯æšä¸¾ã€‚</p>
</blockquote>
<p>Reflect.ownKeys() returns all own property names, both enumerable and non-enumerable, and both string and Symbol. (See Â§14.6.)</p>
<blockquote>
<p>Reflect.ownKeys() è¿”å›æ‰€æœ‰çš„è‡ªç”±å±æ€§åç§°ï¼ŒåŒ…æ‹¬å¯æšä¸¾å’Œä¸å¯æšä¸¾ç±»å‹ï¼Œä¹ŸåŒ…æ‹¬å­—ç¬¦ä¸²å’Œ Symbolï¼ˆè§ Â§14.6ï¼‰ã€‚</p>
</blockquote>
<p>There are examples of the use of Object.keys() with a for&#x2F;of loop in Â§6.7.</p>
<blockquote>
<p>åœ¨ Â§6.7 ä¸­æœ‰ä¾‹å­ä½¿ç”¨ for&#x2F;of å¾ªç¯ Object.keys()ã€‚</p>
</blockquote>
<h3 id="6-6-1-Property-Enumeration-Order"><a href="#6-6-1-Property-Enumeration-Order" class="headerlink" title="6.6.1 Property Enumeration Order"></a>6.6.1 Property Enumeration Order</h3><p>ES6 formally defines the order in which the own properties of an object are enumerated. Object.keys(), Object.getOwnPropertyNames(), Object.getOwnPropertySymbols(), Reflect.ownKeys(), and related methods such as JSON.stringify() all list properties in the following order, subject to their own additional constraints about whether they list non-enumerable properties or properties whose names are strings or Symbols:</p>
<blockquote>
<p>ES6 æ­£å¼å®šä¹‰å…ƒç´ çš„è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåºã€‚Object.keys()ã€Object.getOwnPropertyNames()ã€Object.getOwnPropertyNames()ã€Object.getOwnPropertySymbols()ã€Reflect.ownKeys() å’Œç›¸å…³æ–¹æ³•å¦‚ JSON.stringify() å±æ€§åˆ—è¡¨éƒ½æŒ‰ä»¥ä¸‹é¡ºåºæ’åˆ—çš„ï¼Œå—å®ƒä»¬è‡ªèº«æ˜¯å¦æ˜¯ä¸å¯æšä¸¾å±æ€§åˆ—è¡¨æˆ–è€…å±æ€§æ˜¯å­—ç¬¦ä¸²æˆ–è€… Symbol å½±å“ï¼š</p>
</blockquote>
<p>String properties whose names are non-negative integers are listed first, in numeric order from smallest to largest. This rule means that arrays and array-like objects will have their properties enumerated in order.</p>
<blockquote>
<p>é¦–å…ˆåˆ—å‡ºåç§°ä¸ºéè´Ÿæ•´æ•°çš„å­—ç¬¦ä¸²å±æ€§ï¼ŒæŒ‰ä»æœ€å°åˆ°æœ€å¤§çš„æ•°å­—é¡ºåºåˆ—å‡ºã€‚æ­¤è§„åˆ™æ„å‘³ç€æ•°ç»„å’Œæ•°ç»„ç±»å¯¹è±¡å°†æŒ‰é¡ºåºæšä¸¾å…¶å±æ€§ã€‚</p>
</blockquote>
<p>After all properties that look like array indexes are listed, all remaining properties with string names are listed (including properties that look like negative numbers or floating-point numbers). These properties are listed in the order in which they were added to the object. For properties defined in an object literal, this order is the same order they appear in the literal.</p>
<blockquote>
<p>åˆ—å‡ºæ‰€æœ‰çœ‹èµ·æ¥åƒæ•°ç»„ç´¢å¼•çš„å±æ€§åï¼Œå°†åˆ—å‡ºæ‰€æœ‰å…·æœ‰å­—ç¬¦ä¸²åç§°çš„å‰©ä½™å±æ€§ï¼ˆåŒ…æ‹¬çœ‹èµ·æ¥åƒè´Ÿæ•°æˆ–æµ®ç‚¹æ•°å­—çš„å±æ€§ï¼‰ã€‚è¿™äº›å±æ€§æŒ‰æ·»åŠ åˆ°å¯¹è±¡çš„é¡ºåºåˆ—å‡ºã€‚å¯¹äºåœ¨å¯¹è±¡å­—é¢é‡ä¸­å®šä¹‰çš„å±æ€§ï¼Œæ­¤é¡ºåºä¸å®ƒä»¬åœ¨æ–‡æœ¬ä¸­æ˜¾ç¤ºçš„é¡ºåºç›¸åŒã€‚</p>
</blockquote>
<p>Finally, the properties whose names are Symbol objects are listed in the order in which they were added to the object.</p>
<blockquote>
<p>æœ€åï¼Œå…¶åç§°ä¸º Symbol å¯¹è±¡çš„å±æ€§æŒ‰æ·»åŠ åˆ°å¯¹è±¡çš„é¡ºåºåˆ—å‡ºã€‚</p>
</blockquote>
<p>The enumeration order for the for&#x2F;in loop is not as tightly specified as it is for these enumeration functions, but implementations typically enumerate own properties in the order just described, then travel up the prototype chain enumerating properties in the same order for each prototype object. Note, however, that a property will not be enumerated if a property by that same name has already been enumerated, or even if a non-enumerable property by the same name has already been considered.</p>
<blockquote>
<p>for&#x2F;in å¾ªç¯çš„æšä¸¾é¡ºåºä¸åƒè¿™äº›æšä¸¾å‡½æ•°é‚£æ ·ä¸¥æ ¼æŒ‡å®šï¼Œä½†å®ç°é€šå¸¸æŒ‰åˆšæ‰æè¿°çš„é¡ºåºæšä¸¾è‡ªå·±çš„å±æ€§ï¼Œç„¶åå‘ä¸Šç§»åŠ¨åŸå‹é“¾æŒ‰ç›¸åŒé¡ºåºæšä¸¾æ¯ä¸ªåŸå‹å¯¹è±¡çš„å±æ€§ã€‚ä½†æ˜¯è¯·æ³¨æ„ï¼Œå¦‚æœå·²æšä¸¾å…·æœ‰ç›¸åŒåç§°çš„å±æ€§ï¼Œæˆ–è€…ä¸å¯æšä¸¾å±æ€§å·²ç»è¢«æ£€æµ‹è¿‡å†æ¬¡æšä¸¾åˆ°ç›¸åŒåç§°çš„å±æ€§ï¼Œéƒ½ä¸ä¼šå†æ¬¡æšä¸¾ã€‚</p>
</blockquote>
<h2 id="6-7-Extending-Objects"><a href="#6-7-Extending-Objects" class="headerlink" title="6.7 Extending Objects"></a>6.7 Extending Objects</h2><p>A common operation in JavaScript programs is needing to copy the properties of one object to another object. It is easy to do that with code like this:</p>
<blockquote>
<p>åœ¨ JavaScript ä»£ç ä¸­æœ‰ä¸€ä¸ªå¾ˆå¸¸è§çš„æ“ä½œï¼Œéœ€è¦å°†ä¸€ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ‹·è´åˆ°å¦å¤–ä¸€ä¸ªå¯¹è±¡ã€‚ä»¥ä¸‹é¢çš„ä»£ç å¾ˆå®¹æ˜“å®ç°ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;<span class="attr">x</span>: <span class="number">1</span>&#125;, source = &#123;<span class="attr">y</span>: <span class="number">2</span>, <span class="attr">z</span>: <span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(source)) &#123;</span><br><span class="line">    target[key] = source[key];</span><br><span class="line">&#125;</span><br><span class="line">target  <span class="comment">// =&gt; &#123;x: 1, y: 2, z: 3&#125;</span></span><br></pre></td></tr></table></figure>
<p>But because this is a common operation, various JavaScript frameworks have defined utility functions, often named extend(), to perform this copying operation. Finally, in ES6, this ability comes to the core JavaScript language in the form of Object.assign().</p>
<blockquote>
<p>ä½†æ˜¯å› ä¸ºè¿™ä¸ªæ˜¯ä¸ªå¸¸ç”¨çš„æ“ä½œï¼Œå„ç§ JavaScript æ¡†æ¶å®šä¹‰å…¬ç”¨å‡½æ•°ï¼Œç»å¸¸å°†å…¶å‘½åä¸º extend() æ¥æ‰§è¡Œè¿™ä¸ªæ‹·è´æ“ä½œã€‚æœ€ååœ¨ ES6 ä¸­ï¼Œè¿™ä¸ªåŠŸèƒ½ä»¥ Object.assign() çš„å½¢å¼è¢«æ·»åŠ åˆ° JavaScript æ ¸å¿ƒè¯­è¨€ä¸­ã€‚</p>
</blockquote>
<p>Object.assign() expects two or more objects as its arguments. It modifies and returns the first argument, which is the target object, but does not alter the second or any subsequent arguments, which are the source objects. For each source object, it copies the enumerable own properties of that object (including those whose names are Symbols) into the target object. It processes the source objects in argument list order so that properties in the first source object override properties by the same name in the target object and properties in the second source object (if there is one) override properties with the same name in the first source object.</p>
<blockquote>
<p>Object.assign() éœ€è¦ä¸¤ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ä½œä¸ºå…¶å®å‚ã€‚å®ƒä¿®æ”¹å¹¶è¿”å›ç¬¬ä¸€ä¸ªå®å‚ï¼Œå³ç›®æ ‡å¯¹è±¡ï¼Œä½†ä¸ä¼šæ”¹å˜ç¬¬äºŒä¸ªæˆ–ä»»ä½•åç»­å‚æ•°ï¼Œè¿™äº›å‚æ•°æ˜¯æºå¯¹è±¡ã€‚å¯¹äºæ¯ä¸ªæºå¯¹è±¡ï¼Œå®ƒå°†è¯¥å¯¹è±¡çš„å¯æšä¸¾è‡ªæœ‰å±æ€§ï¼ˆåŒ…æ‹¬åç§°ä¸º Symbol çš„å±æ€§ï¼‰å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚å®ƒæŒ‰æºå¯¹è±¡åœ¨å®å‚åˆ—è¡¨é¡ºåºä¸­çš„é¡ºåºå¤„ç†ï¼Œæ‰€ä»¥ç¬¬ä¸€ä¸ªæºå¯¹è±¡ä¸­çš„å±æ€§ä¼šé‡å†™åœ¨ç›®æ ‡å¯¹è±¡ä¸­çš„åŒåå±æ€§ï¼Œç„¶åä»¥ç¬¬äºŒä¸ªæºå¯¹è±¡ä¸­çš„åŒåå±æ€§ï¼ˆå¦‚æœæœ‰ç¬¬äºŒä¸ªæºå¯¹è±¡ï¼‰å†æ¬¡é‡å†™ç¬¬ä¸€ä¸ªæºå¯¹è±¡é‡å†™åçš„å±æ€§ã€‚</p>
</blockquote>
<p>Object.assign() copies properties with ordinary property get and set operations, so if a source object has a getter method or the target object has a setter method, they will be invoked during the copy, but they will not themselves be copied.</p>
<blockquote>
<p>Object.assign() é€šè¿‡æ™®é€šå±æ€§çš„ get å’Œ set æ“ä½œå¤åˆ¶å±æ€§ï¼Œå› æ­¤ï¼Œå¦‚æœæºå¯¹è±¡å…·æœ‰ getter æ–¹æ³•æˆ–ç›®æ ‡å¯¹è±¡å…·æœ‰ setter æ–¹æ³•ï¼Œåˆ™å°†åœ¨å¤åˆ¶æœŸé—´è°ƒç”¨å®ƒä»¬ï¼Œä½†ä¸ä¼šå¤åˆ¶æ–¹æ³•æœ¬èº«ã€‚</p>
</blockquote>
<p>One reason to assign properties from one object into another is when you have an object that defines default values for many properties and you want to copy those default properties into another object if a property by that name does not already exist in that object. Using Object.assign() naively will not do what you want:</p>
<blockquote>
<p>çœ‹è¿™æ ·ä¸€ä¸ªåœºæ™¯ï¼Œæœ‰ä¸€ä¸ªå¯¹è±¡å®šä¹‰è®¸å¤šå±æ€§çš„é»˜è®¤å€¼ï¼Œå¸Œæœ›å°†è¿™äº›é»˜è®¤å±æ€§ä¸­ä¸å­˜åœ¨äºç›®æ ‡å¯¹è±¡ä¸­çš„å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œä½¿ç”¨ Object.assign() ä¸ä¼šå¾—åˆ°æƒ³è¦çš„ç»“æœï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(o, defaults);  <span class="comment">// overwrites everything in o with defaults</span></span><br></pre></td></tr></table></figure>
<p>Instead, what you can do is to create a new object, copy the defaults into it, and then override those defaults with the properties in o:</p>
<blockquote>
<p>æƒ³å¾—åˆ°è¿™ä¸ªæ•ˆæœéœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå°†é»˜è®¤å€¼æ‹·è´åˆ°å…¶ä¸­ï¼Œç„¶åç”¨ o çš„å±æ€§é‡å†™é»˜è®¤å€¼ä¸­çš„å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">o = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, defaults, o);</span><br></pre></td></tr></table></figure>
<p>Weâ€™ll see in Â§6.10.4 that you can also express this object copy-and-override operation using the â€¦ spread operator like this:</p>
<blockquote>
<p>æˆ‘ä»¬ä¼šåœ¨ Â§6.10.4 è§åˆ°ï¼Œå¯ä»¥ç”¨ â€¦ å±•å¼€æ“ä½œç¬¦å¦‚ä¸‹æ“ä½œè¿™ä¸ªå¯¹è±¡æ‹·è´å¹¶é‡å†™ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">o = &#123;...defaults, ...o&#125;;</span><br></pre></td></tr></table></figure>
<p>We could also avoid the overhead of the extra object creation and copying by writing a version of Object.assign() that copies properties only if they are missing:</p>
<blockquote>
<p>ä¸ºäº†é¿å…å¯¹è±¡åˆ›å»ºå’Œå¤åˆ¶çš„é¢å¤–å¼€é”€ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ç¼–å†™ä¸€ä¸ª Object.assign() ä»…åœ¨ç¼ºå°‘å±æ€§æ—¶å¤åˆ¶å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Like Object.assign() but doesn&#x27;t override existing properties</span></span><br><span class="line"><span class="comment">// (and also doesn&#x27;t handle Symbol properties)</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">merge</span>(<span class="params">target, ...sources</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> source <span class="keyword">of</span> sources) &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">let</span> key <span class="keyword">of</span> <span class="title class_">Object</span>.<span class="title function_">keys</span>(source)) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!(key <span class="keyword">in</span> target)) &#123; <span class="comment">// This is different than Object.assign()</span></span><br><span class="line">                target[key] = source[key];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;<span class="attr">x</span>: <span class="number">1</span>&#125;, &#123;<span class="attr">x</span>: <span class="number">2</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;, &#123;<span class="attr">y</span>: <span class="number">3</span>, <span class="attr">z</span>: <span class="number">4</span>&#125;)  <span class="comment">// =&gt; &#123;x: 2, y: 3, z: 4&#125;</span></span><br><span class="line"><span class="title function_">merge</span>(&#123;<span class="attr">x</span>: <span class="number">1</span>&#125;, &#123;<span class="attr">x</span>: <span class="number">2</span>, <span class="attr">y</span>: <span class="number">2</span>&#125;, &#123;<span class="attr">y</span>: <span class="number">3</span>, <span class="attr">z</span>: <span class="number">4</span>&#125;)          <span class="comment">// =&gt; &#123;x: 1, y: 2, z: 4&#125;</span></span><br></pre></td></tr></table></figure>
<p>It is straightforward to write other property manipulation utilities like this merge() function. A restrict() function could delete properties of an object if they do not appear in another template object, for example. Or a subtract() function could remove all of the properties of one object from another object.</p>
<blockquote>
<p>ç¼–å†™å…¶ä»–å±æ€§æ“ä½œå…¬å…±å‡½æ•°å¾ˆç®€å•ï¼Œå°±æ˜¯åƒè¿™ä¸ª merge() å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå¯¹è±¡çš„å±æ€§ä¸å‡ºç°åœ¨å¦ä¸€ä¸ªæ¨¡æ¿å¯¹è±¡ä¸­ï¼Œåˆ™ restrict() å‡½æ•°ä¼šåˆ é™¤è¿™äº›å±æ€§ã€‚æˆ–è€…ï¼Œsubtract() å‡½æ•°å¯ä»¥ä»å…¶ä»–å¯¹è±¡ä¸­åˆ é™¤ä¸€ä¸ªå¯¹è±¡çš„æ‰€æœ‰å±æ€§ã€‚</p>
</blockquote>
<h2 id="6-8-Serializing-Objects"><a href="#6-8-Serializing-Objects" class="headerlink" title="6.8 Serializing Objects"></a>6.8 Serializing Objects</h2><p>Object serialization is the process of converting an objectâ€™s state to a string from which it can later be restored. The functions JSON.stringify() and JSON.parse() serialize and restore JavaScript objects. These functions use the JSON data interchange format. JSON stands for â€œJavaScript Object Notation,â€ and its syntax is very similar to that of JavaScript object and array literals:</p>
<blockquote>
<p>å¯¹è±¡åºåˆ—åŒ–ï¼ˆserializationï¼‰æ˜¯æŒ‡å°†å¯¹è±¡çš„çŠ¶æ€è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯å°†å­—ç¬¦ä¸²è¿˜åŸä¸ºå¯¹è±¡ã€‚å‡½æ•° JSON.stringify() å’Œ JSON.parse() ç”¨æ¥åºåˆ—åŒ–å’Œè¿˜åŸ JavaScript å¯¹è±¡ã€‚è¿™äº›æ–¹æ³•éƒ½ä½¿ç”¨ JSON ä½œä¸ºæ•°æ®äº¤æ¢æ ¼å¼ï¼ŒJSON çš„å…¨ç§°æ˜¯â€œJavaScript Object Notationâ€â€”â€”JavaScript å¯¹è±¡è¡¨ç¤ºæ³•ï¼Œå®ƒçš„è¯­æ³•å’Œ JavaScript å¯¹è±¡ä¸æ•°ç»„å­—é¢é‡çš„è¯­æ³•éå¸¸ç›¸è¿‘ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;<span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: &#123;<span class="attr">z</span>: [<span class="literal">false</span>, <span class="literal">null</span>, <span class="string">&quot;&quot;</span>]&#125;&#125;; <span class="comment">// Define a test object</span></span><br><span class="line"><span class="keyword">let</span> s = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(o);   <span class="comment">// s == &#x27;&#123;&quot;x&quot;:1,&quot;y&quot;:&#123;&quot;z&quot;:[false,null,&quot;&quot;]&#125;&#125;&#x27;</span></span><br><span class="line"><span class="keyword">let</span> p = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(s);       <span class="comment">// p == &#123;x: 1, y: &#123;z: [false, null, &quot;&quot;]&#125;&#125;</span></span><br></pre></td></tr></table></figure>
<p>JSON syntax is a subset of JavaScript syntax, and it cannot represent all JavaScript values. Objects, arrays, strings, finite numbers, true, false, and null are supported and can be serialized and restored. NaN, Infinity, and -Infinity are serialized to null. Date objects are serialized to ISO-formatted date strings (see the Date.toJSON() function), but JSON.parse() leaves these in string form and does not restore the original Date object. Function, RegExp, and Error objects and the undefined value cannot be serialized or restored. JSON.stringify() serializes only the enumerable own properties of an object. If a property value cannot be serialized, that property is simply omitted from the stringified output. Both JSON.stringify() and JSON.parse() accept optional second arguments that can be used to customize the serialization and&#x2F;or restoration process by specifying a list of properties to be serialized, for example, or by converting certain values during the serialization or stringification process. Complete documentation for these functions is in Â§11.6.</p>
<blockquote>
<p>JSON çš„è¯­æ³•æ˜¯ JavaScript è¯­æ³•çš„å­é›†ï¼Œå®ƒå¹¶ä¸èƒ½è¡¨ç¤º JavaScript é‡Œçš„æ‰€æœ‰å€¼ã€‚æ”¯æŒå¯¹è±¡ã€æ•°ç»„ã€å­—ç¬¦ä¸²ã€æ— ç©·å¤§æ•°å­—ã€trueã€false å’Œ nullï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥åºåˆ—åŒ–å’Œè¿˜åŸã€‚NaNã€Infinity å’Œ -Infinity åºåˆ—åŒ–çš„ç»“æœæ˜¯ nullï¼Œæ—¥æœŸå¯¹è±¡åºåˆ—åŒ–çš„ç»“æœæ˜¯ ISO æ ¼å¼çš„æ—¥æœŸå­—ç¬¦ä¸²ï¼ˆå‚ç…§ Date.toJSON() å‡½æ•°ï¼‰ï¼Œä½† JSON.parse() ä¾ç„¶ä¿ç•™å®ƒä»¬çš„å­—ç¬¦ä¸²å½¢æ€ï¼Œè€Œä¸ä¼šå°†å®ƒä»¬è¿˜åŸä¸ºåŸå§‹æ—¥æœŸå¯¹è±¡ã€‚å‡½æ•°ã€RegExpã€Error å¯¹è±¡å’Œ undefined å€¼ä¸èƒ½åºåˆ—åŒ–å’Œè¿˜åŸã€‚JSON.stringify() åªèƒ½åºåˆ—åŒ–å¯¹è±¡å¯æšä¸¾çš„è‡ªæœ‰å±æ€§ã€‚å¯¹äºä¸€ä¸ªä¸èƒ½åºåˆ—åŒ–çš„å±æ€§æ¥è¯´ï¼Œåœ¨åºåˆ—åŒ–åçš„è¾“å‡ºå­—ç¬¦ä¸²ä¸­ä¼šå°†è¿™ä¸ªå±æ€§çœç•¥æ‰ã€‚JSON.stringify() å’Œ JSON.parse() éƒ½å¯ä»¥æ¥æ”¶ç¬¬äºŒä¸ªå¯é€‰å®å‚ï¼Œé€šè¿‡ä¼ å…¥éœ€è¦åºåˆ—åŒ–æˆ–è¿˜åŸçš„å±æ€§åˆ—è¡¨æ¥å®šåˆ¶è‡ªå®šä¹‰çš„åºåˆ—åŒ–æˆ–è¿˜åŸæ“ä½œã€‚Â§11.6 æœ‰å…³äºè¿™äº›å‡½æ•°çš„è¯¦ç»†æ–‡æ¡£ã€‚</p>
</blockquote>
<h2 id="6-9-Object-Methods"><a href="#6-9-Object-Methods" class="headerlink" title="6.9 Object Methods"></a>6.9 Object Methods</h2><p>As discussed earlier, all JavaScript objects (except those explicitly created without a prototype) inherit properties from Object.prototype. These inherited properties are primarily methods, and because they are universally available, they are of particular interest to JavaScript programmers. Weâ€™ve already seen the hasOwnProperty() and propertyIsEnumerable() methods, for example. (And weâ€™ve also already covered quite a few static functions defined on the Object constructor, such as Object.create() and Object.keys().) This section explains a handful of universal object methods that are defined on Object.prototype, but which are intended to be replaced by other, more specialized implementations. In the sections that follow, we show examples of defining these methods on a single object. In Chapter 9, youâ€™ll learn how to define these methods more generally for an entire class of objects.</p>
<blockquote>
<p>ä¸Šæ–‡å·²ç»è®¨è®ºè¿‡ï¼Œæ‰€æœ‰çš„ JavaScript å¯¹è±¡éƒ½ä» Object.prototype ç»§æ‰¿å±æ€§ï¼ˆé™¤äº†é‚£äº›ä¸é€šè¿‡åŸå‹æ˜¾å¼åˆ›å»ºçš„å¯¹è±¡ï¼‰ã€‚è¿™äº›ç»§æ‰¿å±æ€§ä¸»è¦æ˜¯æ–¹æ³•ï¼Œå› ä¸º JavaScript ç¨‹åºå‘˜æ™®éå¯¹ç»§æ‰¿æ–¹æ³•æ›´æ„Ÿå…´è¶£ã€‚ä¾‹å¦‚æˆ‘ä»¬å·²ç»è§è¿‡çš„ hasOwnProperty() å’Œ propertyIsEnumerable() æ–¹æ³•ã€‚ï¼ˆå¹¶ä¸”æˆ‘ä»¬ä¹Ÿå·²ç»æåˆ°äº†ä¸€å°éƒ¨åˆ†å®šä¹‰åœ¨å¯¹è±¡æ„é€ å‡½æ•°ä¸­çš„é™æ€å‡½æ•°ï¼Œåƒ Object.create() å’Œ Object.keys()ã€‚ï¼‰æœ¬èŠ‚ä»‹ç»åœ¨ Object.prototype ä¸Šå®šä¹‰çš„å°‘æ•°é€šç”¨å¯¹è±¡æ–¹æ³•ï¼Œä½†æ˜¯è¿™äº›æ–¹æ³•ç»å¸¸ä¼šè¢«æ›´ä¸“ä¸šçš„å®ç°æ‰€å–ä»£ã€‚åœ¨ä¸‹é¢çš„å„èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†å±•ç¤ºåœ¨å•ä¸ªå¯¹è±¡ä¸Šå®šä¹‰è¿™äº›æ–¹æ³•çš„ç¤ºä¾‹ã€‚åœ¨ç¬¬ 9 ç« ä¸­ï¼Œå°†å­¦ä¹ å¦‚ä½•æ›´å¸¸è§„åŒ–åœ°ä¸ºæ•´ä¸ªå¯¹è±¡ç±»å®šä¹‰è¿™äº›æ–¹æ³•ã€‚</p>
</blockquote>
<h3 id="6-9-1-The-toString-Method"><a href="#6-9-1-The-toString-Method" class="headerlink" title="6.9.1 The toString() Method"></a>6.9.1 The toString() Method</h3><p>The toString() method takes no arguments; it returns a string that somehow represents the value of the object on which it is invoked. JavaScript invokes this method of an object whenever it needs to convert the object to a string. This occurs, for example, when you use the + operator to concatenate a string with an object or when you pass an object to a method that expects a string.</p>
<blockquote>
<p>toString() æ–¹æ³•æ²¡æœ‰å®å‚ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªè¡¨ç¤ºè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å¯¹è±¡å€¼çš„å­—ç¬¦ä¸²ã€‚åœ¨éœ€è¦å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼ŒJavaScript éƒ½ä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚æ¯”å¦‚ï¼Œå½“ä½¿ç”¨ + è¿ç®—ç¬¦è¿æ¥ä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå¯¹è±¡æ—¶æˆ–è€…åœ¨å¸Œæœ›ä½¿ç”¨å­—ç¬¦ä¸²çš„æ–¹æ³•ä¸­ä½¿ç”¨äº†å¯¹è±¡æ—¶éƒ½ä¼šè°ƒç”¨ toString()ã€‚</p>
</blockquote>
<p>The default toString() method is not very informative (though it is useful for determining the class of an object, as we will see in Â§14.4.3). For example, the following line of code simply evaluates to the string â€œ[object Object]â€:</p>
<blockquote>
<p>é»˜è®¤çš„ toString() æ–¹æ³•çš„è¿”å›å€¼å¸¦æœ‰çš„ä¿¡æ¯é‡å¾ˆå°‘ï¼ˆå°½ç®¡å®ƒåœ¨æ£€æµ‹å¯¹è±¡çš„ç±»å‹æ—¶éå¸¸æœ‰ç”¨ï¼Œå‚ç…§ Â§14.4.3ï¼‰ï¼Œä¾‹å¦‚ï¼Œä¸‹é¢è¿™è¡Œä»£ç çš„è®¡ç®—ç»“æœä¸ºå­—ç¬¦ä¸²â€[object Object]â€ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = &#123; <span class="attr">x</span>: <span class="number">1</span>, <span class="attr">y</span>: <span class="number">1</span> &#125;.<span class="title function_">toString</span>();  <span class="comment">// s == &quot;[object Object]&quot;</span></span><br></pre></td></tr></table></figure>
<p>Because this default method does not display much useful information, many classes define their own versions of toString(). For example, when an array is converted to a string, you obtain a list of the array elements, themselves each converted to a string, and when a function is converted to a string, you obtain the source code for the function. You might define your own toString() method like this:</p>
<blockquote>
<p>ç”±äºé»˜è®¤çš„ toString() æ–¹æ³•å¹¶ä¸ä¼šè¾“å‡ºå¾ˆå¤šæœ‰ç”¨çš„ä¿¡æ¯ï¼Œå› æ­¤å¾ˆå¤šç±»éƒ½å¸¦æœ‰è‡ªå®šä¹‰çš„ toString()ã€‚ä¾‹å¦‚ï¼Œå½“æ•°ç»„è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œç»“æœæ˜¯ä¸€ä¸ªæ•°ç»„å…ƒç´ åˆ—è¡¨ï¼Œåªæ˜¯æ¯ä¸ªå…ƒç´ éƒ½è½¬æ¢æˆäº†å­—ç¬¦ä¸²ï¼Œå†æ¯”å¦‚ï¼Œå½“å‡½æ•°è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå¾—åˆ°å‡½æ•°çš„æºä»£ç ã€‚å¯ä»¥åƒä¸‹é¢è¿™æ ·è‡ªå®šä¹‰ toString() æ–¹æ³•ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">String</span>(point)    <span class="comment">// =&gt; &quot;(1, 2)&quot;: toString() is used for string conversions</span></span><br></pre></td></tr></table></figure>
<h3 id="6-9-2-The-toLocaleString-Method"><a href="#6-9-2-The-toLocaleString-Method" class="headerlink" title="6.9.2 The toLocaleString() Method"></a>6.9.2 The toLocaleString() Method</h3><p>In addition to the basic toString() method, objects all have a toLocaleString(). The purpose of this method is to return a localized string representation of the object. The default toLocaleString() method defined by Object doesnâ€™t do any localization itself: it simply calls toString() and returns that value. The Date and Number classes define customized versions of toLocaleString() that attempt to format numbers, dates, and times according to local conventions. Array defines a toLocaleString() method that works like toString() except that it formats array elements by calling their toLocaleString() methods instead of their toString() methods. You might do the same thing with a point object like this:</p>
<blockquote>
<p>é™¤äº†åŸºæœ¬çš„ toString() æ–¹æ³•ä¹‹å¤–ï¼Œå¯¹è±¡éƒ½åŒ…å« toLocaleString() æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•è¿”å›ä¸€ä¸ªè¡¨ç¤ºè¿™ä¸ªå¯¹è±¡çš„æœ¬åœ°åŒ–å­—ç¬¦ä¸²ã€‚Object ä¸­é»˜è®¤çš„ toLocaleString() æ–¹æ³•å¹¶ä¸åšä»»ä½•æœ¬åœ°åŒ–è‡ªèº«çš„æ“ä½œï¼Œå®ƒä»…è°ƒç”¨ toString() æ–¹æ³•å¹¶è¿”å›å¯¹åº”å€¼ã€‚Date å’Œ Number ç±»å¯¹ toLocaleString() æ–¹æ³•åšäº†å®šåˆ¶ï¼Œå¯ä»¥ç”¨å®ƒå¯¹æ•°å­—ã€æ—¥æœŸå’Œæ—¶é—´åšæœ¬åœ°åŒ–çš„è½¬æ¢ã€‚ Array ç±»çš„ toLocaleString() æ–¹æ³•å’Œ toString() æ–¹æ³•å¾ˆåƒï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯æ¯ä¸ªæ•°ç»„å…ƒç´ ä¼šè°ƒç”¨ toLocaleString() æ–¹æ³•è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯è°ƒç”¨å„è‡ªçš„ toString() æ–¹æ³•ã€‚å¯ä»¥åƒè¿™æ ·ä½¿ç”¨ point å¯¹è±¡åšåˆ°åŒæ ·çš„æ•ˆæœï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1000</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2000</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span>; &#125;,</span><br><span class="line">    <span class="attr">toLocaleString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x.toLocaleString()&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y.toLocaleString()&#125;</span>)`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">point.<span class="title function_">toString</span>()        <span class="comment">// =&gt; &quot;(1000, 2000)&quot;</span></span><br><span class="line">point.<span class="title function_">toLocaleString</span>()  <span class="comment">// =&gt; &quot;(1,000, 2,000)&quot;: note thousands separators</span></span><br></pre></td></tr></table></figure>
<p>The internationalization classes documented in Â§11.7 can be useful when implementing a toLocaleString() method.</p>
<blockquote>
<p>åœ¨ Â§11.7 çš„å›½é™…åŒ–ç±»ä¸­ï¼ŒtoLocaleString() æ–¹æ³•çš„å®ç°æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
</blockquote>
<h3 id="6-9-3-The-valueOf-Method"><a href="#6-9-3-The-valueOf-Method" class="headerlink" title="6.9.3 The valueOf() Method"></a>6.9.3 The valueOf() Method</h3><p>The valueOf() method is much like the toString() method, but it is called when JavaScript needs to convert an object to some primitive type other than a stringâ€”typically, a number. JavaScript calls this method automatically if an object is used in a context where a primitive value is required. The default valueOf() method does nothing interesting, but some of the built-in classes define their own valueOf() method. The Date class defines valueOf() to convert dates to numbers, and this allows Date objects to be chronologically compared with &lt; and &gt;. You could do something similar with a point object, defining a valueOf() method that returns the distance from the origin to the point:</p>
<blockquote>
<p>valueOf() æ–¹æ³•å’Œ toString() æ–¹æ³•éå¸¸ç±»ä¼¼ï¼Œä½†å¾€å¾€å½“ JavaScript éœ€è¦å°†å¯¹è±¡è½¬æ¢ä¸ºæŸç§åŸå§‹å€¼è€Œéå­—ç¬¦ä¸²çš„æ—¶å€™æ‰ä¼šè°ƒç”¨å®ƒï¼Œå°¤å…¶æ˜¯è½¬æ¢ä¸ºæ•°å­—çš„æ—¶å€™ã€‚å¦‚æœåœ¨éœ€è¦ä½¿ç”¨åŸå§‹å€¼çš„ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨äº†å¯¹è±¡ï¼ŒJavaScript å°±ä¼šè‡ªåŠ¨è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚é»˜è®¤çš„ valueOf() æ–¹æ³•ä¸è¶³ä¸ºå¥‡ï¼Œä½†æœ‰äº›å†…ç½®ç±»è‡ªå®šä¹‰äº† valueOf() æ–¹æ³•. Date ç±»å®šä¹‰ valueOf() å°†æ—¥æœŸè½¬åŒ–æˆæ•°å€¼å‹ï¼Œå¹¶ä¸”è¿™å…è®¸ Date å¯¹è±¡ä½¿ç”¨ &lt; å’Œ &gt; æŒ‰æ—¶é—´å…ˆæ‰‹é¡ºåºæ¯”è¾ƒã€‚å¯ä»¥å¯¹ point å¯¹è±¡åšåŒæ ·çš„äº‹ï¼Œå®šä¹‰ä¸€ä¸ª valueOf() æ–¹æ³•è¿”å›åŸç‚¹åˆ°ç‚¹çš„è·ç¦»ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">valueOf</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Number</span>(point)  <span class="comment">// =&gt; 5: valueOf() is used for conversions to numbers</span></span><br><span class="line">point &gt; <span class="number">4</span>      <span class="comment">// =&gt; true</span></span><br><span class="line">point &gt; <span class="number">5</span>      <span class="comment">// =&gt; false</span></span><br><span class="line">point &lt; <span class="number">6</span>      <span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>
<h3 id="6-9-4-The-toJSON-Method"><a href="#6-9-4-The-toJSON-Method" class="headerlink" title="6.9.4 The toJSON() Method"></a>6.9.4 The toJSON() Method</h3><p>Object.prototype does not actually define a toJSON() method, but the JSON.stringify() method (see Â§6.8) looks for a toJSON() method on any object it is asked to serialize. If this method exists on the object to be serialized, it is invoked, and the return value is serialized, instead of the original object. The Date class (Â§11.4) defines a toJSON() method that returns a serializable string representation of the date. We could do the same for our Point object like this:</p>
<blockquote>
<p>Object.prototype å®é™…ä¸Šæ²¡æœ‰å®šä¹‰ toJSON() æ–¹æ³•ï¼Œä½†å¯¹äºéœ€è¦æ‰§è¡Œåºåˆ—åŒ–çš„å¯¹è±¡æ¥è¯´ï¼ŒJSON.stringify() æ–¹æ³•ï¼ˆè§ Â§6.8ï¼‰ä¼šè°ƒç”¨ toJSON() æ–¹æ³•ã€‚å¦‚æœåœ¨å¾…åºåˆ—åŒ–çš„å¯¹è±¡ä¸­å­˜åœ¨è¿™ ä¸ªæ–¹æ³•ï¼Œåˆ™è°ƒç”¨å®ƒï¼Œè¿”å›å€¼å³æ˜¯åºåˆ—åŒ–çš„ç»“æœï¼Œè€Œä¸æ˜¯åŸå§‹çš„å¯¹è±¡ã€‚Date ç±»ï¼ˆÂ§11.4ï¼‰å®šä¹‰äº† toJSON() æ–¹æ³•è¿”å›æ—¥æœŸçš„åºåˆ—åŒ–å­—ç¬¦ä¸²ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·å¯¹ point å¯¹è±¡åšåŒæ ·çš„äº‹ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point = &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">`(<span class="subst">$&#123;<span class="variable language_">this</span>.x&#125;</span>, <span class="subst">$&#123;<span class="variable language_">this</span>.y&#125;</span>)`</span>; &#125;,</span><br><span class="line">    <span class="attr">toJSON</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">toString</span>(); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>([point])   <span class="comment">// =&gt; &#x27;[&quot;(1, 2)&quot;]&#x27;</span></span><br></pre></td></tr></table></figure>
<h2 id="6-10-Extended-Object-Literal-Syntax"><a href="#6-10-Extended-Object-Literal-Syntax" class="headerlink" title="6.10 Extended Object Literal Syntax"></a>6.10 Extended Object Literal Syntax</h2><p>Recent versions of JavaScript have extended the syntax for object literals in a number of useful ways. The following subsections explain these extensions.</p>
<blockquote>
<p>JavaScript çš„æœ€æ–°ç‰ˆæœ¬æ‰©å±•äº†è®¸å¤šæœ‰ç”¨çš„å¯¹è±¡å­—é¢é‡ç›¸å…³çš„è¯­æ³•ã€‚ä»¥ä¸‹å°èŠ‚è§£é‡Šè¿™äº›æ‰©å±•ã€‚</p>
</blockquote>
<h3 id="6-10-1-Shorthand-Properties"><a href="#6-10-1-Shorthand-Properties" class="headerlink" title="6.10.1 Shorthand Properties"></a>6.10.1 Shorthand Properties</h3><p>Suppose you have values stored in variables x and y and want to create an object with properties named x and y that hold those values. With basic object literal syntax, youâ€™d end up repeating each identifier twice:</p>
<blockquote>
<p>å‡è®¾å€¼å­˜å‚¨åœ¨å˜é‡ x å’Œ y ä¸­ï¼Œå¹¶ä¸”æƒ³è¦åˆ›å»ºå…·æœ‰åä¸º x å’Œ y çš„å±æ€§çš„å¯¹è±¡ï¼Œè¿™äº›å±æ€§åŒ…å«è¿™äº›å€¼ã€‚ä½¿ç”¨åŸºæœ¬å¯¹è±¡å­—é¢é‡è¯­æ³•ï¼Œæœ€ç»ˆä¼šé‡å¤æ¯ä¸ªæ ‡è¯†ç¬¦ä¸¤æ¬¡ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    <span class="attr">x</span>: x,</span><br><span class="line">    <span class="attr">y</span>: y</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>In ES6 and later, you can drop the colon and one copy of the identifier and end up with much simpler code:</p>
<blockquote>
<p>åœ¨ ES6 ä¹‹åï¼Œå¯ä»¥åˆ é™¤æ ‡è¯†ç¬¦çš„å†’å·å’Œä¸€ä¸ªå‰¯æœ¬ï¼Œæœ€ç»ˆä½¿ç”¨æ›´ç®€å•çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1</span>, y = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> o = &#123; x, y &#125;;</span><br><span class="line">o.<span class="property">x</span> + o.<span class="property">y</span>  <span class="comment">// =&gt; 3</span></span><br></pre></td></tr></table></figure>
<h3 id="6-10-2-Computed-Property-Names"><a href="#6-10-2-Computed-Property-Names" class="headerlink" title="6.10.2 Computed Property Names"></a>6.10.2 Computed Property Names</h3><p>Sometimes you need to create an object with a specific property, but the name of that property is not a compile-time constant that you can type literally in your source code. Instead, the property name you need is stored in a variable or is the return value of a function that you invoke. You canâ€™t use a basic object literal for this kind of property. Instead, you have to create an object and then add the desired properties as an extra step:</p>
<blockquote>
<p>æœ‰æ—¶éœ€è¦åˆ›å»ºå…·æœ‰ç‰¹å®šå±æ€§çš„å¯¹è±¡ï¼Œä½†è¯¥å±æ€§çš„åç§°ä¸æ˜¯å¯ä»¥åœ¨æºä»£ç ä¸­é”®å…¥çš„ç¼–è¯‘æ—¶å¸¸é‡ã€‚ç›¸åï¼Œéœ€è¦çš„å±æ€§åç§°å­˜å‚¨åœ¨å˜é‡ä¸­ï¼Œæˆ–è€…æ˜¯è°ƒç”¨çš„å‡½æ•°çš„è¿”å›å€¼ã€‚ä¸èƒ½å¯¹æ­¤ç±»å±æ€§ä½¿ç”¨åŸºæœ¬å¯¹è±¡å­—é¢é‡ã€‚è€Œå¿…é¡»åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œé€šè¿‡é¢å¤–çš„æ­¥éª¤ï¼Œæ·»åŠ æ‰€éœ€çš„å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">PROPERTY_NAME</span> = <span class="string">&quot;p1&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">computePropertyName</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">&quot;p&quot;</span> + <span class="number">2</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> o = &#123;&#125;;</span><br><span class="line">o[<span class="variable constant_">PROPERTY_NAME</span>] = <span class="number">1</span>;</span><br><span class="line">o[<span class="title function_">computePropertyName</span>()] = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p>It is much simpler to set up an object like this with an ES6 feature known as computed properties that lets you take the square brackets from the preceding code and move them directly into the object literal:</p>
<blockquote>
<p>ä½¿ç”¨ç§°ä¸ºè®¡ç®—å±æ€§çš„ ES6 ç‰¹æ€§è®¾ç½®è¿™æ ·çš„å¯¹è±¡è¦ç®€å•å¾—å¤šï¼Œè¯¥åŠŸèƒ½å…è®¸ä»å‰é¢çš„ä»£ç å†™å…¥æ–¹æ‹¬å†…å¹¶ç›´æ¥ç§»åŠ¨åˆ°å¯¹è±¡å­—é¢é‡ä¸­ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">PROPERTY_NAME</span> = <span class="string">&quot;p1&quot;</span>;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">computePropertyName</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="string">&quot;p&quot;</span> + <span class="number">2</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> p = &#123;</span><br><span class="line">    [<span class="variable constant_">PROPERTY_NAME</span>]: <span class="number">1</span>,</span><br><span class="line">    [<span class="title function_">computePropertyName</span>()]: <span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">p.<span class="property">p1</span> + p.<span class="property">p2</span> <span class="comment">// =&gt; 3</span></span><br></pre></td></tr></table></figure>
<p>With this new syntax, the square brackets delimit an arbitrary JavaScript expression. That expression is evaluated, and the resulting value (converted to a string, if necessary) is used as the property name.</p>
<blockquote>
<p>ä½¿ç”¨è¿™ç§æ–°è¯­æ³•ï¼Œæ–¹æ‹¬å·å°†å…¶åˆ†éš”æˆ JavaScript è¡¨è¾¾å¼ã€‚è®¡ç®—è¯¥è¡¨è¾¾å¼ï¼Œå¹¶å°†ç»“æœå€¼ï¼ˆå¦‚æœ‰å¿…è¦è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰ç”¨ä½œå±æ€§åç§°ã€‚</p>
</blockquote>
<p>One situation where you might want to use computed properties is when you have a library of JavaScript code that expects to be passed objects with a particular set of properties, and the names of those properties are defined as constants in that library. If you are writing code to create the objects that will be passed to that library, you could hardcode the property names, but youâ€™d risk bugs if you type the property name wrong anywhere, and youâ€™d risk version mismatch issues if a new version of the library changes the required property names. Instead, you might find that it makes your code more robust to use computed property syntax with the property name constants defined by the library.</p>
<blockquote>
<p>å¯èƒ½æƒ³è¦ä½¿ç”¨è®¡ç®—å±æ€§çš„ä¸€ä¸ªæƒ…å†µæ˜¯ï¼Œæœ‰ä¸€ä¸ª JavaScript ä»£ç åº“ï¼Œè¯¥åº“å¸Œæœ›ä¼ é€’å…·æœ‰ä¸€ç»„ç‰¹å®šå±æ€§çš„å¯¹è±¡ï¼Œå¹¶ä¸”è¿™äº›å±æ€§çš„åç§°å®šä¹‰ä¸ºè¯¥åº“ä¸­çš„å¸¸é‡ã€‚å¦‚æœè¦ç¼–å†™ä»£ç ä»¥åˆ›å»ºå°†ä¼ é€’ç»™è¯¥åº“çš„å¯¹è±¡ï¼Œå¯ä»¥ç¡¬ç¼–ç å±æ€§åç§°ï¼Œä½†å¦‚æœåœ¨ä»»ä½•åœ°æ–¹é”®å…¥é”™è¯¯çš„å±æ€§åç§°ï¼Œåˆ™å­˜åœ¨é”™è¯¯é£é™©ï¼›å¦‚æœåº“çš„æ–°ç‰ˆæœ¬æ›´æ”¹äº†æ‰€éœ€çš„å±æ€§åç§°ï¼Œåˆ™å­˜åœ¨ç‰ˆæœ¬ä¸åŒ¹é…é—®é¢˜çš„é£é™©ã€‚ç›¸åï¼Œå¯èƒ½ä¼šå‘ç°ï¼Œä½¿ç”¨è®¡ç®—å±æ€§è¯­æ³•ä¸åº“å®šä¹‰çš„å±æ€§åç§°å¸¸é‡æ—¶ï¼Œå®ƒä½¿ä»£ç æ›´åŠ å¥å£®ã€‚</p>
</blockquote>
<h3 id="6-10-3-Symbols-as-Property-Names"><a href="#6-10-3-Symbols-as-Property-Names" class="headerlink" title="6.10.3 Symbols as Property Names"></a>6.10.3 Symbols as Property Names</h3><p>The computed property syntax enables one other very important object literal feature. In ES6 and later, property names can be strings or symbols. If you assign a symbol to a variable or constant, then you can use that symbol as a property name using the computed property syntax:</p>
<blockquote>
<p>è®¡ç®—å±æ€§è¯­æ³•å¯ç”¨äº†å¦ä¸€ä¸ªéå¸¸é‡è¦çš„å¯¹è±¡å­—é¢é‡ç‰¹æ€§ã€‚åœ¨ ES6 ä¹‹åï¼Œå±æ€§åç§°å¯ä»¥æ˜¯å­—ç¬¦ä¸²æˆ– Symbolã€‚å¦‚æœå°† Symbol åˆ†é…ç»™å˜é‡æˆ–å¸¸é‡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§è¯­æ³•å°†è¯¥ Symbol ç”¨ä½œå±æ€§åç§°ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> extension = <span class="title class_">Symbol</span>(<span class="string">&quot;my extension symbol&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    [extension]: &#123; <span class="comment">/* extension data stored in this object */</span> &#125;</span><br><span class="line">&#125;;</span><br><span class="line">o[extension].<span class="property">x</span> = <span class="number">0</span>; <span class="comment">// This won&#x27;t conflict with other properties of o</span></span><br></pre></td></tr></table></figure>
<p>As explained in Â§3.6, Symbols are opaque values. You canâ€™t do anything with them other than use them as property names. Every Symbol is different from every other Symbol, however, which means that Symbols are good for creating unique property names. Create a new Symbol by calling the Symbol() factory function. (Symbols are primitive values, not objects, so Symbol() is not a constructor function that you invoke with new.) The value returned by Symbol() is not equal to any other Symbol or other value. You can pass a string to Symbol(), and this string is used when your Symbol is converted to a string. But this is a debugging aid only: two Symbols created with the same string argument are still different from one another.</p>
<blockquote>
<p>å¦‚ Â§3.6 ä¸­æ‰€è¿°ï¼Œç¬¦å·æ˜¯ä¸é€æ˜å€¼ã€‚é™¤äº†å°†å®ƒä»¬ç”¨ä½œå±æ€§åç§°ï¼Œä¸èƒ½å¯¹å®ƒä»¬è¿›è¡Œä»»ä½•å…¶ä»–å¤„ç†ã€‚ä½†æ˜¯ï¼Œæ¯ä¸ª Symbol éƒ½ä¸åŒäºæ‰€æœ‰å…¶ä»– Symbolï¼Œè¿™æ„å‘³ç€ Symbol é€‚åˆåˆ›å»ºå”¯ä¸€çš„å±æ€§åç§°ã€‚é€šè¿‡è°ƒç”¨ Symbol() å·¥å‚å‡½æ•°åˆ›å»ºæ–° Symbolã€‚ï¼ˆSymbol æ˜¯åŸå§‹å€¼ï¼Œè€Œä¸æ˜¯å¯¹è±¡ï¼Œå› æ­¤ Symbol() ä¸æ˜¯ä½¿ç”¨ new è°ƒç”¨çš„æ„é€ å‡½æ•°ã€‚ï¼‰Symbol() è¿”å›çš„å€¼ä¸ç­‰äºä»»ä½•å…¶ä»– Symbol æˆ–å…¶ä»–å€¼ã€‚å¯ä»¥å°†å­—ç¬¦ä¸²ä¼ é€’ç»™ Symbol()ï¼Œå½“ Symbol è½¬æ¢ä¸ºå­—ç¬¦ä¸²æ—¶ï¼Œå°†ä½¿ç”¨æ­¤å­—ç¬¦ä¸²ã€‚ä½†æ˜¯ï¼Œè¿™åªæ˜¯ä¸€ä¸ªè°ƒè¯•å¸®åŠ©ï¼šä½¿ç”¨åŒä¸€å­—ç¬¦ä¸²å‚æ•°åˆ›å»ºçš„ä¸¤ä¸ª Symbol ä»ç„¶å½¼æ­¤ä¸åŒã€‚</p>
</blockquote>
<p>The point of Symbols is not security, but to define a safe extension mechanism for JavaScript objects. If you get an object from third-party code that you do not control and need to add some of your own properties to that object but want to be sure that your properties will not conflict with any properties that may already exist on the object, you can safely use Symbols as your property names. If you do this, you can also be confident that the third-party code will not accidentally alter your symbolically named properties. (That third-party code could, of course, use Object.getOwnPropertySymbols() to discover the Symbols youâ€™re using and could then alter or delete your properties. This is why Symbols are not a security mechanism.)</p>
<blockquote>
<p>Symbol çš„è¦ç‚¹ä¸æ˜¯å®‰å…¨æ€§ï¼Œè€Œæ˜¯ä¸º JavaScript å¯¹è±¡å®šä¹‰ä¸€ä¸ªå®‰å…¨çš„æ‰©å±•æœºåˆ¶ã€‚å¦‚æœä»ç¬¬ä¸‰æ–¹ä»£ç è·å–å¯¹è±¡ï¼Œæ‚¨æ— æ³•æ§åˆ¶è¯¥å¯¹è±¡ï¼Œå¹¶ä¸”éœ€è¦å‘è¯¥å¯¹è±¡æ·»åŠ è‡ªå·±çš„ä¸€äº›å±æ€§ï¼Œä½†å¸Œæœ›ç¡®ä¿å±æ€§ä¸ä¼šä¸å¯¹è±¡ä¸Šå¯èƒ½å­˜åœ¨çš„ä»»ä½•å±æ€§å†²çªï¼Œå¯ä»¥å®‰å…¨åœ°ä½¿ç”¨ Symbol ä½œä¸ºå±æ€§åç§°ã€‚å¦‚æœè¿™æ ·åšï¼Œè¿˜å¯ä»¥ç¡®ä¿¡ç¬¬ä¸‰æ–¹ä»£ç ä¸ä¼šæ„å¤–æ›´æ”¹ Symbol å‘½åçš„å±æ€§ã€‚ï¼ˆå½“ç„¶ï¼Œè¯¥ç¬¬ä¸‰æ–¹ä»£ç å¯ä»¥ä½¿ç”¨ Object.getOwnPropertySymbols() æ¥å‘ç°ä½ ä½¿ç”¨çš„ Symbolï¼Œç„¶åå¯ä»¥æ›´æ”¹æˆ–åˆ é™¤ä½ çš„å±æ€§ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¬¦å·ä¸æ˜¯å®‰å…¨æœºåˆ¶ã€‚ï¼‰</p>
</blockquote>
<h3 id="6-10-4-Spread-Operator"><a href="#6-10-4-Spread-Operator" class="headerlink" title="6.10.4 Spread Operator"></a>6.10.4 Spread Operator</h3><p>In ES2018 and later, you can copy the properties of an existing object into a new object using the â€œspread operatorâ€ â€¦ inside an object literal:</p>
<blockquote>
<p>åœ¨ ES2018 ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ â€¦ å°†ç°æœ‰çš„å¯¹è±¡ä¸­çš„å±æ€§å¤åˆ¶åˆ°æ–°çš„å¯¹è±¡ä¸­ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> position = &#123; <span class="attr">x</span>: <span class="number">0</span>, <span class="attr">y</span>: <span class="number">0</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> dimensions = &#123; <span class="attr">width</span>: <span class="number">100</span>, <span class="attr">height</span>: <span class="number">75</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> rect = &#123; ...position, ...dimensions &#125;;</span><br><span class="line">rect.<span class="property">x</span> + rect.<span class="property">y</span> + rect.<span class="property">width</span> + rect.<span class="property">height</span> <span class="comment">// =&gt; 175</span></span><br></pre></td></tr></table></figure>
<p>In this code, the properties of the position and dimensions objects are â€œspread outâ€ into the rect object literal as if they had been written literally inside those curly braces. Note that this â€¦ syntax is often called a spread operator but is not a true JavaScript operator in any sense. Instead, it is a special-case syntax available only within object literals. (Three dots are used for other purposes in other JavaScript contexts, but object literals are the only context where the three dots cause this kind of interpolation of one object into another one.)</p>
<blockquote>
<p>åœ¨æ­¤ä»£ç ä¸­ï¼Œposition å’Œ dimensions å¯¹è±¡çš„å±æ€§è¢«å±•å¼€åˆ° rect å¯¹è±¡å­—é¢é‡ä¸­ï¼Œå°±åƒå®ƒä»¬ä»¥å­—é¢é‡çš„æ–¹å¼å†™å…¥è¿™äº›å¤§æ‹¬å·ä¸­ä¸€æ ·ã€‚è¯·æ³¨æ„ï¼Œâ€¦ è¯­æ³•é€šå¸¸ç§°ä¸ºå±•å¼€è¿ç®—ç¬¦ï¼Œä½†åœ¨ä»»ä½•æƒ…å†µä¸‹éƒ½ä¸æ˜¯çœŸæ­£çš„ JavaScript è¿ç®—ç¬¦ã€‚ç›¸åï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µä¸‹è¯­æ³•ï¼Œä»…åœ¨å¯¹è±¡æ–‡æœ¬ä¸­å¯ç”¨ã€‚ï¼ˆâ€¦ åœ¨åˆ«çš„ JavaScript ä¸Šä¸‹æ–‡ä¸­æœ‰å…¶ä»–ç”¨é€”ï¼Œä½†æ˜¯å¯¹è±¡å­—é¢é‡ä¸Šä¸‹æ–‡ä¸­åªæœ‰è¿™ä¸€ç§ç”¨æ³•ã€‚ï¼‰</p>
</blockquote>
<p>If the object that is spread and the object it is being spread into both have a property with the same name, then the value of that property will be the one that comes last:</p>
<blockquote>
<p>å¦‚æœå±•å¼€çš„ç›®æ ‡å¯¹è±¡å’Œæºå¯¹è±¡ä¸­å…·æœ‰ç›¸åŒçš„åç§°ï¼Œåˆ™è¯¥å±æ€§çš„å€¼å°†æ˜¯ä½ç½®å¤„äºåé¢çš„å€¼ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123; <span class="attr">x</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">let</span> p = &#123; <span class="attr">x</span>: <span class="number">0</span>, ...o &#125;;</span><br><span class="line">p.<span class="property">x</span>   <span class="comment">// =&gt; 1: the value from object o overrides the initial value</span></span><br><span class="line"><span class="keyword">let</span> q = &#123; ...o, <span class="attr">x</span>: <span class="number">2</span> &#125;;</span><br><span class="line">q.<span class="property">x</span>   <span class="comment">// =&gt; 2: the value 2 overrides the previous value from o.</span></span><br></pre></td></tr></table></figure>
<p>Also note that the spread operator only spreads the own properties of an object, not any inherited ones:</p>
<blockquote>
<p>è¿˜æœ‰æ³¨æ„å±•å¼€è¿ç®—ç¬¦åªå±•å¼€å¯¹è±¡çš„è‡ªæœ‰å±æ€§ï¼Œä¸å±•å¼€ç»§æ‰¿å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = <span class="title class_">Object</span>.<span class="title function_">create</span>(&#123;<span class="attr">x</span>: <span class="number">1</span>&#125;); <span class="comment">// o inherits the property x</span></span><br><span class="line"><span class="keyword">let</span> p = &#123; ...o &#125;;</span><br><span class="line">p.<span class="property">x</span>                            <span class="comment">// =&gt; undefined</span></span><br></pre></td></tr></table></figure>
<p>Finally, it is worth noting that, although the spread operator is just three little dots in your code, it can represent a substantial amount of work to the JavaScript interpreter. If an object has n properties, the process of spreading those properties into another object is likely to be an O(n) operation. This means that if you find yourself using â€¦ within a loop or recursive function as a way to accumulate data into one large object, you may be writing an inefficient O(n2) algorithm that will not scale well as n gets larger.</p>
<blockquote>
<p>æœ€åï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶å±•å¼€è¿ç®—ç¬¦åœ¨ä»£ç ä¸­åªæ˜¯ä¸‰ä¸ªå°ç‚¹ï¼Œä½†å®ƒå¯¹ JavaScript è§£é‡Šå™¨æ¥è¯´å¯ä»¥ä»£è¡¨å¤§é‡çš„å·¥ä½œã€‚å¦‚æœå¯¹è±¡å…·æœ‰ n ä¸ªå±æ€§ï¼Œåˆ™å°†è¿™äº›å±æ€§åˆ†æ•£åˆ°å¦ä¸€ä¸ªå¯¹è±¡çš„è¿‡ç¨‹å¾ˆå¯èƒ½æ˜¯ O(n) æ“ä½œã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ å‘ç°è‡ªå·±åœ¨ä½¿ç”¨ â€¦ åœ¨å¾ªç¯æˆ–é€’å½’å‡½æ•°ä¸­ï¼Œç±»ä¼¼å°†æ•°æ®ç´¯ç§¯åˆ°ä¸€ä¸ªå¤§å¯¹è±¡ä¸­çš„æ–¹æ³•ï¼Œæ‚¨å¯èƒ½æ­£åœ¨ç¼–å†™ä¸€ä¸ªä½æ•ˆçš„ O(n2) ç®—æ³•ï¼Œè¯¥ç®—æ³•ä¸ä¼šéšç€ n å˜å¤§è€Œæ‰©å±•ã€‚</p>
</blockquote>
<h3 id="6-10-5-Shorthand-Methods"><a href="#6-10-5-Shorthand-Methods" class="headerlink" title="6.10.5 Shorthand Methods"></a>6.10.5 Shorthand Methods</h3><p>When a function is defined as a property of an object, we call that function a method (weâ€™ll have a lot more to say about methods in Chapters 8 and 9). Prior to ES6, you would define a method in an object literal using a function definition expression just as you would define any other property of an object:</p>
<blockquote>
<p>å½“å‡½æ•°è¢«å®šä¹‰ä¸ºå¯¹è±¡çš„å±æ€§æ—¶ï¼Œæˆ‘ä»¬ç§°è¯¥å‡½æ•°ä¸ºæ–¹æ³•ï¼ˆæˆ‘ä»¬å°†åœ¨ç¬¬ 8 ç« å’Œç¬¬ 9 ç« ä¸­å¯¹æ–¹æ³•æœ‰æ›´å¤šçš„æè¿°ï¼‰ã€‚åœ¨ ES6 ä¹‹å‰ï¼Œåœ¨å¯¹è±¡å­—é¢é‡ä¸­ç”¨å‡½æ•°å®šä¹‰è¡¨è¾¾å¼å®šä¹‰ä¸€ä¸ªæ–¹æ³•å’Œåœ¨å¯¹è±¡ä¸­å®šä¹‰å…¶ä»–å±æ€§ä¸€æ ·ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> square = &#123;</span><br><span class="line">    <span class="attr">area</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">side</span> * <span class="variable language_">this</span>.<span class="property">side</span>; &#125;,</span><br><span class="line">    <span class="attr">side</span>: <span class="number">10</span></span><br><span class="line">&#125;;</span><br><span class="line">square.<span class="title function_">area</span>() <span class="comment">// =&gt; 100</span></span><br></pre></td></tr></table></figure>
<p>In ES6, however, the object literal syntax (and also the class definition syntax weâ€™ll see in Chapter 9) has been extended to allow a shortcut where the function keyword and the colon are omitted, resulting in code like this:</p>
<blockquote>
<p>ä½†æ˜¯ï¼Œåœ¨ ES6 ä¸­ï¼Œå¯¹è±¡å­—é¢é‡è¯­æ³•ï¼ˆä»¥åŠæˆ‘ä»¬å°†åœ¨ç¬¬ 9 ç« ä¸­çœ‹åˆ°çš„ç±»å®šä¹‰è¯­æ³•ï¼‰å·²æ‰©å±•æˆå…è®¸çœç•¥å‡½æ•°å…³é”®å­—å’Œå†’å·çš„å¿«æ·æ–¹å¼ï¼Œå¯ä»¥å†™æˆè¿™æ ·çš„ä»£ç ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> square = &#123;</span><br><span class="line">    <span class="title function_">area</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">side</span> * <span class="variable language_">this</span>.<span class="property">side</span>; &#125;,</span><br><span class="line">    <span class="attr">side</span>: <span class="number">10</span></span><br><span class="line">&#125;;</span><br><span class="line">square.<span class="title function_">area</span>() <span class="comment">// =&gt; 100</span></span><br></pre></td></tr></table></figure>
<p>Both forms of the code are equivalent: both add a property named area to the object literal, and both set the value of that property to the specified function. The shorthand syntax makes it clearer that area() is a method and not a data property like side.</p>
<blockquote>
<p>ä¸¤ç§å½¢å¼æ˜¯ç›¸åŒçš„ï¼šåœ¨å¯¹è±¡å­—é¢é‡ä¸­æ·»åŠ ä¸€ä¸ªåä¸º area çš„å±æ€§ï¼Œå¹¶æŒ‡å®šä¸€ä¸ªå‡½æ•°ä¸ºè¿™ä¸ªå±æ€§çš„å€¼ã€‚é€Ÿè®°è¯­æ³•æ›´æ¸…æ™°çš„çœ‹å‡º area() æ˜¯ä¸€ä¸ªæ–¹æ³•è€Œä¸æ˜¯ä¸€ä¸ªåƒ side ä¸€æ ·çš„æ•°æ®å±æ€§ã€‚</p>
</blockquote>
<p>When you write a method using this shorthand syntax, the property name can take any of the forms that are legal in an object literal: in addition to a regular JavaScript identifier like the name area above, you can also use string literals and computed property names, which can include Symbol property names:</p>
<blockquote>
<p>ä½¿ç”¨æ­¤é€Ÿè®°è¯­æ³•ç¼–å†™æ–¹æ³•æ—¶ï¼Œå±æ€§åç§°å¯ä»¥é‡‡ç”¨å¯¹è±¡å­—é¢é‡ä¸­çš„ä»»ä½•åˆæ³•å½¢å¼ï¼šé™¤äº†åƒä¸Šé¢çš„åç§° area è¿™æ ·çš„å¸¸è§„ JavaScript æ ‡è¯†ç¬¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²å­—é¢é‡å’Œè®¡ç®—å±æ€§åç§°ï¼ŒåŒ…æ‹¬ Symbol å±æ€§åç§°ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">METHOD_NAME</span> = <span class="string">&quot;m&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> symbol = <span class="title class_">Symbol</span>();</span><br><span class="line"><span class="keyword">let</span> weirdMethods = &#123;</span><br><span class="line">    <span class="string">&quot;method With Spaces&quot;</span>(x) &#123; <span class="keyword">return</span> x + <span class="number">1</span>; &#125;,</span><br><span class="line">    [<span class="variable constant_">METHOD_NAME</span>](x) &#123; <span class="keyword">return</span> x + <span class="number">2</span>; &#125;,</span><br><span class="line">    [symbol](x) &#123; <span class="keyword">return</span> x + <span class="number">3</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line">weirdMethods[<span class="string">&quot;method With Spaces&quot;</span>](<span class="number">1</span>)  <span class="comment">// =&gt; 2</span></span><br><span class="line">weirdMethods[<span class="variable constant_">METHOD_NAME</span>](<span class="number">1</span>)           <span class="comment">// =&gt; 3</span></span><br><span class="line">weirdMethods[symbol](<span class="number">1</span>)                <span class="comment">// =&gt; 4</span></span><br></pre></td></tr></table></figure>
<p>Using a Symbol as a method name is not as strange as it seems. In order to make an object iterable (so it can be used with a for&#x2F;of loop), you must define a method with the symbolic name Symbol.iterator, and there are examples of doing exactly that in Chapter 12.</p>
<blockquote>
<p>ä½¿ç”¨ Symbol ä½œä¸ºæ–¹æ³•åç§°å¹¶ä¸åƒçœ‹èµ·æ¥é‚£ä¹ˆå¥‡æ€ªã€‚ä¸ºäº†ä½¿å¯¹è±¡å¯è¿­ä»£ï¼ˆå› æ­¤å®ƒå¯ä»¥ä¸ for&#x2F;of å¾ªç¯ä¸€èµ·ä½¿ç”¨ï¼‰ï¼Œå¿…é¡»å®šä¹‰ä¸€ä¸ªå…·æœ‰ç¬¦å·åç§° Symbol.iterator çš„æ–¹æ³•ï¼Œå¹¶ä¸”åœ¨ç¬¬ 12 ç« ä¸­æœ‰è¿™æ ·åšçš„ç¤ºä¾‹ã€‚</p>
</blockquote>
<h3 id="6-10-6-Property-Getters-and-Setters"><a href="#6-10-6-Property-Getters-and-Setters" class="headerlink" title="6.10.6 Property Getters and Setters"></a>6.10.6 Property Getters and Setters</h3><p>All of the object properties weâ€™ve discussed so far in this chapter have been data properties with a name and an ordinary value. JavaScript also supports accessor properties, which do not have a single value but instead have one or two accessor methods: a getter and&#x2F;or a setter.</p>
<blockquote>
<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæœ¬èŠ‚æˆ‘ä»¬æ‰€è®¨è®ºçš„æ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯å…·æœ‰åç§°å’Œæ™®é€šå€¼çš„æ•°æ®å±æ€§ã€‚JavaScript è¿˜æ”¯æŒå­˜å–å™¨å±æ€§ï¼Œè¿™äº›å±æ€§æ²¡æœ‰å•ä¸ªå€¼ï¼Œè€Œæ˜¯å…·æœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªå­˜å–å™¨æ–¹æ³•ï¼šgetter å’Œæˆ–æ˜¯æˆ– setterã€‚</p>
</blockquote>
<p>When a program queries the value of an accessor property, JavaScript invokes the getter method (passing no arguments). The return value of this method becomes the value of the property access expression. When a program sets the value of an accessor property, JavaScript invokes the setter method, passing the value of the righthand side of the assignment. This method is responsible for â€œsetting,â€ in some sense, the property value. The return value of the setter method is ignored.</p>
<blockquote>
<p>å½“ç¨‹åºæŸ¥è¯¢å­˜å–å™¨å±æ€§çš„å€¼æ—¶ï¼ŒJavaScript è°ƒç”¨ getter æ–¹æ³•ï¼ˆæ— å®å‚ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼å°±æ˜¯å±æ€§å­˜å–è¡¨è¾¾å¼çš„å€¼ã€‚å½“ç¨‹åºè®¾ç½®ä¸€ä¸ªå­˜å–å™¨å±æ€§çš„å€¼æ—¶ï¼Œ JavaScript è°ƒç”¨ setter æ–¹æ³•ï¼Œå°†èµ‹å€¼è¡¨è¾¾å¼å³ä¾§çš„å€¼å½“åšå‚æ•°ä¼ å…¥ setterã€‚ä»æŸç§æ„ä¹‰ä¸Šè®²ï¼Œè¿™ä¸ªæ–¹æ³•è´Ÿè´£â€œè®¾ç½®â€å±æ€§å€¼ã€‚å¯ä»¥å¿½ç•¥ setter æ–¹æ³•çš„è¿”å›å€¼ã€‚</p>
</blockquote>
<p>If a property has both a getter and a setter method, it is a read&#x2F;write property. If it has only a getter method, it is a read-only property. And if it has only a setter method, it is a write-only property (something that is not possible with data properties), and attempts to read it always evaluate to undefined.</p>
<blockquote>
<p>å¦‚æœå±æ€§åŒæ—¶æœ‰ getter å’Œ setter æ–¹æ³•ï¼Œåˆ™å®ƒæ˜¯ä¸€ä¸ªå¯è¯»å†™å±æ€§ã€‚å¦‚æœå®ƒåªå«æœ‰ getter æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªåªè¯»å±æ€§ã€‚å¦‚æœå®ƒåªæœ‰ setter æ–¹æ³•ï¼Œå®ƒæ˜¯ä¸€ä¸ªåªå¯å†™å±æ€§ï¼ˆè¿™å¯¹ä¸€ä¸ªæ•°æ®å±æ€§æ¥è¯´æ˜¯ä¸å¯èƒ½çš„ï¼‰ï¼Œå¦‚æœå°è¯•å»è¯»å®ƒï¼Œè®¡ç®—ç»“æœæ°¸è¿œæ˜¯ undefinedã€‚</p>
</blockquote>
<p>Accessor properties can be defined with an extension to the object literal syntax (unlike the other ES6 extensions weâ€™ve seen here, getters and setters were introduced in ES5):</p>
<blockquote>
<p>å­˜å‚¨å™¨å±æ€§å¯ä»¥é€šè¿‡è¡¨è¾¾å¼åœ¨å¯¹è±¡å­—é¢é‡è¯­æ³•ä¸­å®šä¹‰ï¼ˆä¸åƒæˆ‘ä»¬åœ¨è¿™é‡Œçœ‹åˆ°çš„å…¶ä»– ES6 æ‰©å±•ï¼Œgetter å’Œ setter æ˜¯ ES5 ä¸­çš„å†…å®¹ï¼‰ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> o = &#123;</span><br><span class="line">    <span class="comment">// An ordinary data property</span></span><br><span class="line">    <span class="attr">dataProp</span>: value,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// An accessor property defined as a pair of functions.</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">accessorProp</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">dataProp</span>; &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">accessorProp</span>(<span class="params">value</span>) &#123; <span class="variable language_">this</span>.<span class="property">dataProp</span> = value; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Accessor properties are defined as one or two methods whose name is the same as the property name. These look like ordinary methods defined using the ES6 shorthand except that getter and setter definitions are prefixed with get or set. (In ES6, you can also use computed property names when defining getters and setters. Simply replace the property name after get or set with an expression in square brackets.)</p>
<blockquote>
<p>å­˜å‚¨å™¨å±æ€§å®šä¹‰ä¸ºåç§°ä¸å±æ€§åç§°ç›¸åŒçš„ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ–¹æ³•ã€‚è¿™äº›æ–¹æ³•çœ‹èµ·æ¥åƒä½¿ç”¨ ES6 é€Ÿè®°å®šä¹‰çš„æ™®é€šæ–¹æ³•ï¼Œåªä¸è¿‡ getter å’Œ setter å®šä¹‰ä½¿ç”¨ get æˆ– set å‰ç¼€ã€‚ï¼ˆåœ¨ ES6 ä¸­ï¼Œåœ¨å®šä¹‰ getter å’Œ setter æ—¶è¿˜å¯ä»¥ä½¿ç”¨è®¡ç®—å±æ€§åç§°ã€‚åªéœ€å°†å¸¦æ–¹æ‹¬å·çš„è¡¨è¾¾å¼æ›¿æ¢å±æ€§åç§°å³å¯ã€‚</p>
</blockquote>
<p>The accessor methods defined above simply get and set the value of a data property, and there is no reason to prefer the accessor property over the data property. But as a more interesting example, consider the following object that represents a 2D Cartesian point. It has ordinary data properties to represent the x and y coordinates of the point, and it has accessor properties that give the equivalent polar coordinates of the point:</p>
<blockquote>
<p>ä¸Šé¢å®šä¹‰çš„å­˜å‚¨å™¨æ–¹æ³•åªéœ€è·å–å¹¶è®¾ç½®æ•°æ®å±æ€§çš„å€¼ï¼Œæ²¡æœ‰ç†ç”±å°†å­˜å‚¨å™¨å±æ€§æ›¿æ¢æ•°æ®å±æ€§ã€‚ä½†ä½œä¸ºä¸€ä¸ªæ›´æœ‰è¶£çš„ç¤ºä¾‹ï¼Œè¯·è€ƒè™‘ä»¥ä¸‹è¡¨ç¤º 2D ç¬›å¡å°”ç‚¹çš„å¯¹è±¡ã€‚å®ƒå…·æœ‰è¡¨ç¤ºç‚¹çš„ x å’Œ y åæ ‡çš„æ™®é€šæ•°æ®å±æ€§ï¼Œå¹¶ä¸”å…·æœ‰æä¾›ç‚¹ç­‰æ•ˆæåæ ‡çš„å­˜å‚¨å™¨å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> p = &#123;</span><br><span class="line">    <span class="comment">// x and y are regular read-write data properties.</span></span><br><span class="line">    <span class="attr">x</span>: <span class="number">1.0</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="number">1.0</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// r is a read-write accessor property with getter and setter.</span></span><br><span class="line">    <span class="comment">// Don&#x27;t forget to put a comma after accessor methods.</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">r</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>); &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">r</span>(<span class="params">newvalue</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> oldvalue = <span class="title class_">Math</span>.<span class="title function_">hypot</span>(<span class="variable language_">this</span>.<span class="property">x</span>, <span class="variable language_">this</span>.<span class="property">y</span>);</span><br><span class="line">        <span class="keyword">let</span> ratio = newvalue/oldvalue;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">x</span> *= ratio;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">y</span> *= ratio;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// theta is a read-only accessor property with getter only.</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">theta</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">atan2</span>(<span class="variable language_">this</span>.<span class="property">y</span>, <span class="variable language_">this</span>.<span class="property">x</span>); &#125;</span><br><span class="line">&#125;;</span><br><span class="line">p.<span class="property">r</span>     <span class="comment">// =&gt; Math.SQRT2</span></span><br><span class="line">p.<span class="property">theta</span> <span class="comment">// =&gt; Math.PI / 4</span></span><br></pre></td></tr></table></figure>
<p>Note the use of the keyword this in the getters and setter in this example. JavaScript invokes these functions as methods of the object on which they are defined, which means that within the body of the function, this refers to the point object p. So the getter method for the r property can refer to the x and y properties as this.x and this.y. Methods and the this keyword are covered in more detail in Â§8.2.2.</p>
<blockquote>
<p>è¯·æ³¨æ„ï¼Œåœ¨æœ¬ç¤ºä¾‹ä¸­çš„ getter å’Œ setter ä¸­ä½¿ç”¨ this å…³é”®å­—ã€‚JavaScript ä»¥å¯¹è±¡çš„æ–¹æ³•çš„æ–¹å¼è°ƒç”¨è¿™äº›å‡½æ•°ï¼Œè¿™æ„å‘³ç€åœ¨å‡½æ•°ä½“ä¸­ï¼Œthis æŒ‡çš„æ˜¯ç‚¹å¯¹è±¡ pã€‚å› æ­¤ï¼Œr å±æ€§çš„ getter æ–¹æ³•é€šè¿‡ this.x å’Œ this.y è·å–åˆ° x å’Œ y å±æ€§çš„å¼•ç”¨ã€‚æ–¹æ³•ä»¥åŠ this å…³é”®å­—åœ¨ Â§8.2.2 ä¸­è¯¦ç»†ä»‹ç»ã€‚</p>
</blockquote>
<p>Accessor properties are inherited, just as data properties are, so you can use the object p defined above as a prototype for other points. You can give the new objects their own x and y properties, and theyâ€™ll inherit the r and theta properties:</p>
<blockquote>
<p>å­˜å‚¨å™¨å±æ€§æ˜¯å¯ç»§æ‰¿çš„ï¼Œå°±åƒæ•°æ®å±æ€§ä¸€æ ·ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„å¯¹è±¡ p ä½œä¸ºå…¶ä»–ç‚¹çš„åŸå‹ã€‚å¯ä»¥ä¸ºæ–°å¯¹è±¡æä¾›è‡ªæœ‰çš„ x å’Œ y å±æ€§ï¼Œå®ƒä»¬å°†ç»§æ‰¿ r å’Œ theta å±æ€§ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> q = <span class="title class_">Object</span>.<span class="title function_">create</span>(p); <span class="comment">// A new object that inherits getters and setters</span></span><br><span class="line">q.<span class="property">x</span> = <span class="number">3</span>; q.<span class="property">y</span> = <span class="number">4</span>;         <span class="comment">// Create q&#x27;s own data properties</span></span><br><span class="line">q.<span class="property">r</span>                       <span class="comment">// =&gt; 5: the inherited accessor properties work</span></span><br><span class="line">q.<span class="property">theta</span>                   <span class="comment">// =&gt; Math.atan2(4, 3)</span></span><br></pre></td></tr></table></figure>
<p>The code above uses accessor properties to define an API that provides two representations (Cartesian coordinates and polar coordinates) of a single set of data. Other reasons to use accessor properties include sanity checking of property writes and returning different values on each property read:</p>
<blockquote>
<p>ä¸Šè¿°ä»£ç ä½¿ç”¨å­˜å‚¨å™¨å±æ€§å®šä¹‰ä¸€ä¸ª APIï¼Œè¯¥ API æä¾›ä¸€ç»„æ•°æ®çš„ä¸¤ç§è¡¨ç¤ºå½¢å¼ï¼ˆç¬›å¡å°”åæ ‡å’Œæåæ ‡ï¼‰ã€‚ä½¿ç”¨å­˜å‚¨å™¨å±æ€§çš„å…¶ä»–åœºæ™¯åŒ…æ‹¬å±æ€§å†™å…¥çš„ç¨³å¥æ€§æ£€æµ‹ä»¥åŠåœ¨æ¯ä¸ªå±æ€§ä¸Šè¿”å›ä¸åŒçš„å€¼ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This object generates strictly increasing serial numbers</span></span><br><span class="line"><span class="keyword">const</span> serialnum = &#123;</span><br><span class="line">    <span class="comment">// This data property holds the next serial number.</span></span><br><span class="line">    <span class="comment">// The _ in the property name hints that it is for internal use only.</span></span><br><span class="line">    <span class="attr">_n</span>: <span class="number">0</span>,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Return the current value and increment it</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">next</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">_n</span>++; &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set a new value of n, but only if it is larger than current</span></span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">next</span>(<span class="params">n</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (n &gt; <span class="variable language_">this</span>.<span class="property">_n</span>) <span class="variable language_">this</span>.<span class="property">_n</span> = n;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;serial number can only be set to a larger value&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">serialnum.<span class="property">next</span> = <span class="number">10</span>;    <span class="comment">// Set the starting serial number</span></span><br><span class="line">serialnum.<span class="property">next</span>          <span class="comment">// =&gt; 10</span></span><br><span class="line">serialnum.<span class="property">next</span>          <span class="comment">// =&gt; 11: different value each time we get next</span></span><br></pre></td></tr></table></figure>
<p>Finally, here is one more example that uses a getter method to implement a property with â€œmagicalâ€ behavior:</p>
<blockquote>
<p>æœ€åï¼Œä¸‹é¢æ˜¯ä½¿ç”¨ getter æ–¹æ³•å®ç°å…·æœ‰â€é­”å¹»â€è¡Œä¸ºçš„å±æ€§çš„ç¤ºä¾‹ï¼š</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This object has accessor properties that return random numbers.</span></span><br><span class="line"><span class="comment">// The expression &quot;random.octet&quot;, for example, yields a random number</span></span><br><span class="line"><span class="comment">// between 0 and 255 each time it is evaluated.</span></span><br><span class="line"><span class="keyword">const</span> random = &#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">octet</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">256</span>); &#125;,</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">uint16</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">65536</span>); &#125;,</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">int16</span>() &#123; <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*<span class="number">65536</span>)-<span class="number">32768</span>; &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="6-11-Summary"><a href="#6-11-Summary" class="headerlink" title="6.11 Summary"></a>6.11 Summary</h2><p>This chapter has documented JavaScript objects in great detail, covering topics that include:</p>
<p>Basic object terminology, including the meaning of terms like enumerable and own property.</p>
<p>Object literal syntax, including the many new features in ES6 and later.</p>
<p>How to read, write, delete, enumerate, and check for the presence of the properties of an object.</p>
<p>How prototype-based inheritance works in JavaScript and how to create an object that inherits from another object with Object.create().</p>
<p>How to copy properties from one object into another with Object.assign().</p>
<p>All JavaScript values that are not primitive values are objects. This includes both arrays and functions, which are the topics of the next two chapters.</p>
<blockquote>
<p>æœ¬ç« éå¸¸è¯¦ç»†åœ°è®°å½•äº† JavaScript å¯¹è±¡ï¼Œæ¶µç›–çš„ä¸»é¢˜åŒ…æ‹¬ï¼š</p>
</blockquote>
<blockquote>
<p>åŸºæœ¬å¯¹è±¡æœ¯è¯­ï¼ŒåŒ…æ‹¬å¯æšä¸¾å’Œè‡ªæœ‰å±æ€§ç­‰æœ¯è¯­çš„å«ä¹‰ã€‚</p>
</blockquote>
<blockquote>
<p>å¯¹è±¡å­—é¢é‡è¯­æ³•ï¼ŒåŒ…æ‹¬ ES6 åŠä»¥åçš„è®¸å¤šæ–°ç‰¹æ€§ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚ä½•è¯»å–ã€å†™å…¥ã€åˆ é™¤ã€æšä¸¾å’Œæ£€æŸ¥å¯¹è±¡å±æ€§æ˜¯å¦å­˜åœ¨ã€‚</p>
</blockquote>
<blockquote>
<p>åŸºäºåŸå‹çš„ç»§æ‰¿æ˜¯å¦‚ä½•åœ¨ JavaScript ä¸­å·¥ä½œï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ Object.create() åˆ›å»ºä¸€ä¸ªä»å¦ä¸€ä¸ªå¯¹è±¡ç»§æ‰¿çš„å¯¹è±¡ã€‚</p>
</blockquote>
<blockquote>
<p>å¦‚ä½•ä½¿ç”¨ Object.assign() å°†å±æ€§ä»ä¸€ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>
</blockquote>
<blockquote>
<p>æ‰€æœ‰ JavaScript çš„éåŸå§‹å€¼éƒ½æ˜¯å¯¹è±¡ã€‚è¿™åŒ…æ‹¬æ•°ç»„å’Œå‡½æ•°ï¼Œè¿™æ˜¯æ¥ä¸‹æ¥ä¸¤ç« çš„ä¸»é¢˜ã€‚</p>
</blockquote>
<hr>
<ol>
<li>Remember; almost all objects have a prototype but most do not have a property named prototype. JavaScript inheritance works even if you canâ€™t access the prototype object directly. But see Â§14.3 if you want to learn how to do that.</li>
</ol>
<blockquote>
<ol>
<li>è®°ä½ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹ï¼Œä½†å¤§å¤šæ•°å¯¹è±¡æ²¡æœ‰åä¸º prototype çš„å±æ€§ã€‚å³ä½¿ä¸èƒ½ç›´æ¥è®¿é—®åŸå‹å¯¹è±¡ï¼ŒJavaScript ç»§æ‰¿ä¾ç„¶å·¥ä½œã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³å­¦ä¹ å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œè¯·å‚é˜… Â§14.3ã€‚</li>
</ol>
</blockquote>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">Jack hou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/">åŸåˆ›</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/')">ç¬¬6ç«  å¯¹è±¡</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="èµèµä½œè€…"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>æ‰“èµä½œè€…</div><div class="reward-main"><div class="reward-all"><span class="reward-title">æ„Ÿè°¢ä½ èµäºˆæˆ‘å‰è¿›çš„åŠ›é‡</span><ul class="reward-group"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">èµèµè€…åå•</div><div class="reward-dec">å› ä¸ºä½ ä»¬çš„æ”¯æŒè®©æˆ‘æ„è¯†åˆ°å†™æ–‡ç« çš„ä»·å€¼ğŸ™</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/" data-pjax-state=""><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>è¿è¥æ¨¡å¼ä¸è´£ä»»</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=ç¬¬6ç«  å¯¹è±¡&amp;url=http://www.houyanbin.com/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch6/&amp;pic=https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="http://www.houyanbin.com" target="_blank">Jackhou Blog</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>ã€ŠJavaScriptæƒå¨æŒ‡å—ã€‹<span class="tagsPageCount">17</span></a><a class="post-meta__box__tags" href="/tags/JavaScript/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>JavaScript<span class="tagsPageCount">17</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch7/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ç¬¬7ç«  æ•°ç»„</div></div></a></div><div class="next-post pull-right"><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch5/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover5.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ç¬¬5ç«  è¯­å¥</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch1/" title="ç¬¬1ç«  JavaScript æ¦‚è¿°"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬1ç«  JavaScript æ¦‚è¿°</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch12/" title="ç¬¬12ç«  è¿­ä»£å™¨å’Œç”Ÿæˆå™¨"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬12ç«  è¿­ä»£å™¨å’Œç”Ÿæˆå™¨</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch10/" title="ç¬¬10ç«  æ¨¡å—"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover10.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬10ç«  æ¨¡å—</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch14/" title="ç¬¬14ç«  å…ƒç¼–ç¨‹"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬14ç«  å…ƒç¼–ç¨‹</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch11/" title="ç¬¬11ç«  JavaScript æ ‡å‡†åº“"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬11ç«  JavaScript æ ‡å‡†åº“</div></div></a></div><div><a href="/2023/04/26/Books/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/ch13/" title="ç¬¬13ç«  å¼‚æ­¥ JavaScript"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-26</div><div class="title">ç¬¬13ç«  å¼‚æ­¥ JavaScript</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> è¯„è®º</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">åŒ¿åè¯„è®º</a></div><div class="comment-tips" id="comment-tips"><span>âœ… ä½ æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¯„è®ºä»¥è·å–æœ€ä½³å±•ç¤ºæ•ˆæœ</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-top" title="ç‚¹å‡»å±•å¼€"><div class="card-info-avatar"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div></div></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">Hiï¼Œè¿™æ˜¯æˆ‘çš„åšå®¢ç½‘ç«™ï¼Œæ¬¢è¿ä½ èƒ½åˆ°è®¿~</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">æˆ‘ä¼šåœ¨è¿™é‡Œåˆ†äº«æˆ‘çš„<b style="color:#fff">æŠ€æœ¯çŸ¥è¯†</b>ã€<b style="color:#fff">æ—¥å¸¸ç”Ÿæ´»</b>å’Œ<b style="color:#fff">äººç”Ÿç»éªŒã€‚</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Jack hou</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Hou-yanbin" target="_blank" title="Github"><i class="fab fa-github faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/478589474" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=jackhou921@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wxgzh1.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#6-1-Introduction-to-Objects"><span class="toc-text">6.1 Introduction to Objects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-2-Creating-Objects"><span class="toc-text">6.2 Creating Objects</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-1-Object-Literals"><span class="toc-text">6.2.1 Object Literals</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-2-Creating-Objects-with-new"><span class="toc-text">6.2.2 Creating Objects with new</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-3-Prototypes"><span class="toc-text">6.2.3 Prototypes</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-4-Object-create"><span class="toc-text">6.2.4 Object.create()</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-3-Querying-and-Setting-Properties"><span class="toc-text">6.3 Querying and Setting Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-1-Objects-As-Associative-Arrays"><span class="toc-text">6.3.1 Objects As Associative Arrays</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-2-Inheritance"><span class="toc-text">6.3.2 Inheritance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-3-Property-Access-Errors"><span class="toc-text">6.3.3 Property Access Errors</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-4-Deleting-Properties"><span class="toc-text">6.4 Deleting Properties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-5-Testing-Properties"><span class="toc-text">6.5 Testing Properties</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-6-Enumerating-Properties"><span class="toc-text">6.6 Enumerating Properties</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-1-Property-Enumeration-Order"><span class="toc-text">6.6.1 Property Enumeration Order</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-7-Extending-Objects"><span class="toc-text">6.7 Extending Objects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-8-Serializing-Objects"><span class="toc-text">6.8 Serializing Objects</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-9-Object-Methods"><span class="toc-text">6.9 Object Methods</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-1-The-toString-Method"><span class="toc-text">6.9.1 The toString() Method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-2-The-toLocaleString-Method"><span class="toc-text">6.9.2 The toLocaleString() Method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-3-The-valueOf-Method"><span class="toc-text">6.9.3 The valueOf() Method</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-9-4-The-toJSON-Method"><span class="toc-text">6.9.4 The toJSON() Method</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-10-Extended-Object-Literal-Syntax"><span class="toc-text">6.10 Extended Object Literal Syntax</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-1-Shorthand-Properties"><span class="toc-text">6.10.1 Shorthand Properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-2-Computed-Property-Names"><span class="toc-text">6.10.2 Computed Property Names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-3-Symbols-as-Property-Names"><span class="toc-text">6.10.3 Symbols as Property Names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-4-Spread-Operator"><span class="toc-text">6.10.4 Spread Operator</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-5-Shorthand-Methods"><span class="toc-text">6.10.5 Shorthand Methods</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-10-6-Property-Getters-and-Setters"><span class="toc-text">6.10.6 Property Getters and Setters</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-11-Summary"><span class="toc-text">6.11 Summary</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/09/22/%E5%8C%BF%E5%90%8D/test/" title="test"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="test"/></a><div class="content"><a class="title" href="/2023/09/22/%E5%8C%BF%E5%90%8D/test/" title="test">test</a><time datetime="2023-09-21T16:00:00.000Z" title="å‘è¡¨äº 2023-09-22 00:00:00">2023-09-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ"/></a><div class="content"><a class="title" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ">åšæƒ…äººçœŸçš„æ²¡æœ‰å¥½ä¸‹åœºå—ï¼Ÿ</a><time datetime="2023-08-14T16:00:00.000Z" title="å‘è¡¨äº 2023-08-15 00:00:00">2023-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="ä¸çˆ±å‰è¡Œ"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ä¸çˆ±å‰è¡Œ"/></a><div class="content"><a class="title" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="ä¸çˆ±å‰è¡Œ">ä¸çˆ±å‰è¡Œ</a><time datetime="2023-07-29T16:00:00.000Z" title="å‘è¡¨äº 2023-07-30 00:00:00">2023-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="ç§Ÿæˆ¿æ—¶å…‰"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç§Ÿæˆ¿æ—¶å…‰"/></a><div class="content"><a class="title" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="ç§Ÿæˆ¿æ—¶å…‰">ç§Ÿæˆ¿æ—¶å…‰</a><time datetime="2023-07-21T16:00:00.000Z" title="å‘è¡¨äº 2023-07-22 00:00:00">2023-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="æ•…å®«è®°"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æ•…å®«è®°"/></a><div class="content"><a class="title" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="æ•…å®«è®°">æ•…å®«è®°</a><time datetime="2023-06-10T16:00:00.000Z" title="å‘è¡¨äº 2023-06-11 00:00:00">2023-06-11</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg" alt="è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~" title="è·ç¦»æœˆå…¥25kä¹Ÿå°±è¿˜å·®ä¸€ä¸ªå¤§ä½¬å¸¦æˆ‘~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 By Jack hou </div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://houyanbin.com" title="ä¸»é¢˜">ä¸»é¢˜</a></div></div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">59</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">11</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å‹é“¾</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> å‹äººå¸</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> ç•™è¨€æ¿</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> è¿½ç•ªé¡µ</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæœ¬äºº</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><a id="switch_commentBarrage" href="javascript:anzhiyu.switchCommentBarrage();" title="å¼€å…³å¼¹å¹•"><i class="anzhiyufont anzhiyu-icon-danmu"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">æ’­æ”¾éŸ³ä¹</a><div id="console-music-bg"></div><meting-js id="8868465080" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">æœç´¢</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  æ•°æ®åº“åŠ è½½ä¸­</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8868465080&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.3.1/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("4/15/2023 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ¬¢è¿ä½¿ç”¨å®‰çŸ¥é±¼!`,
    `ç”Ÿæ´»æ˜æœ—, ä¸‡ç‰©å¯çˆ±`,
    `
        
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•
        
        `,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2023 By å®‰çŸ¥é±¼ V1.5.3",
  ];
  const ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `Photo captured: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c âš¡ Powered by å®‰çŸ¥é±¼ %c ä½ æ­£åœ¨è®¿é—® Jack hou çš„åšå®¢.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("4/15/2023 00:00:00"); //è®¾ç½®ç½‘ç«™ä¸Šçº¿æ—¶é—´
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // è®¡ç®—å¹¶æ›´æ–°å¤©æ•°ã€å°æ—¶æ•°ã€åˆ†é’Ÿæ•°å’Œç§’æ•°
  function updateTime() {
    now = new Date(); // æ›´æ–° now çš„å€¼
    nowHour = now.getHours(); // æ›´æ–° nowHour çš„å€¼
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // æ›´æ–°ç½‘é¡µä¸­æ˜¾ç¤ºçš„ç½‘ç«™è¿è¡Œæ—¶é—´
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // å¦‚æœæ˜¯ä¸Šç­æ—¶é—´ï¼Œé»˜è®¤å°±æ˜¯"å®‰çŸ¥é±¼-ä¸Šç­æ‘¸é±¼ä¸­.svg"å›¾ç‰‡ï¼Œä¸éœ€è¦æ›´æ”¹
      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // å¦‚æœæ˜¯ä¸‹ç­æ—¶é—´ï¼Œæ’å…¥"å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg"å›¾ç‰‡
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/å®‰çŸ¥é±¼-ä¸‹ç­å•¦.svg";
      img.title = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";
      img.alt = "ä¸‹ç­äº†å°±è¯¥å¼€å¼€å¿ƒå¿ƒçš„ç©è€ï¼Œå˜¿å˜¿~";

      currentTimeHtml = `æœ¬ç«™å±…ç„¶è¿è¡Œäº† ${dnum} å¤©<span id='runtime'> ${hnum} å°æ—¶ ${mnum} åˆ† ${snum} ç§’ </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(()=>{
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      onCommentLoaded: function () {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(function (res) {
      countELement.innerText = res[0].count
    }).catch(function (err) {
      console.error(err);
    });
  }

  const runFn = () => {
    init();
    
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') {
      setTimeout(runFn,0)
      return
    } 
    getScript('https://cdn.cbd.int/twikoo@1.6.17/dist/twikoo.all.min.js').then(runFn)
  }
  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else loadTwikoo()
  } else {
    window.loadOtherComment = () => {
      loadTwikoo()
    }
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[å›¾ç‰‡]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[é“¾æ¥]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[ä»£ç ]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.houyanbin.com/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.innerHTML= "æ— æ³•è·å–è¯„è®ºï¼Œè¯·ç¡®è®¤ç›¸å…³é…ç½®æ˜¯å¦æ­£ç¡®"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.17/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick}</span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += 'æ²¡æœ‰è¯„è®º'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anzhiy.cn";</script><script>//åŠ¨æ€æ ‡é¢˜
let leaveTitle = 'w(ï¾ŸĞ”ï¾Ÿ)w ä¸è¦èµ°ï¼å†çœ‹çœ‹å˜›ï¼';
let backTitle = 'â™ª(^âˆ‡^*)æ¬¢è¿è‚¥æ¥ï¼';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = backTitle + OriginTitile
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// åˆå§‹åŒ–å‡½æ•°
let rm = {};

//ç¦æ­¢å›¾ç‰‡ä¸è¶…é“¾æ¥æ‹–æ‹½
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// æ˜¾ç¤ºèœå•
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// éšè—èœå•
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// å°ºå¯¸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// é‡æ–°å®šä¹‰å°ºå¯¸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // è·å–å®½åº¦å’Œé«˜åº¦
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// è·å–ç‚¹å‡»çš„href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š
    let pageY = event.clientY;

    //å…¶ä»–é¢å¤–èœå•
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–é ä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// ç›‘å¬å³é”®åˆå§‹åŒ–
window.oncontextmenu = oncontextmenuFunction

// ä¸‹è½½å›¾ç‰‡çŠ¶æ€
rm.downloadimging = false;

// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿
rm.writeClipImg = function (imgsrc) {
  console.log("æŒ‰ä¸‹å¤åˆ¶");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// è¯»å–å‰ªåˆ‡æ¿
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//ç²˜è´´æ–‡æœ¬
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//å¼•ç”¨åˆ°è¯„è®º
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "å¥½æ£’ï¼";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//æ›¿æ¢æ‰€æœ‰å†…å®¹
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// ç™¾åº¦æœç´¢
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ç™¾åº¦æœç´¢", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//åˆ†äº«é“¾æ¥
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("å·²å¤åˆ¶é“¾æ¥åœ°å€");
};

function addRightMenuClickEvent() {
  // æ·»åŠ ç‚¹å‡»äº‹ä»¶
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //éŸ³ä¹
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// å·²éšæœºçš„æ­Œæ›²
var selectRandomSong = [];
// éŸ³ä¹é»˜è®¤å£°éŸ³å¤§å°
var musicVolume = 0.8;
// æ˜¯å¦åˆ‡æ¢äº†å‘¨æ°ä¼¦éŸ³ä¹åˆ—è¡¨
var changeMusicListFlag = false;
// å½“å‰é»˜è®¤æ’­æ”¾åˆ—è¡¨
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | Jackhou Blog")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {if (typeof addFriendLinksInFooter === "function") {addFriendLinksInFooter();}}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>