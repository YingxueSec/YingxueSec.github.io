<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>信息收集道道之外网信息收集 | Jackhou Blog</title><meta name="keywords" content="安全,攻防"><meta name="author" content="Jack hou"><meta name="copyright" content="Jack hou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="信息收集道道之外网信息收集"><meta name="application-name" content="信息收集道道之外网信息收集"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="信息收集道道之外网信息收集"><meta property="og:url" content="http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.html"><meta property="og:site_name" content="Jackhou Blog"><meta property="og:description" content="从个人的角度去简单整理下打点前的信息收集那些事。从信息收集本质上来说多数内容都是大同小异，遇到坚壁时，不用死磕，毕竟条条大路通罗马。（大佬们也可以说说看法~ 向各位大佬学习！！） 想要构建一个 “上帝视野”，前期的信息收集工作是必不可少的，无论是了解一个人、一项业务、还是深入一个系统等，都需要"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg"><meta property="article:author" content="Jack hou"><meta property="article:tag" content="Jackhou, blog"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg"><meta name="description" content="从个人的角度去简单整理下打点前的信息收集那些事。从信息收集本质上来说多数内容都是大同小异，遇到坚壁时，不用死磕，毕竟条条大路通罗马。（大佬们也可以说说看法~ 向各位大佬学习！！） 想要构建一个 “上帝视野”，前期的信息收集工作是必不可少的，无论是了解一个人、一项业务、还是深入一个系统等，都需要"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"><link rel="preconnect" href="//cdn.cbd.int"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="https://npm.elemecdn.com/hexo-butterfly-tag-plugins-plus@1.0.17/lib/assets/font-awesome-animation.min.css"><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"w(ﾟДﾟ)w 不要走！再看看嘛！","backTitle":"♪(^∇^*)欢迎肥来！"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: 'https://twikoo.houyanbin.com/',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: {"apiurl":null},
  navMusic: true,
  mainTone: undefined,
  authorStatus: undefined,
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    simplehomepage: false,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Jack hou","link":"链接: ","source":"来源: Jackhou Blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: 'Jackhou Blog',
  title: '信息收集道道之外网信息收集',
  postAI: '',
  pageFillDescription: '0x00 常用工具、资源简记：, 0x01 主域名信息, 1. ICP 备案, 备案信息查询：, 备案反查主域名, 2. Whois, 3. IP 反查, 如何查询, 4. HOST 碰撞, 5. DNS 共享记录, 关于 DNS, 利用价值, 手法, 6. Google, 7. 配置信息, 8. 众测, 9. 企业资产信息, 股权投资信息, 公众号信息, 小程序, 应用信息, 关于工具, 0x02 子域名信息, 1. 枚举爆破, 手法介绍, 关于泛解析, 枚举爆破常用工具：, 关于字典, 2. DNS 域传送, 检测方法：, nslookup, Dig, 其他, 3. 证书透明度收集子域, 收集方法：, 在线查询：, 浏览器查询, 工具：, 4. 公开数据集, 5. 第三方聚合服务, 6. 搜索引擎, 介绍, 搜索方法：, 主流搜索引擎, Goolge：, 网络空间引擎, , , , , 其他, 7. 工具自动化, OneForAll, subfinder, ksubdomain, JSINFO-SCAN, URLFinder, Layer 子域名挖掘机, ESD, EyeWitness, 0x03 IP 信息收集, 1. 绕过 CDN 获取真实 ip, 简述, 常见 CDN 服务商, CDN 判断, 0x01 多 ping, 0x02 nslookup, 0x03 header 头信息, 0x04 在线检测工具, 获取真实 IP, 0x01 dns 历史绑定记录, 0x02 网络空间测绘搜索引擎, 0x03 子域名, 0x04 异地 ping, 0x05 SSL 证书, 在线：, 命令行, 工具：, 0x06 敏感文件泄露, 0x07 CDN 配置问题, 0x08 漏洞, 0x09 邮件头信息, 0x10 vhost 碰撞, 0x11 应用程序, 0x12 通过 F5 LTM 解码, 0x13 其他, 真实 ip 验证：, cdn 节点判断, 真实 IP 使用：, 2. 组织 IP 段, 3. C 段, C 段主要收集点：, 扫描常用工具：, 网络空间搜索引擎（fofa、quake…), nmap, msscan, Goby, shuize, fscan, ALLin, 4. 旁站（ip 反查域名）, 常见查询方法：, 5. 端口, 端口渗透思路表, 6. IP 定位, 0x04 指纹信息, 1. CMS, 开发语言识别思路, 服务器系统识别思路, CMS 识别思路, 特定文件的 MD5, 页面关键字, 请求头信息关键字, url 关键字, 在线平台, 工具, 浏览器插件, 2. WAF, 手工, 工具, 3. 组件, 4. 信息处理, Ehole, AlliN, Bufferfly, HKTools, EyeWitness, anew(去重), 0x05 敏感信息, 1. 目录结构及敏感文件, 常见敏感目录及文件, 工具推荐, , , , 字典推荐, , , , 2. JS 信息收集, JS 信息查找方法, 1. 手工, 2. 半自动, 3. 工具：, 4. 其他辅助工具, 历史界面, 反混肴, url 采集, js 中关键信息简记, 3. Google Hacking, 说明, hacking 常用语法, 管理后台地址, 上传类漏洞地址, 注入页面, 编辑器页面, 目录遍历漏洞, SQL 错误, 公开文件泄露, 邮箱信息, 社工信息, tips：, 百度语法, 图片反查, 百度识图、googleimage、tineye 等识图引擎, 从图片原图获取坐标, 在线查看器, 经纬度转地址, 4. Github 信息收集, Github 搜索语法, 收集工具, GitDorker, trufflehog, 其他检索方法：, 代码仓库在线搜索平台, pinatahub, searchcode, 其他仓库, 5. 邮箱信息收集, 邮箱入口查找方法, C 段扫描寻找入口, 通过子域名扫描寻找入口, 通过搜索引擎寻找入口, 邮箱收集方法, 搜索引擎, Google Hacking, 网络空间搜索引擎, 在线收集平台, , , , , , 爱企查、企查查等批量查询, 邮箱泄露信息查询, 其他, 工具收集, , 验证邮箱, 在线平台, 工具, 邮箱爆破, 常用字典组合, 工具, 临时邮箱, 匿名邮箱, 6. 网盘信息收集, 在线平台, 搜索关键词, 爬虫, 0x06 其他信息, 1. APP, App 查找入口, 搜索引擎, 在线聚合平台, App 敏感信息收集, 手工收集, 工具推荐：, 2. OSINT, 情报相关资源, OSINT 情报工具, 3. 个人隐私信息, 从邮箱查询, 从用户名查询, 从 IP 查询, 混合查询, 从注册信息查询, 4. 历史漏洞, 5. 蜜罐识别从个人的角度去简单整理下打点前的信息收集那些事从信息收集本质上来说多数内容都是大同小异遇到坚壁时不用死磕毕竟条条大路通罗马大佬们也可以说说看法向各位大佬学习想要构建一个上帝视野前期的信息收集工作是必不可少的无论是了解一个人一项业务还是深入一个系统等都需要信息大佬曾说过渗透测试的本质是信息收集而个人直观感受就是意料之外情理之中本文就简单整理下打点前的信息收集那些事从信息收集本质上来说多数内容都是大同小异遇到坚壁时不用死磕毕竟条条大路通罗马红队知识点大致流程外网信息收集打点权限维持提权内网信息收集横向移动痕迹清理打点关键资产数据信息找出网站真实挖掘相邻网段绕过安全设备判断目标是否为蜜罐定位内网和系统定位关键的应用系统定位关键企业信息对于外网信息收集主要有几点域名企业等资产信息以及相应端口服务指纹敏感信息社工碰撞等易受攻击面信息挂代理池走负载均衡防止被锁确定目标后析缕分条找到突破及利用点关于打点时隐匿攻击前虚拟机做全局代理浏览器隐私模式或脚本账号啥的非本人攻击后常用工具资源简记工具网站备注爱站站长工具备案号权重公司名称等天眼查企查查搜狗搜索引擎公司注册域名微信公众号软件著作权等网络空间资产搜索引擎备案主域名收集的开源数据项目子域名收集灯塔自动化批量信息收集资产处理信息筛选相关微步段域名情报信息端口服务信息站点信息接口等识别云悉潮汐在线识别七麦小蓝本资产敏感信息乌云漏洞库历史漏洞历史资产等个人隐私信息资产信息源码泄露邮箱信息收集开源情报和侦擦工具开源情报资源导航蜜罐识别主域名信息域名用来代替使其更容易被用户找到记住对于非用户来说可通过域名信息获取主域名存活站点关联信息钓鱼信息为漏洞挖掘提供数据支撑备案国内服务器线上运营都必须先办理备案后才能上线备案信息查询备案查询公安部备案查询备案反查主域名反查可分为备案域名查询和未备案域名查询备案域名查询第三方站点备案查询站长工具综合查询公安部备案查询企业信息查询网站未备案域名查询已知网站信息获取如网站站点导航可能会包含未备案的站点网络空间引擎进行证书图标关联搜索例如指定搜索规则即表示只返回域名个人感觉国外国内是用来查询域名的以及所有者等信息的传输协议通过信息可以获取注册人的关键信息如注册商联系人联系邮箱联系电话也可以对注册人邮箱电话反查域名也可以通过搜索引擎进一步挖掘域名所有人的信息深入可社工可漏洞挖掘利用站长之家国外网站域名信息查询腾讯云狗狗查询部分查询存在隐藏信息可以在其他站点查询主要还是注册商注册人邮件解析服务器注册人联系电话由于要求所有域名注册商必须对域名隐私信息进行保护所以信息越来越少但还是会存在一些域名系统是旧缓存数据反查目标可能存在多个域名绑定于同一上通过反查可以获取到其他域名信息比如旁站通过获取目标真实后进行反查的旁站更真实查询站点需复杂性单一的站点会有反查不出信息的可能大型企业不同的站点收录可能不一样个人推荐个不同站点反查如何查询在线查询网站同网站查询同服务器网站查询站长工具或域名查询搜索引擎碰撞信息收集过程中往往会因为配置错误或是未及时回收等原因存在一些隐形资产直接访问的话会出现访问限制的问题如下访问响应多为各种意义不明的提示等域名解析后到内网地址有服务器真实但找不到内网域名究其原因大多数是因为中间件对访问做限制不能通过直接访问必须使用域名进行访问如果域名解析记录里也找不到域名记录这时就可以用到碰撞技术通过将域名和进行捆绑碰撞一旦匹配到后端代理服务器上的域名绑定配置就可以访问到对应的业务系统从而发现隐形资产手法使用收集到的目标爬虫或自定义的内部域名内网池作为字典通过脚本进行碰撞脚本会自动模拟绑定与进行请求交互通过标题或响应大小判断结果只要字典够强大总能出一两个爆破时最好也试下部分主机会使用的验证结果只需修改本机文件绑定与后看访问变化自动化灯塔水泽共享记录关于域名服务器是进行域名和与之相对应的地址转换的服务器中保存了一张域名和与之相对应的地址的表以解析消息的域名即保存了地址和域名的相互映射关系域名是上某一台计算机或计算机组的名称用于在数据传输时标识计算机的电子方位有时也指地理位置域名是由一串用点分隔的名字组成的通常包含组织名而且始终包括两到三个字母的后缀以指明组织的类型或该域所在的国家或地区也正是因为的存在访问相应服务只需记住域名不需要记住无规则的地址服务器端口常用记录记录类型说明记录将域名指向一个地址外网地址记录将域名指向另一个域名再由另一个域名提供地址外网地址记录电子邮件交换记录记录一个邮件域名对应的地址设置邮箱让邮箱能收到邮件记录域名服务器记录记录该域名由哪台域名服务器解析如将子域名交给其他服务商解析记录将域名指向一个地址记录用来标识某台服务器使用了某个服务常见于微软系统的目录管理记录对域名进行标识和说明绝大多数的记录是用来做记录反垃圾邮件利用价值可以通过查询共享服务器的主机来获取到相关的域名一般多是用于自建服务器如果是公开的服务器那么查询的效果将会特别差手法查询目标是否存在自建的服务器将获取到的服务器带入进行查询直接搜索目标相关关键内容来查询比如公司名备案引用的特殊等搜索引擎很多这里以为例配置信息由于信息泄露问题某些配置或文件会存储一些目标相关的域名如子域名代码托管平台等一般来说存储信息有限且不应公网存在此类文件策略文件域名信息问题如文件通常域名直接拼接路径文件站点地图文件常见如路径策略配置方面如内容安全策略这是一种声明的安全机制可以让网站运营者能够控制遵循的用户代理通常是浏览器的行为通过控制要启用哪些功能以及从哪里下载内容可以减少网站的攻击面的主要目的是防御跨站点脚本攻击例如可以完全禁止内联的并且控制外部代码从哪里加载它也可以禁止动态代码执行禁用了所有的攻击源攻击变得更加困难中的关键字有和其中可能会存在域名信息关键点的属性众测补天漏洞银行先知等众测的广商提供的域名测试范围比如企业资产信息通过企业名称拓展查询目标企业的组织架构股权信息股权穿透图子公司孙公司对外投资等目标信息获取其产品业务域名邮箱资产范围等扩大攻击面大概企业资产收集点如下企业数据邮箱收集邮箱查询企业架构画像直属单位机构设置供应商相关合同人员系统软件等合作商等业务信息证券快递专用网院校等人员数据如统计职责部门人员历史泄露密码浏览习性等设备信息常用密码部门设备信息等入口网络安全设备等统计内部使用的代码托管平台等管理平台监控平台等服务器域名资产股权投资信息一般要求持股或者持股都可以算测试目标天眼查企查查钉钉企典公众号信息搜狗搜索引擎企查查小程序企查查微信支付宝应用信息天眼查七麦数据企查查小蓝本点点数据豌豆荚方便获取历史版本关于工具由狼组安全团队的师傅写的专门用来解决企业信息收集难的问题的工具可以一键收集目标及其控股公司的备案小程序微信公众号等信息然后聚合导出子域名信息子域名一般是父级域名的下一级一般企业主站域名的防护都是重点安全级别较高突破难度较大而企业可能会有数十个甚至更多的子域名应用因为数量众多安全因素和成本投入多相应的防护也没有那么及时有效子域名往往是攻击突破口通过子域名发现更多的可能性或是进行迂回攻击子域名信息点子域名包含一些常见资产类型办公系统邮箱系统论坛商城等而其他管理系统网站管理后台等较少出现在子域名中一般情况下相同类型漏洞可能存在同一组织的不同的域名应用程序中子域名系统维护成本用户群体等一般少于主域名会存在一些版本迭代配置不安全弱密码账号管理策略等子域名探测发现更多的服务增加漏洞发现的可能性枚举爆破手法介绍要说简单粗暴还是子域名枚举爆破通过不断的拼接字典中的子域名前缀去枚举域名的记录进行解析如果成功解析说明子域名存在如拼接前缀组合成再对其进行验证但是域名如果使用泛解析的话则会导致所有的域名都能成功解析使得子域名枚举变得不精准验证下泛解析域名成功解析不存在的域名普通解析不存在的域名解析会失败泛解析使用通配符来匹配所有的子域名从而实现所有的子级域名均指向相同网站空间会存在域名劫持域名恶意泛解析风险会主站被降权可能被恶意利用占用大量流量关于恶意解析混合泛解析在泛解析的基础上增加一个限制使记录可以按照需求进行分类关于泛解析那么域名使用了泛解析怎么去解决呢一般有两种黑名单通过获取一个不存在的子域名相应解析来记录标记黑名单再爆破字典时解析到的在这个黑名单中则跳过不存在就继续处理或是记录相同的保留一到两个在权威中泛解析记录的肯定是相同的如果子域名记录相同但不同那这条记录可以说肯定不是泛解析记录响应内容牺牲速度先获取一个绝对不存在域名的响应内容再遍历获取每个字典对应的子域名的响应内容通过和不存在域名的内容做相似度比对来枚举子域名枚举爆破常用工具在线查询速度不错子域备案都可以查其他子域名挖掘机可视化取决于字典强度易上手就是容易崩溃老牌爆破工具稳定快速暂不支持批量怼泛解析超过个域名指向同一则此后发现的其他指向该的域名将被丢弃该方法可能存在误删但简单有效收集姿势挺全的就是依赖多一直再更新怼泛解析会首先访问一个随机的并不存在的域通过返回结果判断是否存在泛解析确定存在泛解析以后程序会开始不断的循环产生随机域名去向服务器查询将每次查询到的和记录下来直到大部分的地址出现次数都大于两次则黑名单的收集结束在得到了黑名单以后接下来会将自己的字典中的每一项和要指定查询的域名进行拼接在爆破过程中根据黑名单进行过滤但这种宽泛的过滤容易导致漏报所以将也作为黑名单规则的一部分评判的依据是在权威中泛解析记录的肯定是相同的如果子域名记录相同但不同那这条记录可以说肯定不是泛解析记录支持查询速度快结果一般绕过泛解析收集方法多爆破速度极快接口少怼泛解析基于文本相似度过滤泛解析域名无状态的子域名爆破工具支持重放速度不错结合其他工具一键子域名搜集验证高级版效率可以联动很舒服关于字典字典这块引用下服务商的字典一般来说最准确有效如公布的使用最多的子域名普通字典一些基础组合单字母大都喜欢短一点的域名单字符的最为常见单字母单数字双字母大都喜欢业务的首字母缩写双字母单数字双字母双数字三字母部分业务名称为三个字四字母部分业务名称为四个字单数字双数字三数字常用词组常见的中英文词组中英中英中英爆破工具的字典可结合整理过的字典域传送服务器分为主服务器备份服务器和缓存服务器在主备服务器之间同步数据库需要使用域传送的一种事务域传送是指备份服务器从主服务器上复制数据然后更新自身的数据库以达到数据同步的目的这样是为了增加冗余一旦主服务器出现问题可直接让备份服务器做好支撑工作若配置不当可能导致匿名用户获取某个域的所有记录造成整个网络的拓扑结构泄露给潜在的攻击者包括一些安全性较低的内部主机如测试服务器凭借这份网络蓝图攻击者可以节省很少的扫描时间错误配置只要收到请求就进行域传送刷新数据检测方法是类型的一种类型是的缩写指请求传送某个区域的全部记录只要欺骗服务器发送一个请求过去如果该服务器上存在该漏洞就会返回所有的解析记录值查询指定列举域名信息命令参数设定查询将要使用的服务器命令列出某个域中的所有域名无法列出域不存在此漏洞找到服务器发送请求其他库一般情况下服务器配置都正常关闭了域传送或设置白名单利用率低推荐交给自动化证书透明度收集子域证书透明度是谷歌力推的一项拟在确保证书系统安全的透明审查技术其目标是提供一个开放的审计和监控系统可以让任何域名的所有者确定证书是否被错误签发或恶意使用的缺点是你的浏览器隐性包含了一个大型受信任列表如果任何这些恶意为域创建新证书则你的浏览器都会信任它为证书信任提供了额外的安全保障即公司可以监控谁为他们拥有的域创建了证书此外它还允许浏览器验证给定域的证书是否在公共日志记录中的证书透明度项目因为证书透明性是开放架构可以检测由证书颁发机构错误颁发的证书也可以识别恶意颁发证书的证书颁发机构且任何人都可以构建或访问证书又包含了域名子域名邮箱等敏感信息价值就不言而喻了收集方法一般使用日志搜索引擎进行域名信息收集因为是日志收集只增不减可能会有一些失效域名在线查询需要登录每小时免费查次浏览器查询点击浏览器网站小锁安全连接更多信息查看证书查看主题替代名称处有时候会有主域名和子域名信息工具公开数据集利用已有公开的全网扫描数据集对子域名信息进行收集的开源数据项目收集方法命令进行快速查找第三方聚合服务通过第三方平台提供的一些服务快速发现子域名信息会运行复制功能通过存储用户访问时执行的解析来构建数据库域名查域名解析查询网站反查域名反查网站同一网站同网站域名查询需要高级权限子域名查询站长工具需要登录其他工具搜索引擎介绍搜索引擎是用于查找和排名与用户搜索匹配的内容的工具搜索引擎通过蜘蛛对全网进行大量爬行并处理后建立索引索引是将抓取页面中的信息添加到叫做搜索索引的大型数据库中在此期间往往收集了大量的域名信息需要对应的语法即可从这数据库中获取想要的信息搜索方法主流搜索引擎一份国外调查表俗称大法有十几种语法混合使用可以更加准确地查找信息检索技巧大全搜索子域名信息搜索一个域名后台信息后台网络空间引擎是白帽汇推出的一款网络空间搜索引擎它通过进行网络空间测绘能够帮助研究人员或者企业迅速进行网络资产匹配例如进行漏洞影响范围分析应用分布统计应用流行度排名统计等逻辑连接符具体含义匹配时可查询不存在字段或者值为空的情况完全匹配时可查询存在且值为空的情况与或者不匹配时可查询值为空的情况正则语法匹配专用高级会员独有不支持确认查询优先级括号内容优先级最高目前支持了多个网络组件的指纹识别包括建站模块分享模块各种开发框架安全监测平台项目管理系统企业管理系统视频监控系统站长平台电商系统广告联盟前端库路由器证书服务器管理系统服务器等等详细信息见常用语法可通过查询语法功能获取例句点击可去搜索用途说明注例句点击可去搜索用途说明注从标题中搜索北京从头中搜索从正文中搜索搜索根域名带有的网站搜索使用此的资产仅限高级会员使用从中搜索搜索要用作为名称查找对应端口的资产从中搜索包含的网站搜索要用作为名称查询为的网段资产查询服务器状态为的资产查询协议资产搜索指定协议类型在开启端口扫描的情况下有效搜索指定城市的资产搜索指定行政区的资产搜索指定国家编码的资产搜索证书或者等中带有的资产搜索协议中带有文本的资产搜索所有协议资产支持和两种搜索所有协议资产搜索资产搜索服务器视频监控搜索海康威视设备时间范围段搜索搜索指定的资产搜索指定组织的资产搜索指定协议的资产搜索的资产搜索的资产只接受和搜索域名的资产搜索域名的资产只接受和搜索同时开放和端口的搜索同时开放和端口的资产以为单位的资产数据查询开放端口数量等于的资产仅限会员使用查询开放端口数量大于的资产仅限会员使用查询开放端口数量小于的资产仅限会员使用搜索中国的资产以为单位的资产数据搜索中国的资产搜索指定行政区的资产以为单位的资产数据搜索指定行政区的资产搜索指定城市的资产以为单位的资产数据搜索指定城市的资产搜索以后的资产以为单位的资产数据搜索以后的资产搜索以前的资产以为单位的资产数据搜索以前的资产基础了解后可以试试规则专题官方有提供相应的指纹组件查找包含数据库专题工控专题和区块链专题也可以自己提交查询致远互联系统是一个搜索接入互联网的设备的搜索引擎年由约翰马瑟利发布学生会员可以每个月下载条数据黑五可能会有优惠价格侧重于主机设备规则列表它是一个免费的外部攻击面管理平台供红蓝队使用为防御者提供攻击者视角下的企业外部攻击面数据减少攻防信息差以促进企业攻击面的收敛和管理语法参考搜索企业名称示例需要会员才能获取企业黄页可查看此公司下匹配到的信息系统移动端应用敏感目录邮箱文档代码人员信息数据这个功能定向查找单位资产非常方便好用不同于该平台做了收录信息归纳感觉还不错使用参考全球鹰是奇安信的一款产品通过网络空间测绘技术全球鹰测绘平台可以提供域名开放端口应用组件所属企业等关键安全信息同时结合攻防场景绘制了资产画像与画像实现互联网资产的可查可定位操作可识别的检索助力企业日常的安全运营工作例如未知资产发现风险识别漏洞修复等目前全球鹰网络空间测绘平台已有亿独立资产剔除历史重复数据总数超过亿已实现全端口覆盖在全球我们已覆盖了个国家域国内资产最快天更新最慢天更新语法参考其他还有一些不错的检索平台就不一一介绍可以去官网瞧瞧语法和规则这块这块还是用得多没会员没法爽玩谛听知风关于搜索引擎详细可以参考下网络空间检索平台对比零零信安攻击面管理系统企业信息泄露情报平台盘点一下在渗透测试中可能用到的网络搜索引擎工具自动化总的来说信息收集有很多重复性查询筛选手工相对费时费力因此可以借助半自动化工具来达到事半功倍的效果解决大多传统子域名收集工具不够强大不够友好缺少维护和效率问题的痛点是一款集百家之长功能强大的全面快速子域收集终极神器是一个子域发现工具它通过使用被动在线资源来发现网站的有效子域它具有简单的模块化架构并针对速度进行了优化是为只做一件事而构建的被动子域枚举它做得很好是一款基于无状态子域名爆破工具支持在上使用它会很快的进行爆破在和上理论最大发包速度在上为的速度递归爬取域名以及递归从中获取信息的工具是一款用于快速提取检测页面中与的工具功能类似于但好久没更新了子域名挖掘机子域名挖掘机是一款子域名收集工具拥有简洁的界面和简单的操作模式支持服务接口查询和暴力枚举获取子域名信息同时可以通过已获取的域名进行递归爆破支持泛解析功能较全的枚举子域工具可自动查询对应网站的截图服务服务器以及一些服务器甚至是可识别的默认凭据等最终会生成一个详细的报告信息收集通过或域名获取到一些基本信息端口服务架构目录等后也可以通过段目标扩大攻击面也有可能找到一些未分配的边缘资产绕过获取真实简述是信息探测或打点必不可绕过的一个话题当目标使用了加速获取到的目标不一定是真实所以通常在实施端口漏扫等测试之前需判断下是否真实是否使用了或其他代理等等避免无效操作蜜罐非目标点的全称是即内容分发网络其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节使内容传输的更快更稳定通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络系统能够实时地根据网络流量和各节点的连接负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上其目的是使用户可就近取得所需内容解决网络拥挤的状况提高用户访问网站的响应速度常见服务商一国内服务商阿里云百度云七牛云又拍云腾讯云网宿科技帝联科技二国外服务商判断确定加速解析后那就要考虑如何绕过来获取真实以进一步攻击利用多通过多地目标域名如果没有使用只会显示一个地址或者双线接入情况的两个不同运营商多在线站点如图不同地区访问有不同一般存在获取到的域名解析结果中返回多个的一般都是存在服务头信息请求响应包头中是否存在服务商信息报错信息若或者网站返回头的不是而是则多半使用了反向代理到在线检测工具获取真实历史绑定记录查询域名历史解析记录可能会存在未使用之前的真实记录判断存在利用微步查询获取历史记录然后将每个都测试一篇通过源代码获取确定真实网络空间测绘搜索引擎网络空间测绘一般都会定时把全网资产扫一遍存在数据库里通过网络空间测绘搜索引擎搜索其收录的目标相关信息有概率获取到目标真实大概从以下几个关键因素去搜索验证域名等静态特征值通过获取指纹哈希特征搜索其相同的主机结果进一步探测真实未找到子域名考虑到成本问题一些重要站点会采用加速而一些子域名则没有使用一般情况下一些子域名与主站的真实在同一段或同一台服务器上这时就可以通过发现子域名段端口信息逐个探测定位主站真实地址常见查找方法和工具各大搜索引擎微步在线异地部分国内广商只做了国内的线路而没有铺设对国外的线路这时就可以通过海外解析直接获取到真实可以使用证书证书颁发机构必须将他们发布的每个证书发布到公共日志中证书通常包含域名子域名和电子邮件地址因此可以利用证书来发现目标站点的真实地址在提供保护的同时也会与服务器之间进行加密通信当通过服端口去访问服务器或域名时就会暴露其证书也就可以通过证书比对发现服务器的真实地址在线通过进行快速证书查询收集引擎搜索引擎能够扫描整个互联网每天都会扫描地址空间以搜索所有联网设备并收集相关的信息可以利用进行全网方面的证书搜索找到匹配的真实通过引擎搜索证书信息发现多个有效或无效的证书并不是有效的证书才是有价值的无效的证书中也会有很多服务器配置错误依然保留着的信息精准定位有效证书逐个打开根据签名反查主机无果命令行工具项目地址使用来自的全网扫描数据查找背后网站的源服务器敏感文件泄露包括但不限于服务器日志文件探针文件例如网站备份压缩文件配置问题某些站点只做了到上导致和是两条独立的解析记录所以可以通过直接域名获取到未加入的真实同理协议和协议配置也是有可能出现这种问题漏洞网站本身存在一些漏洞时如命令执行等通过带外服务器地址注入使服务器主动连接被动获取连接记录部分本身功能如采集远程图片编辑器问题等异常信息调式信息等都有可能泄露真实或内网的报错变量邮件头信息一般邮件系统都在内部没有经过解析通过邮件发送订阅等功能去获取到服务器与邮箱系统交互的邮件源码在源文件头信息或者源代码中就会包含服务器真实但需注意该是否第三方邮件服务器如腾讯企业邮件阿里企业邮箱一般只有应用与网站在同一服务器上时才获取到当前服务器的真实常见交互功能点订阅邮箱注册激活处邮箱找回密码处产品更新的邮件推送某业务执行后发送的邮件通知员工邮箱邮件管理平台等入口处的忘记密码可以通过查记录确定下是否第三方邮件服务器当然这里这个邮箱很明显了大佬分享的奇淫技巧通过发送邮件给一个不存在的邮箱地址比如因为该用户不存在所以发送将失败并且还会收到一个包含发送该电子邮件给你的服务器的真实通知导出的邮件可以用编辑器打开查看其内容碰撞只要字典够强大数据够多通过和子域的碰撞总会有所收获在线工具应用程序一些小程序会直接采用进行通信交互也可以通过一些历史版本探测真实通过解码一般常用的负载均衡实现方式基于的会话保持基于的会话保持如的复制机制基于四层的负载端口是将所有的应用请求分配到多个节点服务器上提高业务的处理能力也就是负载均衡也就是公司旗下的一种负载均衡方案当服务器使用做负载均衡时通过对关键字的解码可以获取服务器真实地址例如基于会话保持情况在获取到客户端第一次请求时会使用头给客户端标记一个特定的后续客户端请求时都会去校验中得字段判断交给那个服务器处理那么就可以利用此机制获取处理服务器的地址大概率也是网站服务器真实具体解法如下先把第一小节的十进制数即取出来将其转为十六进制数接着从后至前取四个字节出来最后依次转为十进制数即是服务器的真实地址一般来说基本都是内网但也有例外得看部署情况无意间找到一个自动化解码工具其他扫全网流量攻击对不设防的发起大量访问导致出错或服务器更换时可能会泄露真实长期关注定期访问记录变化业务变更或架构调整可能会有更换服务器更换的情况流量包问题部分开发者会将真实记录到一些响应头或者响应包中绕过当目标地址放在标头如头中时可通过抓包将协议改为并将请求中除第一行外的所有数据删掉再发送请求有机会再相应包中头获取到真实地址更多方法可以参考大佬的总结渗透测试中最全的绕过总结真实验证节点判断对于一些节点可以使用阿里云的节点判断验证找到的是否为节点真实使用通过修改文件将域名和绑定如使用测试可以在中增加域名和记录通过源代码获取确定真实使用表明这是真实如果是真则返回网站源代码如果是假则返回信息组织段当目标信息比较笼统时可以通过地址注册信息查询运营商给目标组织所分配的段信息继而对这个段进行测试这样既可以扩大范围也有可能直接找到后的真实服务器地址注册信息查询系统数据库以阿里为例收集组织对应信息段一般都是扫段为主段为辅通过获取同在一个段的同类型网站或业务来扩大攻击面往往同段中会存在一些后台相关处理服务等段主要收集点端口容器类型扫描常用工具网络空间搜索引擎手工扫描都是实时的相比空间搜索引擎较精准些工具强大速度有待优化六种扫描结果开放的被过滤的开放或者被过滤的关闭的关闭或者被过滤的未被过滤的常用命令输出详细信息越多信息越详细上线个扫描时不用扫描所有端口个如果不使用将仅扫描个端口参数不可用不做解析设置时间模板部分做了扫描时间优化默认未作优化加速扫描又保持一定准确性扫描全端口并调用各种脚本快速扫描常见端口并调用各种脚本速度快精确度有待优化缝合怪资产扫描利器支持图像化方便快捷可自定义漏扫信息收集一键化漏洞检验旁站反查域名一个服务器上存在多个站点可通过查询相应站点再从相应站点进一步突破获取服务器权限常见查询方法在线平台网络空间搜索引擎等工具批量查询对应域名备案信息百度权重水泽端口确定真实后就可以进行端口扫描比较常见的就是和了相比多了速度的优势可以快速扫描全端口扫描可以结合空间引擎结果发现更多目标端口大批量扫描时建议云上挂代理池进行查看端口出现频率扫描出的端口可以用去确认工具可参考段章节端口渗透思路表引用下某大佬的端口渗透思路表可以学习学习下端口服务渗透用途允许匿名的上传下载爆破嗅探提权远程执行各类后门可根据已搜集到的信息尝试爆破版本可中间人隧道及内网代理转发文件传输等等爆破嗅探一般常用于路由交换登陆可尝试弱口令邮件伪造查询邮件用户信息可使用工具来自动跑允许区域传送劫持缓存投毒欺骗以及各种基于隧道的远控尝试下载目标及其的各类重要配置文件各种常用的服务端口可尝试经典的目标各类控制台各类服务器管理面板各类中间件漏洞利用各类框架漏洞利用等等可尝试爆破嗅探权限配置不当可尝试爆破以及自身的各种远程执行类漏洞利用如嗅探等可尝试爆破爆破默认团队字符串搜集目标内网信息注入允许匿名访问弱口令可爆破登陆匿名访问文件上传想办法钓账号进内网弱口令信息泄漏爆破注入提权弱口令爆破爆破注入弹弱口令爆破想办法钓账号进内网弱口令未授权访问默认密码弱口令弱口令注入提权爆破后门需要以下的系统爆破泄露未授权访问弱口令爆破注入爆破注入弱口令弱口令爆破未授权导致的任意指令执行可尝试未授权访问弱口令爆破反序列化弱口令主机面板登录弱口令协议漏洞弱口令远程执行注入反序列化控制台弱口令反序列化弱口令远程执行未授权访问爆破未授权访问默认端口未授权访问端口号端口说明渗透思路文件传输协议爆破内网嗅探远程连接用户名枚举爆破远程连接爆破内网嗅探邮件服务邮件伪造域名系统域传送缓存投毒欺骗利用隧道技术刺透防火墙未授权访问通过工具直接连入服务心脏滴血目标服务远程代码执行服务未授权访问反序列化远程命令执行漏洞邮件服务爆破弱口令信息泄漏源代码注入弱口令爆破提权注入爆破配置不当服务未授权访问注入爆破写提权爆破后门远程代码执行控制台爆破控制台弱口令认证绕过数据库爆破注入爆破弱口令高权限执行系统命令服务爆破弱口令爆破弱口令认证绕过未授权访问爆破弱口令中间件反序列化控制台弱口令部署包远程命令执行漏洞工具反序列化控制台弱口令未授权任意文件写入反序列化远程命令执行控制台控制台弱口令远程代码执行服务远程代码执行未授权访问目标未授权访问爆破弱口令远程代码执行未授权访问端口号服务渗透思路爆破嗅探溢出后门远程连接爆破漏洞远程连接爆破嗅探弱口令邮件服务邮件伪造域名解析系统域传送劫持缓存投毒欺骗服务劫持欺骗爆破嗅探服务爆破未授权访问远程命令执行协议爆破协议爆破搜集目标内网信息目录访问协议注入未授权访问弱口令端口溢出服务爆破登陆服务文件上传未授权访问爆破邮件服务爆破信息泄漏爆破注入弱口令爆破注入爆破反弹服务配置不当服务未授权访问未授权访问爆破注入远程桌面链接爆破后门控制台爆破认证绕过数据库爆破注入提权爆破注入缓冲区溢出服务抓密码代码执行爆破认证绕过数据库未授权访问爆破反序列化控制台弱口令应用漏洞心脏滴血服务远程命令执行注入弱口令写文件爆破文件上传反序列化未授权访问远程命令执行控制台爆破反序列化弱口令远程代码执行未授权访问未授权访问爆破端口号服务渗透思路爆破嗅探溢出后门爆破嗅探溢出后门爆破嗅探邮件伪造区域传输劫持缓存投毒欺骗深度利用利用隧道技术刺透防火墙劫持欺骗劫持欺骗爆破爆破未授权访问远程代码执行爆破爆破注入攻击未授权访问直接使用直接使用直接使用未授权访问宝塔主机管理后台默认帐户默认密码护卫神佩带的管理后台默认帐户默认密码爆破进行内网渗透爆破弱口令信息泄露源代码爆破使用系统用户登录注入攻击爆破注入攻击配置不当未授权访问爆破拒绝服务注入爆破后门爆破控制台弱口令认证绕过爆破注入缓冲区溢出注入攻击爆破弱口令拒绝服务代码执行爆破弱口令认证绕过爆破弱口令认证绕过爆破弱口令认证绕过未授权访问爆破弱口令反序列化控制台弱口令控制台部署反序列化控制台弱口令控制台部署常见攻击控制台爆破对应服务器版本漏洞常见攻击控制台爆破对应服务器版本漏洞常见攻击控制台爆破对应服务器版本漏洞漏洞远程命令执行文件泄露爆破控制台弱口令反序列未授权访问远程代码执行未授权访问远程代码执行未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问爆破未授权访问服务器虚拟主机管理系统爆破未授权访问未授权访问弱口令爆破检测是否有等溢出主机管理系统登陆国外用较多主机管理系统登陆国外用较多虚拟主机管理系统登陆国外用较多路由路由代理默认端口如果没设置口令很可能就直接漫游内网了主机管理系统登陆主机管理系统登陆参考借用新浪某服务成功漫游新浪内网参考未授权访问易导致网站被直接篡改或者作为代理进入内网主机控制面板登录主机管理系统国外用较多主机管理系统默认端口执行命令执行端口服务器数据库定位这里提供几个不错的溯源定位工具指纹信息通过关键特征去识别出目标指纹信息可以快速了解目标架构信息调整攻击方向常见指纹信息织梦帝国蝉知等前端技术等开发语言等服务器等应用服务器等操作系统信息等信息帝联网宿七牛云阿里云等信息创宇盾宝塔安全狗盾玄武盾等其他组件信息等协议办公已知目标后可以通过已知漏洞匹配利用如果是开源就可以进行审计精准发现问题点开发语言识别思路通过爬虫获取动态链接然后进行正则匹配判断头中信息特征信息如包含说明是包含说明是包含说明是服务器系统识别思路通过命令根据回显中的值来判断是还是但值可被修改精准度不高默认是是页面回显报错回显头等站点泄露的系统信息识别思路特定文件的一般来说网站的特定图标等静态文件不会去修改通过爬虫对这些文件进行抓取并与规则库中值做对比如果一致就是同一这种情况不排除会出现二开导致的误报但速度较快页面关键字正则匹配关键字或报错信息判断如等报错页面请求头信息关键字通过匹配响应包中的信息来识别如字段特征信息特征关键字将中存在路由爬虫结果与规则库做对比分析来判断是否使用了某如默认存在目录织梦默认管理后台帝国常用目录常用目录常用目录在线平台数字观星云悉自从需要认证后就没有用过还认证失败工具御剑指纹识别轻量指纹识别椰树棱洞识别主要还是在于指纹库的维护和更新浏览器插件插件开源指纹库遇到就得对症下药总的来说识别分为两种手工和工具手工一般直接输入敏感字段触发拦截规则库就行如常见的拦截页面可以参考下某大佬总结的一图流工具的脚本组件一般通过异常报错常用路由常用头来获取组件版本配置等相关信息常见组件漏洞简记参考博客组件漏洞简记章信息处理对前期收集到的大量资产域名信息批量进行存活性架构服务等信息进行验证提取时可以用一些自动化工具筛选出有价值的数据从而提高漏洞发现效率是一款对资产中重点系统指纹识别的工具在红队作战中信息收集是必不可少的环节如何才能从大量的资产中提取有用的系统如旨在帮助红队人员在信息收集期间能够快速从段大量杂乱的资产中精准定位到易被攻击的系统从而实施进一步攻击一个辅助平常渗透测试项目或者攻防项目快速打点的综合工具由之前写的工具改名而来是一款轻便小巧快速全面的扫描工具多用于渗透前资产收集和渗透后内网横向渗透工具从项目上迭代了一些懒人功能比如提供扫描资产文件中可以写绝大部分的各种形式的链接并在此基础上可以添加任意端口和路径攻防资产处理小工具对攻防前的信息搜集到的大批量资产域名进行存活检测获取标题头语料提取常见端口检测简单中间识别去重等便于筛选有价值资产一款辅助安全研发在日常工作中渗透测试安全研究安全开发等工作的工具可自动查询对应网站的截图服务服务器以及一些服务器甚至是可识别的默认凭据等最终会生成一个详细的报告去重好用的去重对比工具敏感信息目录结构及敏感文件常见的敏感目录及文件会对渗透突破有着很大作用收集思路一般是爬虫采集递归扫描常见敏感目录及文件备份文件等代码仓库等敏感隐藏接口等站点配置文件等文件网站后台管理页面文件上传下载界面扫描核心主要在于字典价值页面可能会存在一些信息可以多下工具使用时善于关键字过滤将会减少一些误报工具推荐是一款使用编写的用于暴力破解目录的工具速度不错支持随机代理内容过滤用编写的快速简单递归的内容发现工具御剑目录扫描专业版字典推荐庞大的字典部分精准度不错可惜更新是的时候了模糊测试字典与一些主要包含弱口令暴力破解目录以及文件枚举漏洞字典运用于实战案例暴力枚举字典信息收集文件一般用于帮助网站执行某些功能存储着客户端代码可能会存在大量的敏感信息通过阅读分析可能会找到宝藏信息查找方法手工通过查看页面源代码信息找到后筛选特定信息但这种方法费时费力一般网站都会存在大量的文件还多数为混淆后的信息关键信息查找可以使用浏览器自带的全局搜索如通过来查框架路由半自动通过抓包拦截获取后使用脚本筛选比如专业版可以在下选中目标网站选中找到网站所有脚本内容也可以使用复制出选中脚本项目中所包含的链接粘贴下然后就可以手工验证信息价值有时候可以发现一些未授权敏感的接口或者一些仓库值等这种方法因为结合手工在一些深层目录架构中通过可以获取到一些工具跑不到的信息工具是一款用作快速在网站的文件中提取子域名的工具递归爬取域名以及递归从中获取信息的工具是一款用于快速提取检测页面中与的工具功能类似于但好久没更新了是基于插件开发的请求高亮标记与信息提取的辅助型框架式插件该插件可以通过自定义正则的方式匹配响应报文或请求报文并对满足正则匹配的报文进行信息高亮与提取如匹配敏感信息提取页面中的链接信息等是一种工具可帮助您检测代码中的秘密和密码功能模式允许使用源代码扫描本地目录以检测文件中的机密和密码结果可能以明文或格式返回其他辅助工具信息收集过程中文件不用仅限于当前网站版本网站的历史版本中也可能会存在一些未失效的关键信息历史界面会记录网站版本更迭可以获取到之前版本的网站不仅可以用于收集历史文件也有可能找到一些后来删除的敏感资产信息或者一些漏洞历史信息查找工具获取知道的域的所有收集历史文件通过收集到的列表需要进行存活检验避免误报可以使用命令或者工具进行检验最后在做提取即可反混肴对于存在混淆的代码需要进行反混淆美化下使其更易看懂这个小美化器将重新格式化和重新缩进书签丑陋的由的流行打包程序打包的解包脚本以及由包处理的部分去混淆脚本在线反混淆器和解包器采集一款专为安全扫描而生的浏览器爬虫获取网站头及指纹在线提取中关键信息简记密码密钥等硬编码隐藏的接口如后台业务测试某服务等可能会存在未授权注释信息注释为代码时可能会通过修改注释改变业务逻辑实现机制绕过如绕过登录绕过等打包静态资源后缀文件是中的一个新功能支持储存着各种接口信息而打包的信息很多都会放在文件中通过还原代码可能会找到一些未授权的接口相关处理工具如下子域名信息依赖或框架对于旧依赖或框架可以直接使用扫描相关漏洞作为一款全球通用的发达搜索引擎爬取的和收录的数据量也是庞大无比善用搜索引擎语法可以帮忙我们发现更多敏感信息说明指令用法示例引号用引号来查询一个确切的单词或短语查找有关百年孤独这本书的网页语法百年孤独或者用分隔搜索词同时执行两个搜索查询这将找到包含多个单词之一的页面搜索引用了或的页面语法减号连字符在单词或网站前使用连字符将其从搜索结果中排除从搜索结果中排除主机名语法使用搜索短语查找正文中包含这些单词的页面查找正文中有关投资讯息的页面语法投资使用搜索短语查找标题中包含这些单词的页面查找标题中同时包含和的页面语法使用搜索短语查找中包含这些单词的页面查找中同时包含的页面语法使用将搜索结果限制到特定网站查找云点网关于谷歌的页面语法谷歌波浪号使用波浪号获得目标关键词及其近似词的搜索结果查找方面的策略或者教程语法教程使用查找与特定网站类似的网站查找与云点类似的网站语法使用搜索短语查找其定义查找的定义语法使用查找特定价格的商品查找一款售价在美金的手机语法使用地点查看某个地区内的相关信息查询南京的酒店语法星号添加星号作为未知单词或事实的占位符查找以生活就像一个开头的引语语法生活就像一个使用后缀将结果限制为特定的文件格式如或查找格式的键盘快捷键相关文件语法键盘快捷键两点用两个句点分隔数字不带空格以搜索该范围内的数字查找年至年间发生的计算机里程碑语法计算机里程碑在两个搜索词之间加上以查找两个词间有特定距离的页面用数字设置术语之间的最大距离这对于查找两个搜索词之间的关系很有用查找在同一句话或段落中提到和的页面语法常用语法管理后台地址管理后台后台管理登陆登录用户名密码系统账号管理后台后台管理登陆登录上传类漏洞地址注入页面编辑器页面目录遍历漏洞错误配置文件泄露数据库文件泄露日志文件泄露备份和历史文件泄露公开文件泄露邮箱信息邮件社工信息账号密码工号学号身份证判断目标是否被黑过如寄生虫指定搜索发现多个垃圾数据大概率中招过黑帽劫持可搜索渗透特征痕迹如遗留执行命令接口黑页搜索常见的敏感文件路由发现其他人正在搜索的内容搜索结果别忘了快照信息搜索会追踪和地址想要隐私可以试试私密搜索代理访问其他搜索引擎内容秘迹搜索百度搜狗也是可以使用语法精确搜索但限于逻辑广告资源等多个因素经常不如但有时候结合又有不错的收获百度语法搜索特定网站的内容搜索网页标题的内容搜索网址中的内容可以用减号忽略掉关键词网页搜索关键不可拆分图片反查百度识图等识图引擎从图片原图获取坐标在线查看器改图宝图虫查看器我爱斗图库经纬度转地址查询网址查询网址地球在线库信息收集自从学会使用并在上面乱捣鼓找到一些站点账号或源码后就此走上不归路各种监控搞上又发现一些阿里简直是宝了搜索语法高级搜索高级搜索语法有着自己的搜索语法善用搜索语法能发现更多的有用信息一般来说搜索都是以域名备案路径网站技术支持等关键内容为主搜索包含和内容的代码一些工具中总结了一些常见的搜索语法搜索常用语法可以搜索到一些敏感的私钥一些登录私钥的数据库密码等等收集工具是一款自动信息收集工具它利用搜索和作者从各种来源编译的大量列表以提供给定搜索查询的上存储的敏感信息的概述是一款采用开发的工具它可以检索代码库的所有代码提交记录以及分支并搜索出可以表示密钥例如密钥的高熵字符串一般用来探测泄漏密钥的工具支持扫描的数据源包括文件系统文件和标准输入其他检索方法代码仓库在线搜索平台敏感信息搜索引擎有时候搜索查看不方便可以直接在这个网站搜索从等代码仓库里筛选了近亿行开源代码你能够使用文件扩展特定代码库名字正则表达式特殊字符等过滤器对源代码进行过滤以便搜到你想要的代码其他仓库邮箱信息收集有时候不仅是正面硬刚就可以的还需要迂回战术配合出击正如攻防中社工一样总会有一些意想不到的成果随着办公网络的发展邮箱也成为了常用的办公方式之一攻防也是从信息收集逐渐延伸到钓鱼上只要钓鱼技术好轻轻松松混入内部而要想社工钓鱼玩得溜邮件方面是一个重要的突破口邮箱建议做筛选把一些疑是网络管理员运维人员安全部门的人员提取出来单独发送或者不发由于这部分人员安全意识偏高容易打草惊蛇一般多针对非技术人员容易下手邮箱入口查找方法邮件服务器主要从端口和标识两个信息点去确认的邮件服务器常见端口邮件服务器常见邮箱登录邮件系统段扫描寻找入口获取到目标后从目标记录域名找到他的真实若是第三方邮件服务器记录就没啥参考价值了对获取到的真实这个段进行段扫描有时候也可以进行段扫描然后通过端口去确定邮件服务器信息段扫描方法可以参考上文段收集章节通过子域名扫描寻找入口主要通过一些子域名收集工具去确认如挖掘机等通过搜索引擎寻找入口战场主力也还是和网络空间搜索引擎邮箱网络空间搜索引擎阿里邮箱邮箱收集方法搜索引擎有时候一些仓库代码中也会存在邮箱信息一般都会有邮箱手机号等官方联系方式信息网络空间搜索引擎邮箱收集邮箱阿里在线收集平台基本都需要注册注册获取的信息比游客多好多有些还需要绑定手机号是一个集成了页面邮箱采集邮箱验证联系人管理邮件发送为一身的网站在只要输入一个域名就可以采集到该域名在以上平台中暴露的所有邮箱地址还支持批量读取强大的邮箱收集可单个收集也可以批量收集还支持调用免费版每月可以有条收集数量也就是信用该站点的插件更方便可让您在几秒钟内找到专业的电子邮件地址并与对您的业务重要的人建立联系打码信息需要注册绑定手机号后才能看到例举所有的域名邮件地址或者是所予域名的支持的通配符有亿条记录可以批量下载想要的域名是一个搜索引擎和数据存档通过电子邮件域名比特币地址等等查找数据泄露信息随便搜一下好像搜索出了一个泄露的邮箱数据库一款可查找公司和人员的电子邮件地址在线邮箱查找平台数据量较少准确度高大批量的需要购买爱企查企查查等批量查询如通过爱企查的爱番番寻宝客获取更多的联系方式如使用八爪鱼采集器进行批量查询邮箱泄露信息查询其他社工库其他社工库工具收集是自带的一款社会工程学工具默认集成了多个利用网络爬虫技术通过服务器等不同公开源整理收集能够收集用户名主机名子域名雇员开放端口和等信息参数详解显示帮助信息并退出要搜索的公司名称或域名采集特定数量的结果不指定情况下默认为从采集到的信息编号处开始执行采集默认从开始使用进行搜索一般情况下不用你懂的对信息采集的请求使用代理使用查询发现的主机对解析域的页面进行截图需指定截图文件存放目录截图保存目录通过解析主机名并搜索虚拟主机指定解析服务器执行扩展发现默认为状态检查接管启用服务器查找默认为状态进行域解析暴力破解指定输出文件名格式支持和指定采集信息的源常用参数指定搜索的域名或网址指定采集信息的源如指定采集信息的返回数量默认输出文件名并保存采集结果可以保存为或格式如果不指定采集信息仅作屏幕显示没有配置的时候结果较少验证邮箱收集到邮箱后就要对其进行存活性验证避免出现被弃用不可用的邮箱在线平台地址检查检测地址真实性检测电子邮件地址真实性查错网免费在线批量验证邮箱有效性电子邮箱验证工具在线验证邮箱真实性支持批量验证支持全部域名邮箱支持全部域名邮箱支持全部域名邮箱支持全部域名邮箱邮箱爆破弱口令爆破方式只适用于目标企业自己的邮件服务器如等对第三方邮箱不优先考虑常用字典组合员工名称拼音首字母员工名称拼音首字母日期公司简称年份员工名称公司名日期日期爆破字典工具爆破邮箱大概分为两种情况网页邮箱爆破等协议等邮箱端口爆破组织爆破工具等多数工具都自带邮箱相关端口默认端口默认端口默认端口临时邮箱所谓的十分钟邮箱类匿名邮箱网盘信息收集一些安全意识薄弱的人员对于上传到网盘上的资源未作加密限制或者密码泄露然后又被一些云盘爬虫给收集到最终导致信息泄露通过一些网盘引擎可以获取到其中的泄露信息在线平台凌风云蓝菊花大力盘猪猪盘盘飞飞由于网盘搜索工具的时效性可以通过搜索引擎去获取一些搜索关键词关键词一般以单位名称别称产品业务等爬虫百度网盘爬虫脚本搜索网盘搜索工具网盘有时候会存在一些简历信息泄露如手机号邮箱部门等其他信息通过获取配置数据包去获取等敏感信息查找入口搜索引擎网络空间搜索引擎在线聚合平台小蓝本七麦点点豌豆荚天眼查爱企查等应用商城敏感信息收集关联打算另写一篇手工收集一般是通过抓包收集接口数据或者逆向获取配置数据抓包可能会需要进行证书绕过绕过抓包限制等常用的软件简记相关强制走代理综合性安卓抓包逆向自动化脚本工具逆向可能会需要进行脱壳解码等常用软件简记幸运破解器核心破解午夜神大佬应用集筛选工具推荐一款适用于以行动红队渗透测试团队为场景的移动端静态网站信息收集扫描工具可以帮助渗透测试工程师攻击队成员红队成员快速收集到移动端或者静态站点中关键的资产信息并提供基本的信息输出如指纹信息状态信息等一键提取安卓应用中可能存在的敏感信息目前可提取内所有字符串所有所有可能是值的字符串存在的敏感词如可能是的值指开源情报一项从媒体网络博客视频等公开来源中进行信息收集提取的技术情报相关资源一款在线分享国内外资源和工具的网站一个关于数字隐私搜集保护清理集一体的方案外加开源信息收集对抗丁爸网微信公众号情报小蜜蜂专栏各种平台的一张图系列技巧合集讲述介绍各类技能的博客非常著名的框架有着非常丰富的资源情报工具在线使用的开源情报和取证工具清单在线的工具集合加上思维脑图跟踪社交媒体平台上的用户通过面部识别跟踪不同社交平台目标的工具可用于扫描地址电子邮件网站组织的工具个人隐私信息从邮箱查询你注册过哪些网站一搜便知信息查询工具从用户名查询实时搜索多个社交媒体网站的用户名测某账号是否在全球多个社交媒体中是否有注册搜索许多网站上存在的用户名查找可用的用户名在不同的社交网络上通过用户名搜寻账户从查询查你这个下载过哪些磁力链接混合查询找到用户名电子邮件地址或电话号码背后的人使用者通过输入的返回用户注册的所有互联网信息的公开数据查询平台银行卡号归属地查询友商发票查询库四件套等从注册信息查询历史漏洞历史漏洞库漏洞银行补天教育行业漏洞报告平台历史界面工具蜜罐识别通常将蜜罐定义为一种安全资源它不需要提供实际的应用蜜罐的存在价值就是诱导和记录攻击行为从而了解攻击者的入侵方法和手段并能够延缓其攻击进程进而根据捕获的攻击行为数据分析攻击者使用的攻击方法和工具从而让防御方针对性地增强系统的安全防护能力简单识别网络空间搜索引擎是一种工具用于检查所谓的蜜罐的和代理列表蜜罐是由试图通过使用这些虚假代理记录流量然后向其发送投诉的人运行的虚假代理蜜罐检测插件需要自己完善规则的蜜罐检测插件一款可以检测蜜罐并阻断请求的插件一个拦截识别蜜罐的扩展持续更新水泽信息收集自动化工具作者团队未来一段时间将陆续开源工具地址定位协助红队人员快速的信息收集测绘目标资产寻找薄弱点语言开发功能一条龙服务只需要输入根域名即可全方位收集相关资产并检测漏洞也可以输入多个域名段等具体案例见下文调用脚本借用了爆破子域名和收集邮箱感谢和作者资产侦察灯塔系统旨在快速侦察与目标关联的互联网资产构建基础资产信息库协助甲方安全团队或者渗透测试人员有效侦察和检索资产发现存在的薄弱点和攻击面由狼组安全团队的师傅写的专门用来解决企业信息收集难的问题的工具可以一键收集目标及其控股公司的备案小程序微信公众号等信息然后聚合导出一个用于暴力破解的工具网站中的目录和文件子域支持通配符目标服务器上的虚拟主机名打开存储桶是安全测试人员的伴侣它是安全评估期间使用的多种类型列表的集合收集在一个地方列表类型包括用户名密码敏感数据模式模糊测试负载等等目标是使安全测试人员能够将此存储库拉到一个新的测试框上并可以访问可能需要的每种类型的列表开源情报与侦察工具本机地址查询空间搜索引擎',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-05-29 15:20:42',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="/null"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="博客"><img class="back-menu-item-icon" src="/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Jackhou Blog</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索🔍" accesskey="s"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span> 搜索</span></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 1.05rem; color: rgb(119, 188, 186);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 1.05rem; color: rgb(113, 75, 65);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem; color: rgb(85, 46, 140);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem; color: rgb(195, 101, 175);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem; color: rgb(144, 178, 199);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem; color: rgb(18, 24, 56);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 1.05rem; color: rgb(32, 192, 110);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 1.05rem; color: rgb(43, 154, 118);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 1.05rem; color: rgb(101, 99, 75);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 1.05rem; color: rgb(91, 24, 32);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 1.05rem; color: rgb(160, 162, 80);">《JavaScript权威指南》<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 1.05rem; color: rgb(31, 146, 158);">匿名<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 1.05rem; color: rgb(117, 11, 21);">博客<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 1.05rem; color: rgb(163, 139, 156);">安全<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 1.05rem; color: rgb(5, 182, 73);">支付<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 1.05rem; color: rgb(162, 100, 74);">攻防<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 1.05rem; color: rgb(121, 17, 20);">旅行<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 1.05rem; color: rgb(34, 65, 156);">虚拟机<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 1.05rem; color: rgb(155, 79, 125);">越权<sup>2</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/08/"><span class="card-archive-list-date">八月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/07/"><span class="card-archive-list-date">七月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/05/"><span class="card-archive-list-date">五月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">5</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/04/"><span class="card-archive-list-date">四月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">37</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/03/"><span class="card-archive-list-date">三月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">12</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">技术</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AE%89%E5%85%A8/" itemprop="url">安全</a><i class="anzhiyufont anzhiyu-icon-angle-right post-meta-separator"></i><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AE%89%E5%85%A8/%E6%94%BB%E9%98%B2/" itemprop="url">攻防</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/%E5%AE%89%E5%85%A8/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>安全</span></a><a class="article-meta__tags" href="/tags/%E6%94%BB%E9%98%B2/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>攻防</span></a></span></div></div><h1 class="post-title" itemprop="name headline">信息收集道道之外网信息收集</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2023-05-28T16:00:00.000Z" title="发表于 2023-05-29 00:00:00">2023-05-29</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2023-05-29T07:20:42.000Z" title="更新于 2023-05-29 15:20:42">2023-05-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="信息收集道道之外网信息收集"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为长沙"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>长沙</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"><header><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/" itemprop="url">技术</a><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AE%89%E5%85%A8/" itemprop="url">安全</a><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF/%E5%AE%89%E5%85%A8/%E6%94%BB%E9%98%B2/" itemprop="url">攻防</a><a href="/tags/%E5%AE%89%E5%85%A8/" tabindex="-1" itemprop="url">安全</a><a href="/tags/%E6%94%BB%E9%98%B2/" tabindex="-1" itemprop="url">攻防</a><h1 id="CrawlerTitle" itemprop="name headline">信息收集道道之外网信息收集</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Jack hou</span><time itemprop="dateCreated datePublished" datetime="2023-05-28T16:00:00.000Z" title="发表于 2023-05-29 00:00:00">2023-05-29</time><time itemprop="dateCreated datePublished" datetime="2023-05-29T07:20:42.000Z" title="更新于 2023-05-29 15:20:42">2023-05-29</time></header><meta name="referrer" content="no-referrer"/>


<p>从个人的角度去简单整理下打点前的信息收集那些事。从信息收集本质上来说多数内容都是大同小异，遇到坚壁时，不用死磕，毕竟条条大路通罗马。（大佬们也可以说说看法~ 向各位大佬学习！！）</p>
<p>想要构建一个 “上帝视野”，前期的信息收集工作是必不可少的，无论是了解一个人、一项业务、还是深入一个系统等，都需要 “信息”。大佬曾说过，渗透测试的本质是信息收集，而个人直观感受就是 “意料之外，情理之中”。</p>
<p>本文就简单整理下打点前的信息收集那些事。从信息收集本质上来说多数内容都是大同小异，遇到坚壁时，不用死磕，毕竟条条大路通罗马。</p>
<blockquote>
<p><strong>红队知识点大致流程：</strong></p>
<p>外网信息收集——&gt; 打点——&gt; 权限维持——&gt; 提权——&gt; 内网信息收集——&gt; 横向移动——&gt; 痕迹清理</p>
<p><strong>打点关键资产数据信息：</strong></p>
<ul>
<li>找出网站真实 IP，挖掘相邻网段、绕过安全设备</li>
<li>判断目标是否为蜜罐</li>
<li>定位内网 IP 和系统</li>
<li>定位关键的应用系统</li>
<li>定位关键企业信息</li>
</ul>
</blockquote>
<p>对于外网信息收集主要有几点：ip、域名、企业等资产信息以及相应端口 &#x2F; 服务、指纹、敏感信息、社工碰撞等易受攻击面信息。</p>
<blockquote>
<p>tips：</p>
<ul>
<li><p>挂代理池，走负载均衡，防止被锁 IP。</p>
</li>
<li><p>确定目标后，析缕分条，找到突破及利用点。</p>
</li>
<li><p>关于打点时隐匿：</p>
<p>攻击前：虚拟机做全局代理、浏览器隐私模式或 Tor，脚本、账号啥的非本人</p>
<p>攻击后：Rootkit……</p>
</li>
</ul>
</blockquote>
<h2 id="0x00-常用工具、资源简记："><a href="#0x00-常用工具、资源简记：" class="headerlink" title="0x00 常用工具、资源简记："></a>0x00 常用工具、资源简记：</h2><table blockindex="8"><thead><tr><th>工具、网站</th><th>备注</th></tr></thead><tbody><tr><td><a target="_blank" rel="noopener" href="https://www.aizhan.com/">爱站</a>、<a target="_blank" rel="noopener" href="https://tool.chinaz.com/">站长工具</a></td><td>Whois、备案号、权重、公司名称等</td></tr><tr><td><a target="_blank" rel="noopener" href="https://www.tianyancha.com/">天眼查</a>、<a target="_blank" rel="noopener" href="https://www.qichacha.com/">企查查</a>、<a target="_blank" rel="noopener" href="https://wx.sogou.com/">搜狗搜索引擎</a></td><td>公司注册域名、微信公众号、APP、软件著作权等</td></tr><tr><td><a target="_blank" rel="noopener" href="https://www.zoomeye.org/">ZoomEye</a>、<a target="_blank" rel="noopener" href="https://shodan.io/">Shodan</a>、<a target="_blank" rel="noopener" href="https://fofa.so/">FOFA</a>、<a target="_blank" rel="noopener" href="https://0.zone/">0.Zone</a>、<a target="_blank" rel="noopener" href="https://quake.360.cn/quake/#/index">quake</a></td><td>网络空间资产搜索引擎</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/wgpsec/ENScan_GO">ENScanGo</a>、<a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">ICP 备案</a></td><td>主域名收集</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">OneForAll</a>、<a target="_blank" rel="noopener" href="https://github.com/euphrat1ca/LayerDomainFinder">Layer</a>、<a target="_blank" rel="noopener" href="https://opendata.rapid7.com/">Rapid7 的开源数据项目</a>、<a target="_blank" rel="noopener" href="https://github.com/UnaPibaGeek/ctfr">ctfr</a>、<a target="_blank" rel="noopener" href="https://github.com/FortyNorthSecurity/EyeWitness">EyeWitness</a></td><td>子域名收集</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/lcvvvv/kscan">Kscan</a>、<a target="_blank" rel="noopener" href="https://github.com/0x727/ShuiZe_0x727">ShuiZe_0x727</a>、<a target="_blank" rel="noopener" href="https://github.com/TophantTechnology/ARL">ARL 灯塔</a>、<a target="_blank" rel="noopener" href="https://gobies.org/">Goby</a></td><td>自动化、批量信息收集</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/dr0op/bufferfly">Bufferfly</a>、<a target="_blank" rel="noopener" href="https://github.com/EdgeSecurityTeam/EHole">Ehole</a></td><td>资产处理、信息筛选</td></tr><tr><td><a target="_blank" rel="noopener" href="https://dnsdb.io/zh-cn/">dnsdb</a>、<a target="_blank" rel="noopener" href="https://github.com/christophetd/CloudFlair">CloudFlair</a></td><td>CDN 相关</td></tr><tr><td><a target="_blank" rel="noopener" href="https://www.virustotal.com/">VirusTotal</a>、<a target="_blank" rel="noopener" href="https://x.threatbook.cn/">微步</a>、<a target="_blank" rel="noopener" href="https://github.com/Sma11New/ip2domain">ip2domain</a></td><td>C 段、域名 / ip 情报信息</td></tr><tr><td><a target="_blank" rel="noopener" href="https://nmap.org/">Nmap</a>、<a target="_blank" rel="noopener" href="https://github.com/robertdavidgraham/masscan">Masscan</a></td><td>端口服务信息</td></tr><tr><td>Google Hacking、<a target="_blank" rel="noopener" href="https://github.com/maurosoria/dirsearch">dirsearch</a>、<a target="_blank" rel="noopener" href="https://github.com/pingc0y/URLFinder">URLFinder</a></td><td>WEB 站点信息、api 接口等</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/EnableSecurity/wafw00f">wafw00f</a></td><td>waf 识别</td></tr><tr><td><a target="_blank" rel="noopener" href="http://www.yunsee.cn/">云悉</a>、<a target="_blank" rel="noopener" href="http://finger.tidesec.net/home/index/index.html">潮汐</a>、<a target="_blank" rel="noopener" href="https://www.whatweb.net/">WhatWeb</a></td><td>在线 CMS 识别</td></tr><tr><td><a target="_blank" rel="noopener" href="https://www.qimai.cn/">七麦</a>、<a target="_blank" rel="noopener" href="https://www.xiaolanben.com/pc">小蓝本</a></td><td>APP 资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/TheKingOfDuck/ApkAnalyser">ApkAnalyser</a></td><td>App 敏感信息</td></tr><tr><td><a target="_blank" rel="noopener" href="https://wy.zone.ci/">乌云漏洞库</a>、<a target="_blank" rel="noopener" href="http://www.cnnvd.org.cn/">CNVD</a>、<a target="_blank" rel="noopener" href="https://github.com/tomnomnom/waybackurls"><strong>waybackurls</strong></a></td><td>历史漏洞、历史资产等</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/n0tr00t/Sreg">n0tr00t/Sreg</a>、<a>reg007</a></td><td>个人隐私信息</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/obheda12/GitDorker">GitDorker</a></td><td>资产信息、源码泄露</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/laramies/theHarvester">theHarvester</a>、<a target="_blank" rel="noopener" href="https://app.snov.io/">Snov.io</a></td><td>邮箱信息收集</td></tr><tr><td><a target="_blank" rel="noopener" href="https://start.me/p/GE7JQb/osint">OSINT 开源情报和侦擦工具</a></td><td>开源情报资源导航</td></tr><tr><td><a target="_blank" rel="noopener" href="https://github.com/cnrstar/anti-honeypot">anti-honeypot</a>、<a target="_blank" rel="noopener" href="https://send-safe-honeypot-hunter.apponic.com/">Honeypot Hunter</a></td><td>蜜罐识别</td></tr></tbody></table>

<h2 id="0x01-主域名信息"><a href="#0x01-主域名信息" class="headerlink" title="0x01 主域名信息"></a>0x01 主域名信息</h2><blockquote>
<p>域名用来代替 IP 使其更容易被用户找到、记住。</p>
<p>对于 “非用户” 来说，可通过域名信息获取：主域名、存活站点、关联信息、钓鱼信息。为漏洞挖掘提供数据支撑。</p>
</blockquote>
<h3 id="1-ICP-备案"><a href="#1-ICP-备案" class="headerlink" title="1. ICP 备案"></a>1. ICP 备案</h3><blockquote>
<p>国内服务器线上运营都必须先办理 ICP 备案后才能上线。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456792.png"></p>
<h4 id="备案信息查询："><a href="#备案信息查询：" class="headerlink" title="备案信息查询："></a>备案信息查询：</h4><ul>
<li>ICP 备案查询</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">https://beian.miit.gov.cn/#/Integrated/index</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456793.png"></p>
<ul>
<li>公安部备案查询</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456794.png"></p>
<h4 id="备案反查主域名"><a href="#备案反查主域名" class="headerlink" title="备案反查主域名"></a>备案反查主域名</h4><p>反查可分为备案域名查询和未备案域名查询。</p>
<p><strong>备案域名查询</strong></p>
<ul>
<li><p>第三方站点</p>
<ul>
<li>ICP 备案查询 - 站长工具</li>
<li>SEO 综合查询</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456795.png"></p>
<ul>
<li>公安部备案查询</li>
<li>企业信息查询网站</li>
</ul>
<p><strong>未备案域名查询</strong></p>
<ul>
<li>已知网站信息获取（如，网站站点导航可能会包含未备案的站点）</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456796.png"></p>
<ul>
<li>网络空间引擎进行证书、图标关联搜索。例如：fofa 指定搜索规则 <code>is_domain=true</code>，即表示只返回域名 *(个人感觉国外 shodan、国内 fofa)*。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456797.png"></p>
<h3 id="2-Whois"><a href="#2-Whois" class="headerlink" title="2. Whois"></a>2. Whois</h3><blockquote>
<p>whois 是用来查询域名的 IP 以及所有者等信息的传输协议。</p>
</blockquote>
<p>通过 whois 信息可以获取注册人的关键信息。如注册商、联系人、联系邮箱、联系电话，也可以对注册人、邮箱、电话反查域名，也可以通过搜索引擎进一步挖掘域名所有人的信息。深入可社工、可漏洞挖掘利用。</p>
<ul>
<li><p>站长之家</p>
<p><a target="_blank" rel="noopener" href="http://whois.chinaz.com/">http://whois.chinaz.com</a></p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456798.png"></p>
<ul>
<li><p>Bugscanner</p>
<p><a target="_blank" rel="noopener" href="http://whois.bugscaner.com/">http://whois.bugscaner.com</a></p>
</li>
<li><p>国外 BGP</p>
<p><a target="_blank" rel="noopener" href="https://bgp.he.net/">https://bgp.he.net</a></p>
</li>
<li><p>who.is</p>
<p><a target="_blank" rel="noopener" href="https://who.is/">https://who.is/</a></p>
</li>
<li><p>IP138 网站</p>
<p><a target="_blank" rel="noopener" href="https://site.ip138.com/">https://site.ip138.com/</a></p>
</li>
<li><p>域名信息查询 - 腾讯云</p>
<p><a target="_blank" rel="noopener" href="https://whois.cloud.tencent.com/">https://whois.cloud.tencent.com/</a></p>
</li>
<li><p>ICANN LOOKUP</p>
<p><a target="_blank" rel="noopener" href="https://lookup.icann.org/">https://lookup.icann.org/</a></p>
</li>
<li><p>狗狗查询</p>
<p><a target="_blank" rel="noopener" href="https://www.ggcx.com/main/integrated">https://www.ggcx.com/main/integrated</a></p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456799.png"></p>
<blockquote>
<p>ps:</p>
<ul>
<li>部分 whois 查询存在隐藏信息，可以在其他站点查询。</li>
<li>whois 主要还是注册商、注册人、邮件、DNS 解析服务器、注册人联系电话。</li>
<li>由于 GDRP，ICANN 要求所有域名注册商必须对域名 whois 隐私信息进行保护，所以 whois 信息越来越少…… 但还是会存在一些 whois 域名系统是旧缓存数据。</li>
</ul>
</blockquote>
<h3 id="3-IP-反查"><a href="#3-IP-反查" class="headerlink" title="3. IP 反查"></a>3. IP 反查</h3><blockquote>
<p>ps:</p>
<ul>
<li><p>目标可能存在多个域名绑定于同一 ip 上，通过 ip 反查可以获取到其他域名信息。比如旁站。</p>
<ul>
<li><em>通过获取目标真实 IP 后，进行反查的旁站更真实。</em></li>
</ul>
</li>
<li><p>查询站点需复杂性，单一的站点会有反查不出信息的可能。</p>
<ul>
<li><em>大型企业不同的站点收录可能不一样</em></li>
<li><em>个人推荐 3 个不同站点反查</em></li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="如何查询"><a href="#如何查询" class="headerlink" title="如何查询"></a>如何查询</h4><p><strong>在线查询网站</strong>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://s.tool.chinaz.com/same">同 IP 网站查询，同服务器网站查询 - 站长工具</a></li>
<li><a target="_blank" rel="noopener" href="https://dnslytics.com/">Dnslytics</a></li>
<li><a target="_blank" rel="noopener" href="https://site.ip138.com/">iP 或域名查询</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456800.png"></p>
<p><strong>搜索引擎</strong>：</p>
<ul>
<li>shodan</li>
<li>bing</li>
<li>fofa</li>
</ul>
<h3 id="4-HOST-碰撞"><a href="#4-HOST-碰撞" class="headerlink" title="4. HOST 碰撞"></a>4. HOST 碰撞</h3><p>信息收集过程中，往往会因为配置错误或是未及时回收等原因，存在一些隐形资产。直接访问的话会出现访问限制的问题，如下：</p>
<ul>
<li>ip 访问响应多为：nginx、4xx、500、503、各种意义不明的 Route json 提示等</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456801.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456802.png"></p>
<ul>
<li>域名解析后到内网地址</li>
<li>有服务器真实 IP，但找不到内网域名。</li>
</ul>
<p>究其原因，大多数是因为中间件对 ip 访问做限制，不能通过 ip 直接访问，必须使用域名进行访问。如果域名解析记录里也找不到域名记录，这时就可以用到 HOST 碰撞技术，通过将域名和 IP 进行捆绑碰撞，一旦匹配到后端代理服务器上的域名绑定配置，就可以访问到对应的业务系统，从而发现隐形资产。</p>
<p><strong>手法：</strong></p>
<p>使用收集到的目标 IP、爬虫或自定义的内部域名（内网 host 池），作为字典，通过脚本进行碰撞，脚本会自动模拟绑定 ip 与 host 进行请求交互，通过标题或响应大小判断结果。只要字典够强大，总能出一两个，爆破时最好也试下 TLS，部分主机会使用 TLS 的。</p>
<p>验证结果，只需修改本机<code>host文件</code>绑定 host 与 ip 后，看访问变化。</p>
<p><strong>自动化</strong>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/TophantTechnology/ARL">灯塔</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/0x727/ShuiZe_0x727">水泽</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/cckuailong/hostscan">https://github.com/cckuailong/hostscan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/fofapro/Hosts_scan">https://github.com/fofapro/Hosts_scan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/smxiazi/host_scan">https://github.com/smxiazi/host_scan</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456803.png"></p>
<h3 id="5-DNS-共享记录"><a href="#5-DNS-共享记录" class="headerlink" title="5. DNS 共享记录"></a>5. DNS 共享记录</h3><h5 id="关于-DNS"><a href="#关于-DNS" class="headerlink" title="关于 DNS"></a>关于 DNS</h5><p>DNS（Domain Name Server，域名服务器）是进行域名 (domain name) 和与之相对应的 IP 地址 (IP address)转换的服务器。DNS 中保存了一张域名 (domain name) 和与之相对应的 IP 地址 (IP address)的表，以解析消息的域名，即保存了 <strong>IP 地址</strong>和<strong>域名</strong>的相互映射关系。域名是 Internet 上某一台计算机或计算机组的名称，用于在数据传输时标识计算机的电子方位（有时也指地理位置）。域名是由一串用点分隔的名字组成的，通常包含组织名，而且始终包括两到三个字母的后缀，以指明组织的类型或该域所在的国家或地区。也正是因为 DNS 的存在，访问相应服务只需记住域名，不需要记住无规则的 ip 地址。</p>
<ul>
<li><p>DNS 服务器端口: tcp&#x2F;udp 53。</p>
</li>
<li><p>常用 DNS 记录：</p>
<table><thead><tr><th>记录类型</th><th>说明</th></tr></thead><tbody><tr><td>A 记录</td><td>将域名指向一个 IP 地址（外网地址）。</td></tr><tr><td>CNAME 记录</td><td>将域名指向另一个域名，再由另一个域名提供 IP 地址（外网地址）。</td></tr><tr><td>MX 记录</td><td>电子邮件交换记录，记录一个邮件域名对应的 IP 地址，设置邮箱，让邮箱能收到邮件。</td></tr><tr><td>NS 记录</td><td>域名服务器记录，记录该域名由哪台域名服务器解析。如将子域名交给其他 DNS 服务商解析。</td></tr><tr><td>AAAA 记录</td><td>将域名指向一个 IPv6 地址。</td></tr><tr><td>SRV 记录</td><td>用来标识某台服务器使用了某个服务，常见于微软系统的目录管理。</td></tr><tr><td>TXT 记录</td><td>对域名进行标识和说明，绝大多数的 TXT 记录是用来做 SPF 记录（反垃圾邮件）。</td></tr></tbody></table></li>
</ul>
<h5 id="利用价值"><a href="#利用价值" class="headerlink" title="利用价值"></a>利用价值</h5><p>可以通过查询共享 DNS 服务器的主机来获取到相关的域名，一般多是用于自建 DNS 服务器。如果是公开的 DNS 服务器，那么查询的效果将会特别差。</p>
<h5 id="手法"><a href="#手法" class="headerlink" title="手法"></a>手法</h5><ul>
<li>查询目标是否存在自建的 NS 服务器</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nslookup -query=ns baidu.com 8.8.8.8</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456804.png"></p>
<ul>
<li>将获取到的 NS 服务器带入 <a target="_blank" rel="noopener" href="https://hackertarget.com/find-shared-dns-servers/">https://hackertarget.com/find-shared-dns-servers/</a> 进行查询</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456805.png"></p>
<h3 id="6-Google"><a href="#6-Google" class="headerlink" title="6. Google"></a>6. Google</h3><p>直接搜索目标相关关键内容来查询，比如公司名、备案、引用的特殊 js 等。</p>
<p>搜索引擎很多，这里以 Google 为例：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456806.png"></p>
<h3 id="7-配置信息"><a href="#7-配置信息" class="headerlink" title="7. 配置信息"></a>7. 配置信息</h3><p>由于信息泄露问题，某些配置或文件会存储一些目标相关的域名，如子域名、代码托管平台等，一般来说存储信息有限且不应公网存在此类文件。</p>
<p><strong>策略文件域名信息问题如：</strong></p>
<ul>
<li><p>crossdomain.xml 文件</p>
<ul>
<li>通常域名直接拼接 crossdomain.xml 路径</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456807.png"></p>
</li>
<li><p>sitemap 文件</p>
<p>站点地图文件，常见如：</p>
<ul>
<li>sitemap.xml、sitemap.txt、sitemap.html、sitemapindex.xml、sitemapindex.xml 路径</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456808.png"></p>
</li>
</ul>
<p><strong>策略配置方面如</strong>：</p>
<ul>
<li>内容安全策略（CSP，Content Security Policy)</li>
</ul>
<p>这是一种声明的安全机制，可以让网站运营者能够控制遵循 CSP 的用户代理（通常是浏览器）的行为。通过控制要启用哪些功能，以及从哪里下载内容，可以减少网站的攻击面。CSP 的主要目的是防御跨站点脚本（cross-ste scripting，XSS）攻击。例如，CSP 可以完全禁止内联的 JavaScript，并且控制外部代码从哪里加载。它也可以禁止动态代码执行。禁用了所有的攻击源，XSS 攻击变得更加困难。CSP 中的关键字有 default-src、img-src、object-src 和 script-src。其中 *-src 可能会存在域名信息。</p>
<p>关键点：</p>
<p>HTTP header 的<code>Content-Security-Policy</code>属性</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456809.png"></p>
<h3 id="8-众测"><a href="#8-众测" class="headerlink" title="8. 众测"></a>8. 众测</h3><p>补天、漏洞银行、先知、hackerone 等众测的广商提供的域名测试范围。</p>
<p>比如 hackerone：alibaba</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456810.png"></p>
<h3 id="9-企业资产信息"><a href="#9-企业资产信息" class="headerlink" title="9. 企业资产信息"></a>9. 企业资产信息</h3><p>通过企业名称拓展查询目标企业的组织架构、股权信息、股权穿透图、子公司、孙公司、对外投资 50% 等目标信息，获取其产品业务、域名、邮箱资产范围等，扩大攻击面。大概企业资产收集点如下：</p>
<ul>
<li><p>企业数据：</p>
<ul>
<li><p>邮箱收集</p>
<ul>
<li>邮箱查询：<a target="_blank" rel="noopener" href="https://hunter.io/">https://hunter.io/</a></li>
</ul>
</li>
<li><p>企业架构画像</p>
</li>
<li><p>直属单位、机构设置、供应商 <em>（相关合同、人员、系统、软件等）</em>、合作商等</p>
</li>
<li><p>业务信息：证券、快递、专用网、院校等</p>
</li>
</ul>
</li>
<li><p>人员数据，如统计、职责、部门、人员历史泄露密码、浏览习性等</p>
</li>
<li><p>设备信息：</p>
<ul>
<li>WiFi</li>
<li>常用密码、部门设备信息</li>
<li>OA&#x2F;erp&#x2F;crm&#x2F;sso&#x2F;mail&#x2F;vpn 等入口</li>
<li>网络安全设备（waf,ips,ids,router 等统计）</li>
<li>内部使用的代码托管平台 (gitlab、daocloud 等)、bug 管理平台、监控平台等</li>
<li>服务器域名资产</li>
<li>site:xxx</li>
</ul>
</li>
</ul>
<h4 id="股权投资信息"><a href="#股权投资信息" class="headerlink" title="股权投资信息"></a>股权投资信息</h4><p>一般要求 50% 持股或者 100% 持股都可以算测试目标。</p>
<ol>
<li><strong>天眼查</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456811.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456812.png"></p>
<ol start="2">
<li><strong>企查查</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qcc.com/">https://www.qcc.com/</a></p>
<ol start="3">
<li><strong>钉钉企典</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.dingtalk.com/qidian/home?spm=a213l2.13146415.4929779444.89.7f157166W6H4YZ">https://www.dingtalk.com/qidian/home?spm=a213l2.13146415.4929779444.89.7f157166W6H4YZ</a></p>
<h4 id="公众号信息"><a href="#公众号信息" class="headerlink" title="公众号信息"></a>公众号信息</h4><ol>
<li><strong>搜狗搜索引擎</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://wx.sogou.com/">https://wx.sogou.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456813.png"></p>
<ol start="2">
<li>企查查</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qcc.com/">https://www.qcc.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456814.png"></p>
<h4 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h4><ol>
<li>企查查</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qcc.com/">https://www.qcc.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456815.png"></p>
<ol start="2">
<li>微信 app</li>
<li>支付宝 app</li>
</ol>
<h4 id="应用信息"><a href="#应用信息" class="headerlink" title="应用信息"></a>应用信息</h4><ol>
<li><strong>天眼查</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456816.png"></p>
<ol start="2">
<li><strong>七麦数据</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qimai.cn/">https://www.qimai.cn/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456817.png"></p>
<ol start="3">
<li><strong>企查查</strong>：</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.qcc.com/">https://www.qcc.com/</a></p>
<ol start="4">
<li><strong>小蓝本</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.xiaolanben.com/pc">https://www.xiaolanben.com/pc</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456818.png"></p>
<ol start="5">
<li><strong>点点数据</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://app.diandian.com/">https://app.diandian.com/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456819.png"></p>
<ol start="6">
<li><strong>豌豆荚</strong></li>
</ol>
<p><a target="_blank" rel="noopener" href="https://www.wandoujia.com/">https://www.wandoujia.com/</a></p>
<p>方便获取 app 历史版本</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456820.png"></p>
<h4 id="关于工具"><a href="#关于工具" class="headerlink" title="关于工具"></a>关于工具</h4><ul>
<li><strong>ENScanGo</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/wgpsec/ENScan_GO">https://github.com/wgpsec/ENScan_GO</a></p>
<blockquote>
<p>由狼组安全团队的 Keac 师傅写的专门用来解决企业信息收集难的问题的工具，可以一键收集目标及其控股公司的 ICP 备案、APP、小程序、微信公众号等信息然后聚合导出。</p>
</blockquote>
<h2 id="0x02-子域名信息"><a href="#0x02-子域名信息" class="headerlink" title="0x02 子域名信息"></a>0x02 子域名信息</h2><p>子域名一般是父级域名的下一级。一般企业主站域名的防护都是重点，安全级别较高，突破难度较大，而企业可能会有数十个甚至更多的子域名应用，因为数量众多，安全因素和成本投入多，相应的防护也没有那么及时有效。子域名往往是攻击突破口，通过子域名发现更多的可能性或是进行迂回攻击。</p>
<p><strong>子域名信息点</strong>：</p>
<ul>
<li>子域名包含一些常见资产类型：办公系统，邮箱系统，论坛，商城等。而其他管理系统，网站管理后台等较少出现在子域名中。</li>
<li>一般情况下，相同类型漏洞可能存在同一组织的不同的域名 &#x2F; 应用程序中。</li>
<li>子域名系统维护成本、用户群体等，一般少于主域名，会存在一些版本迭代、配置不安全、弱密码账号管理策略等。</li>
<li>子域名探测发现更多的服务，增加漏洞发现的可能性。</li>
</ul>
<h3 id="1-枚举爆破"><a href="#1-枚举爆破" class="headerlink" title="1. 枚举爆破"></a>1. 枚举爆破</h3><h4 id="手法介绍"><a href="#手法介绍" class="headerlink" title="手法介绍"></a>手法介绍</h4><p>要说简单粗暴还是子域名枚举爆破，通过不断的拼接<code>字典</code>中的子域名前缀去枚举域名的 A 记录进行<code>DNS解析</code>，如果成功解析说明子域名存在。如 xxx.com 拼接前缀 test 组合成 test.xxx.com，再对其进行验证。但是域名如果使用<code>泛解析</code>的话，则会导致所有的域名都能成功解析，使得子域名枚举变得不精准。</p>
<p><code>nslookup</code>验证下~</p>
<ul>
<li>泛解析域名，成功解析不存在的域名。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456821.png"></p>
<ul>
<li>普通解析，不存在的域名解析会失败。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456822.png"></p>
<blockquote>
<ul>
<li><p>泛解析：使用通配符 <code>*</code> 来匹配所有的子域名，从而实现所有的子级域名均指向相同网站空间。</p>
<ul>
<li><p>会存在域名劫持、域名恶意泛解析风险</p>
</li>
<li><p>会主站被降权，可能被恶意利用，占用大量流量</p>
</li>
<li><p>关于恶意解析：</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1494534?from=article.detail.1874625">https://cloud.tencent.com/developer/article/1494534?from=article.detail.1874625</a></p>
</li>
</ul>
</li>
<li><p>混合泛解析：在泛解析的基础上，增加一个限制，使记录可以按照需求进行分类。</p>
<p><a target="_blank" rel="noopener" href="https://cloud.tencent.com/document/product/302/9073">https://cloud.tencent.com/document/product/302/9073</a></p>
</li>
</ul>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Q2h1Cg/dnsbrute/blob/v2.0/dict/53683.txt">https://github.com/Q2h1Cg/dnsbrute/blob/v2.0/dict/53683.txt</a>)</li>
</ul>
<h4 id="关于泛解析"><a href="#关于泛解析" class="headerlink" title="关于泛解析"></a>关于泛解析</h4><p>那么域名使用了泛解析怎么去解决呢？</p>
<p>一般有两种：</p>
<ul>
<li><p>黑名单 ip：</p>
<ul>
<li>通过获取一个不存在的子域名相应解析 IP，来记录标记黑名单 ip，再爆破字典时，解析到的 IP 在这个黑名单 ip 中，则跳过，不存在就继续处理。</li>
<li>或是记录相同的，保留一到两个。</li>
</ul>
</li>
<li><p>TTL</p>
<ul>
<li>在权威 DNS 中，泛解析记录的 TTL 肯定是相同的，如果子域名记录相同，但 TTL 不同，那这条记录可以说肯定不是泛解析记录。</li>
</ul>
</li>
<li><p>响应内容</p>
<ul>
<li>牺牲速度，先获取一个绝对不存在域名的响应内容，再遍历获取每个字典对应的子域名的响应内容，通过和不存在域名的内容做相似度比对，来枚举子域名。</li>
</ul>
</li>
</ul>
<h4 id="枚举爆破常用工具："><a href="#枚举爆破常用工具：" class="headerlink" title="枚举爆破常用工具："></a><strong>枚举爆破常用工具：</strong></h4><p>在线查询：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://phpinfo.me/domain/">https://phpinfo.me/domain/</a></p>
<ul>
<li>速度不错</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://chaziyu.com/">https://chaziyu.com/</a></p>
<ul>
<li>子域、备案都可以查</li>
</ul>
</li>
</ul>
<p>其他：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://github.com/euphrat1ca/LayerDomainFinder">Layer 子域名挖掘机</a></p>
<ul>
<li>可视化，取决于字典强度，易上手，就是容易崩溃</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/lijiejie/subDomainsBrute">subDomainsBrute</a></p>
<ul>
<li>老牌 DNS 爆破工具，稳定快速~</li>
<li>暂不支持批量</li>
<li><strong>怼泛解析</strong>：超过 10 个域名指向同一 IP，则此后发现的其他指向该 IP 的域名将被丢弃，该方法可能存在误删，但简单有效。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">OneForAll</a></p>
<ul>
<li>收集姿势挺全的，就是依赖多，一直再更新</li>
<li>OneForALL + ESD + JSfinder~~</li>
<li><strong>怼泛解析</strong>：oneforall 会首先访问一个随机的并不存在的域，通过返回结果判断是否存在泛解析，确定存在泛解析以后，程序会开始不断的循环产生随机域名，去向服务器查询，将每次查询到的 IP 和 TTL 记录下来，直到大部分的 IP 地址出现次数都大于两次，则 IP 黑名单的收集结束，在得到了 IP 黑名单以后，oneforall 接下来会将自己的字典中的每一项和要指定查询的域名进行拼接。在爆破过程中根据 IP 黑名单进行过滤。但这种宽泛的过滤容易导致漏报，所以 oneforall 将 TTL 也作为黑名单规则的一部分，评判的依据是：在权威 DNS 中，泛解析记录的 TTL 肯定是相同的，如果子域名记录相同，但 TTL 不同，那这条记录可以说肯定不是泛解析记录。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/guelfoweb/knock">knock</a></p>
<ul>
<li>支持查询 VirusTotal，速度快，结果一般</li>
<li>VirusTotal API 绕过泛解析</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/FeeiCN/ESD">ESD</a></p>
<ul>
<li>收集方法多，爆破速度极快，接口少</li>
<li><strong>怼泛解析</strong>：基于文本相似度过滤泛解析域名</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/boy-hack/ksubdomain"><strong>ksubdomain</strong></a></p>
<ul>
<li>无状态的子域名爆破工具, 支持重放，速度不错</li>
<li>结合其他工具，一键子域名搜集验证：</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://cn-sec.com/archives/1178685.html">https://cn-sec.com/archives/1178685.html</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/chaitin/xray/releases">xray 高级版</a></p>
<ul>
<li>效率可以，联动很舒服</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456823.png"></p>
<h4 id="关于字典"><a href="#关于字典" class="headerlink" title="关于字典"></a>关于字典</h4><blockquote>
<p>字典这块引用下 <a target="_blank" rel="noopener" href="https://feei.cn/esd/">https://feei.cn/esd/</a></p>
</blockquote>
<p><strong>DNS 服务商的字典</strong>一般来说最准确有效，如：DNSPod 公布的使用最多的子域名：<a target="_blank" rel="noopener" href="https://github.com/DNSPod/oh-my-free-data/blob/master/src/dnspod-top2000-sub-domains.txt">dnspod-top2000-sub-domains.txt</a></p>
<p><strong>普通字典</strong>：一些基础组合。</p>
<ul>
<li>单字母：f.feei.cn（大都喜欢短一点的域名，单字符的最为常见）</li>
<li>单字母 + 单数字：s1.feei.cn</li>
<li>双字母：sd.feei.cn（大都喜欢业务的首字母缩写）</li>
<li>双字母 + 单数字：ss1.feei.cn</li>
<li>双字母 + 双数字：ss01.feei.cn</li>
<li>三字母：<a target="_blank" rel="noopener" href="https://forum.butian.net/share/1976/www.feei.cn">www.feei.cn</a>（部分业务名称为三个字）</li>
<li>四字母：webp.feei.cn（部分业务名称为四个字）</li>
<li>单数字：1.feei.cn</li>
<li>双数字：11.feei.cn</li>
<li>三数字：666.feei.cn</li>
</ul>
<p><strong>常用词组</strong>：常见的中英文词组。</p>
<ul>
<li>fanyi.feei.cn（中）tranlate.feei.cn（英）</li>
<li>huiyuan.feei.cn（中）member.feei.cn（英）</li>
<li>tupian.feei.cn（中）picture.feei.cn（英）</li>
</ul>
<p><strong>爆破工具的字典</strong>: 可结合整理过的字典</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/TheRook/subbrute">subbrute</a>: <a target="_blank" rel="noopener" href="https://github.com/TheRook/subbrute/blob/master/names_small.txt">names_small.txt</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/lijiejie/subDomainsBrute">subDomainsBrute</a>: <a target="_blank" rel="noopener" href="https://github.com/lijiejie/subDomainsBrute/blob/master/dict/subnames_full.txt">subnames_full.txt</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Q2h1Cg/dnsbrute">dnsbrute</a>: <a target="_blank" rel="noopener" href="https://github.com/Q2h1Cg/dnsbrute/blob/v2.0/dict/53683.txt">53683.txt</a></li>
</ul>
<h3 id="2-DNS-域传送"><a href="#2-DNS-域传送" class="headerlink" title="2. DNS 域传送"></a>2. DNS 域传送</h3><p>DNS 服务器分为：主服务器、备份服务器和缓存服务器。</p>
<p>在主备服务器之间同步数据库，需要使用 “DNS 域传送” 的一种 DNS 事务。<strong>域传送</strong>是指备份服务器从主服务器上复制数据，然后更新自身的数据库，以达到数据同步的目的，这样是为了增加冗余，一旦主服务器出现问题可直接让备份服务器做好支撑工作。</p>
<p>若 DNS 配置不当，可能导致匿名用户获取某个域的所有记录。造成整个网络的拓扑结构泄露给潜在的攻击者，包括一些安全性较低的内部主机，如测试服务器。凭借这份网络蓝图，攻击者可以节省很少的扫描时间。</p>
<ul>
<li>错误配置：只要收到<code>axfr</code>请求就进行域传送，刷新数据。</li>
</ul>
<h4 id="检测方法："><a href="#检测方法：" class="headerlink" title="检测方法："></a>检测方法：</h4><p><code>axfr</code> 是 q-type 类型的一种，axfr 类型是<code>Authoritative Transfer</code>的缩写，指请求传送某个区域的全部记录。只要欺骗 dns 服务器发送一个<code>axfr</code>请求过去，如果该 dns 服务器上存在该漏洞，就会返回所有的解析记录值。</p>
<h5 id="nslookup"><a href="#nslookup" class="headerlink" title="nslookup"></a><strong>nslookup</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 查询nameserver  </span><br><span class="line">nslookup -type=ns nhtc.wiki 8.8.8.8  </span><br><span class="line"># 指定nameserver，列举域名信息  </span><br><span class="line">nslookup  </span><br><span class="line"># Server 命令参数设定查询将要使用的DNS服务器  </span><br><span class="line">server cloudy.dnspod.net   </span><br><span class="line">#  Ls命令列出某个域中的所有域名  </span><br><span class="line">ls nhtc.wiki</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456825.png"></p>
<blockquote>
<p>无法列出域，不存在此漏洞~</p>
</blockquote>
<h5 id="Dig"><a href="#Dig" class="headerlink" title="Dig"></a><strong>Dig</strong></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 找到NS服务器  </span><br><span class="line">dig nhtc.wiki ns</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456826.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 发送axfr请求  </span><br><span class="line"> dig axfr @cloudy.dnspod.net nhtc.wiki</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456827.png"></p>
<h5 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h5><p><strong>nmap:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap --script dns-zone-transfer --script-args dns-zone-transfer.domain=nhtc.wiki -p 53 -Pn cloudy.dnspod.net</span><br></pre></td></tr></table></figure>

<p><strong>python</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># DNS库  </span><br><span class="line">xfr = dns.query.xfr(where=server, zone=self.domain, timeout=5.0, lifetime=10.0)  </span><br><span class="line">zone = dns.zone.from\_xfr(xfr)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>一般情况下，DNS 服务器配置都正常，关闭了域传送或设置白名单，利用率低。推荐交给自动化。</p>
</blockquote>
<h3 id="3-证书透明度收集子域"><a href="#3-证书透明度收集子域" class="headerlink" title="3. 证书透明度收集子域"></a>3. 证书透明度收集子域</h3><blockquote>
<p>证书透明度（Certificate Transparency）是谷歌力推的一项拟在确保证书系统安全的透明审查技术。其目标是提供一个开放的审计和监控系统，可以让任何<a target="_blank" rel="noopener" href="https://dnspod.cloud.tencent.com/">域名</a>的所有者，确定 CA 证书是否被错误签发或恶意使用。TLS 的缺点是你的浏览器隐性包含了一个大型受信任 CA 列表。如果任何这些 CA 恶意为域创建新证书，则你的浏览器都会信任它。CT 为 TLS 证书信任提供了额外的安全保障：即公司可以监控谁为他们拥有的域创建了证书。此外，它还允许浏览器验证给定域的证书是否在公共日志记录中。</p>
<p>————————<a target="_blank" rel="noopener" href="https://www.certificate-transparency.org/">Google 的证书透明度项目</a></p>
</blockquote>
<p>因为证书透明性是开放架构，可以检测由证书颁发机构错误颁发的 SSL 证书，也可以识别恶意颁发证书的证书颁发机构，且任何人都可以构建或访问，CA 证书又包含了<code>域名、子域名、邮箱</code>等敏感信息，价值就不言而喻了。</p>
<h4 id="收集方法："><a href="#收集方法：" class="headerlink" title="收集方法："></a>收集方法：</h4><p>一般使用 CT 日志搜索引擎进行域名信息收集，因为是日志收集，只增不减，可能会有一些失效域名。</p>
<h5 id="在线查询："><a href="#在线查询：" class="headerlink" title="在线查询："></a><strong>在线查询：</strong></h5><ul>
<li><a target="_blank" rel="noopener" href="https://crt.sh/">crtsh</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456828.png"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.entrust.com/ct-search/">entrust</a></li>
<li><a target="_blank" rel="noopener" href="https://censys.io/certificates">censys</a></li>
<li><a target="_blank" rel="noopener" href="https://developers.facebook.com/tools/ct/">facebook（需要登录）</a></li>
<li><a target="_blank" rel="noopener" href="https://spyse.com/search/certificate">spyse</a></li>
<li><a target="_blank" rel="noopener" href="https://sslmate.com/certspotter/api/">certspotter（每小时免费查 100 次）</a></li>
</ul>
<h5 id="浏览器查询"><a href="#浏览器查询" class="headerlink" title="浏览器查询"></a><strong>浏览器查询</strong></h5><p>点击浏览器网站小锁 –&gt; 安全连接 –&gt; 更多信息 –&gt; 查看证书 –&gt; 查看主题替代名称处，有时候会有主域名和子域名信息。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456829.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456830.png"></p>
<h5 id="工具："><a href="#工具：" class="headerlink" title="工具："></a><strong>工具：</strong></h5><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/UnaPibaGeek/ctfr">ctfr</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">OneForAll</a></li>
</ul>
<h3 id="4-公开数据集"><a href="#4-公开数据集" class="headerlink" title="4. 公开数据集"></a>4. 公开数据集</h3><p>利用已有公开的全网扫描数据集，对子域名信息进行收集。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://opendata.rapid7.com/">Rapid7 的开源数据项目</a></li>
<li><a target="_blank" rel="noopener" href="https://www.threatcrowd.org/">threatcrowd</a></li>
</ul>
<p>收集方法：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://hackertarget.com/find-dns-host-records/">Find DNS Host Records (Subdomains) | hackertarget</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://searchdns.netcraft.com/">netcraft</a></p>
</li>
<li><p>命令进行快速查找</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget https://scans.io/data/rapid7/sonar.fdns\_v2/20170417-fdns.json.gz  </span><br><span class="line">cat 20170417\-fdns.json.gz | pigz \-dc | grep &quot;.target.org&quot; | jq\`</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="5-第三方聚合服务"><a href="#5-第三方聚合服务" class="headerlink" title="5. 第三方聚合服务"></a>5. 第三方聚合服务</h3><p>通过第三方平台提供的一些服务，快速发现子域名信息。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.virustotal.com/gui/home/search">VirusTotal</a></li>
</ul>
<blockquote>
<p>VirusTotal 会运行 DNS 复制功能，通过存储用户访问 URL 时执行的 DNS 解析来构建数据库。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456831.png"></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://hackertarget.com/find-dns-host-records/">Find DNS Host Records | Subdomain Finder | HackerTarget.com</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://searchdns.netcraft.com/">netcraft</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://dnsdumpster.com/">DNSdumpster.com</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://site.ip138.com/">域名查 iP 域名解析 iP 查询网站 iP 反查域名 iP 反查网站 同一 iP 网站 同 iP 网站域名 iP 查询</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.threatminer.org/index.php">threatminer</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://spyse.com/tools/subdomain-finder">Subdomain Finder</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://x.threatbook.cn/">threatbook（需要高级权限）</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="http://tool.chinaz.com/subdomain/?domain=">子域名查询 - 站长工具（需要登录）</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://decoder.link/">namecheap</a></p>
</li>
<li><p>其他工具：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/aboul3la/Sublist3r">Sublist3r</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">OneForAll</a></li>
</ul>
</li>
</ul>
<h3 id="6-搜索引擎"><a href="#6-搜索引擎" class="headerlink" title="6. 搜索引擎"></a>6. 搜索引擎</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><p>搜索引擎是用于查找和排名与用户搜索匹配的 Web 内容的工具。</p>
<p>搜索引擎通过 “蜘蛛” 对全网进行大量爬行并处理后，建立索引 <em>（索引是将抓取页面中的信息添加到叫做搜索索引的大型数据库中。）</em>。在此期间往往收集了大量的域名信息，需要对应的语法，即可从这数据库中获取想要的信息。</p>
<h4 id="搜索方法："><a href="#搜索方法：" class="headerlink" title="搜索方法："></a>搜索方法：</h4><h5 id="主流搜索引擎"><a href="#主流搜索引擎" class="headerlink" title="主流搜索引擎"></a>主流搜索引擎</h5><p>一份国外调查表：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456832.png"></p>
<h6 id="Goolge："><a href="#Goolge：" class="headerlink" title="Goolge："></a>Goolge：</h6><p>俗称 Google Hacking 大法，有十几种语法，混合使用可以更加准确地查找信息。</p>
<ul>
<li>Google 检索技巧大全: <a target="_blank" rel="noopener" href="https://sites.google.com/site/hopeanwang/google%E6%A3%80%E7%B4%A2%E6%8A%80%E5%B7%A7%E5%A4%A7%E5%85%A8">https://sites.google.com/site/hopeanwang/google%E6%A3%80%E7%B4%A2%E6%8A%80%E5%B7%A7%E5%A4%A7%E5%85%A8</a></li>
</ul>
<p><strong>搜索子域名信息</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:360.cn</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456833.png"></p>
<p><strong>搜索一个域名后台信息</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:xx.com inurl:id=1  intext:后台</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456834.png"></p>
<h5 id="网络空间引擎"><a href="#网络空间引擎" class="headerlink" title="网络空间引擎"></a><strong>网络空间引擎</strong></h5><h6 id="fofa"><a href="#fofa" class="headerlink" title="fofa"></a><a target="_blank" rel="noopener" href="https://fofa.info/">fofa</a></h6><p>FOFA 是白帽汇推出的一款网络空间搜索引擎，它通过进行网络空间测绘，能够帮助研究人员或者企业迅速进行网络资产匹配，例如进行<a target="_blank" rel="noopener" href="https://www.77169.net/ld">漏洞</a>影响范围分析、应用分布统计、应用流行度排名统计等。</p>
<table blockindex="239"><thead><tr><th>逻辑连接符</th><th>具体含义</th></tr></thead><tbody><tr><td>\=</td><td>匹配，="" 时，可查询不存在字段或者值为空的情况</td></tr><tr><td>\=\=</td><td>完全匹配，=="" 时，可查询存在且值为空的情况</td></tr><tr><td>&amp;&amp;</td><td>与</td></tr><tr><td>|</td><td>或者</td></tr><tr><td>!\=</td><td>不匹配，!\="" 时，可查询值为空的情况</td></tr><tr><td>~\=</td><td>正则语法匹配专用（高级会员独有，不支持 body）</td></tr><tr><td>()</td><td>确认查询优先级，括号内容优先级最高</td></tr></tbody></table>

<p>目前 FOFA 支持了多个网络组件的指纹识别，包括建站模块、分享模块、各种开发框架、安全监测平台、项目管理系统、企业管理系统、视频监控系统、站长平台、电商系统、广告联盟、前端库、路由器、SSL 证书、服务器管理系统、CDN、Web 服务器、WAF、CMS 等等，详细信息见 <a target="_blank" rel="noopener" href="https://fofa.info/library">https://fofa.info/library</a></p>
<p><strong>常用语法可通过” 查询语法 “功能获取：</strong></p>
<p><a target="_blank" rel="noopener" href="https://fofa.info/">https://fofa.info/</a></p>
<p>例句 (点击可去搜索) 用途说明注</p>
<table blockindex="244"><thead><tr><th>例句 (点击可去搜索)</th><th>用途说明</th><th>注</th></tr></thead><tbody><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=dGl0bGU9ImJlaWppbmci">title="beijing"</a></td><td>从标题中搜索 “北京”</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aGVhZGVyPSJqYm9zcyI%3D">header="jboss"</a></td><td>从 http 头中搜索 “jboss”</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=Ym9keT0iSGFja2VkIGJ5Ig%3D%3D">body="Hacked by"</a></td><td>从 html 正文中搜索 abc</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=ZG9tYWluPSJxcS5jb20i">domain="qq.com"</a></td><td>搜索根域名带有 qq.com 的网站。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aWNvbl9oYXNoPSItMjQ3Mzg4ODkwIg%3D%3D">icon_hash="-247388890"</a></td><td>搜索使用此 icon 的资产。</td><td>仅限高级会员使用</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aG9zdD0iLmdvdi5jbiI%3D">host=".gov.cn"</a></td><td>从 url 中搜索”.gov.cn”</td><td>搜索要用 host 作为名称</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cG9ydD0iNDQzIg%3D%3D">port="443"</a></td><td>查找对应 “443” 端口的资产</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXA9IjEuMS4xLjEi">ip="1.1.1.1"</a></td><td>从 ip 中搜索包含 “1.1.1.1” 的网站</td><td>搜索要用 ip 作为名称</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXA9IjIyMC4xODEuMTExLjEvMjQi">ip="220.181.111.1/24"</a></td><td>查询 IP 为 “220.181.111.1” 的 C 网段资产</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=c3RhdHVzX2NvZGU9NDAy">status_code="402"</a></td><td>查询服务器状态为 “402” 的资产</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cHJvdG9jb2w9Imh0dHBzIg%3D%3D">protocol="https"</a></td><td>查询 https 协议资产</td><td>搜索指定协议类型 (在开启端口扫描的情况下有效)</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=Y2l0eT0iSGFuZ3pob3Ui">city="Hangzhou"</a></td><td>搜索指定城市的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cmVnaW9uPSJaaGVqaWFuZyI%3D">region="Zhejiang"</a></td><td>搜索指定行政区的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=Y291bnRyeT0iQ04i">country="CN"</a></td><td>搜索指定国家 (编码) 的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=Y2VydD0iZ29vZ2xlIg%3D%3D">cert="google"</a></td><td>搜索证书 (https 或者 imaps 等) 中带有 google 的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=YmFubmVyPXVzZXJzICYmIHByb3RvY29sPWZ0cA%3D%3D">banner=users &amp;&amp; protocol=ftp</a></td><td>搜索 FTP 协议中带有 users 文本的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=dHlwZT1zZXJ2aWNl">type=service</a></td><td>搜索所有协议资产，支持 subdomain 和 service 两种。</td><td>搜索所有协议资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=b3M9d2luZG93cw%3D%3D">os=windows</a></td><td>搜索 Windows 资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=c2VydmVyPT0iTWljcm9zb2Z0LUlJUy83LjUi">server=="Microsoft-IIS/7.5"</a></td><td>搜索 IIS 7.5 服务器。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=YXBwPSJISUtWSVNJT04t6KeG6aKR55uR5o6nIg%3D%3D">app="HIKVISION - 视频监控"</a></td><td>搜索海康威视设备</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=YWZ0ZXI9IjIwMTciICZhbXA7JmFtcDsgYmVmb3JlPSIyMDE3LTEwLTAxIg%3D%3D">after="2017" &amp;&amp; before="2017-10-01"</a></td><td>时间范围段搜索</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=YXNuPSIxOTU1MSI%3D">asn="19551"</a></td><td>搜索指定 asn 的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=b3JnPSJBbWF6b24uY29tLCBJbmMuIg%3D%3D">org="Amazon.com, Inc."</a></td><td>搜索指定 org(组织) 的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=YmFzZV9wcm90b2NvbD0idWRwIg%3D%3D">base_protocol="udp"</a></td><td>搜索指定 udp 协议的资产。</td><td>-</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXNfaXB2Nj10cnVl">is_ipv6=true</a></td><td>搜索 ipv6 的资产</td><td>搜索 ipv6 的资产, 只接受 true 和 false。</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXNfZG9tYWluPXRydWU%3D">is_domain=true</a></td><td>搜索域名的资产</td><td>搜索域名的资产, 只接受 true 和 false。</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfcG9ydHM9IjgwLDE2MSI%3D">ip_ports="80,161"</a></td><td>搜索同时开放 80 和 161 端口的 ip</td><td>搜索同时开放 80 和 161 端口的 ip 资产 (以 ip 为单位的资产数据)</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cG9ydF9zaXplPSI2Ig%3D%3D">port_size="6"</a></td><td>查询开放端口数量等于 "6" 的资产</td><td>仅限 FOFA 会员使用</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cG9ydF9zaXplX2d0PSIzIg%3D%3D">port_size_gt="3"</a></td><td>查询开放端口数量大于 "3" 的资产</td><td>仅限 FOFA 会员使用</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=cG9ydF9zaXplX2x0PSIxMiI%3D">port_size_lt="12"</a></td><td>查询开放端口数量小于 "12" 的资产</td><td>仅限 FOFA 会员使用</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfY291bnRyeT0iQ04i">ip_country="CN"</a></td><td>搜索中国的 ip 资产 (以 ip 为单位的资产数据)。</td><td>搜索中国的 ip 资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfcmVnaW9uPSJaaGVqaWFuZyI%3D">ip_region="Zhejiang"</a></td><td>搜索指定行政区的 ip 资产 (以 ip 为单位的资产数据)。</td><td>搜索指定行政区的资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfY2l0eT0iSGFuZ3pob3Ui">ip_city="Hangzhou"</a></td><td>搜索指定城市的 ip 资产 (以 ip 为单位的资产数据)。</td><td>搜索指定城市的资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfYWZ0ZXI9IjIwMTktMDEtMDEi">ip_after="2019-01-01"</a></td><td>搜索 2019-01-01 以后的 ip 资产 (以 ip 为单位的资产数据)。</td><td>搜索 2019-01-01 以后的 ip 资产</td></tr><tr><td><a target="_blank" rel="noopener" href="https://fofa.so/result?qbase64=aXBfYmVmb3JlPSIyMDE5LTA3LTAxIg%3D%3D">ip_before="2019-07-01"</a></td><td>搜索 2019-07-01 以前的 ip 资产 (以 ip 为单位的资产数据)。</td><td>搜索 2019-07-01 以前的 ip 资产</td></tr></tbody></table>

<p>基础了解后，可以试试规则专题，官方有提供相应的指纹、组件查找，包含 “数据库专题”、“工控专题” 和“区块链专题”。也可以自己提交。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://fofa.info/library">https://fofa.info/library</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456835.png"></p>
<ul>
<li>查询” 致远互联 - OA“系统：</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456836.png"></p>
<h6 id="Shodan"><a href="#Shodan" class="headerlink" title="Shodan"></a><a target="_blank" rel="noopener" href="https://www.shodan.io/">Shodan</a></h6><p>Shodan 是一个搜索接入互联网的设备的搜索引擎，2009 年由约翰 · 马瑟利发布。学生会员可以每个月下载 1w 条数据，黑五可能会有优惠价格。</p>
<blockquote>
<p>ps：Shodan 侧重于主机设备</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.shodan.io/explore">规则列表</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456837.png"></p>
<h6 id="0-zone"><a href="#0-zone" class="headerlink" title="0.zone"></a><a target="_blank" rel="noopener" href="https://0.zone/"><strong>0.zone</strong></a></h6><p>它是一个免费的外部攻击面管理 SaaS 平台，供红蓝队使用，为防御者提供攻击者视角下的企业外部攻击面数据，减少攻防信息差，以促进企业攻击面的收敛和管理。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://0.zone/grammarList">语法参考</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456838.png"></p>
<p><strong>搜索企业名称示例</strong>（需要会员才能获取企业黄页）</p>
<p>可查看此公司下匹配到的信息系统、移动端应用、敏感目录、邮箱、文档、代码、人员信息数据。这个功能定向查找单位资产非常方便好用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456839.png"></p>
<p>不同于 fofa，该平台做了收录信息归纳，感觉还不错。</p>
<ul>
<li>使用参考：<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/0Nf_HJr-Rn4mZEC3QYKtwg">https://mp.weixin.qq.com/s/0Nf_HJr-Rn4mZEC3QYKtwg</a></li>
</ul>
<h6 id="hunter"><a href="#hunter" class="headerlink" title="hunter"></a><a target="_blank" rel="noopener" href="https://hunter.qianxin.com/">hunter</a></h6><p>全球鹰是奇安信的一款产品。通过网络空间测绘技术，全球鹰测绘平台可以提供 IP、域名、开放端口、应用 &#x2F; 组件、所属企业等关键安全信息，同时结合攻防场景绘制了资产画像与 IP 画像，实现互联网资产的可查、可定位、操作可识别的检索，助力企业日常的安全运营工作，例如未知资产发现、风险识别、漏洞修复等。目前全球鹰网络空间测绘平台已有 3 亿独立 IP，资产 (剔除历史重复数据) 总数超过 20 亿，已实现全端口覆盖。在全球我们已覆盖了 261 个国家，96% ASN 域。国内 web 资产最快 4 天更新，最慢 7 天更新。</p>
<p><a target="_blank" rel="noopener" href="https://hunter.qianxin.com/">语法参考</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456840.png"></p>
<h6 id="其他-1"><a href="#其他-1" class="headerlink" title="其他"></a>其他</h6><p>还有一些不错的检索平台，就不一一介绍，可以去官网瞧瞧语法和规则这块，这块还是 api 用得多。<em>（没会员没法爽玩。。）</em></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.zoomeye.org/">zoomeye</a></li>
<li><a target="_blank" rel="noopener" href="https://quake.360.cn/">quake</a></li>
<li><a target="_blank" rel="noopener" href="https://www.ditecting.com/">谛听</a></li>
<li><a target="_blank" rel="noopener" href="https://zhifeng.io/web/new/">知风</a></li>
<li><a target="_blank" rel="noopener" href="https://www.binaryedge.io/">binaryedge</a></li>
<li><a target="_blank" rel="noopener" href="https://search.censys.io/">censys</a></li>
<li><a target="_blank" rel="noopener" href="https://dnsdb.io/zh-cn/">dnsdb</a></li>
<li><a target="_blank" rel="noopener" href="https://www.greynoise.io/blog">greynoise</a></li>
<li><a target="_blank" rel="noopener" href="https://hunter.io/">hunter</a></li>
<li><a target="_blank" rel="noopener" href="https://opendata.rapid7.com/">Project Sonar</a></li>
<li><a target="_blank" rel="noopener" href="https://intelx.io/">intelx</a></li>
<li><a target="_blank" rel="noopener" href="https://dnsdumpster.com/">dnsdumpster</a></li>
<li>phonebook.cz</li>
<li><a target="_blank" rel="noopener" href="https://fullhunt.io/">fullhunt</a></li>
<li><a target="_blank" rel="noopener" href="https://netlas.io/">netlas</a></li>
</ul>
<p>关于搜索引擎详细可以参考下：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.cnblogs.com/Akkuman/p/15469098.html">网络空间检索平台对比</a></li>
<li><a target="_blank" rel="noopener" href="https://www.iculture.cc/cybersecurity/pig=16553">零零信安攻击面管理系统 | 企业信息泄露情报平台</a></li>
<li><a target="_blank" rel="noopener" href="https://www.77169.net/html/289075.html">盘点一下在渗透测试中可能用到的网络搜索引擎</a></li>
</ul>
<h3 id="7-工具自动化"><a href="#7-工具自动化" class="headerlink" title="7. 工具自动化"></a>7. 工具自动化</h3><p>总的来说，信息收集有很多重复性查询筛选，手工相对费时费力，因此可以借助半自动化工具来达到事半功倍的效果。</p>
<h4 id="OneForAll"><a href="#OneForAll" class="headerlink" title="OneForAll"></a>OneForAll</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">https://github.com/shmilylty/OneForAll</a></p>
</blockquote>
<p>解决大多传统子域名收集工具不够强大、不够友好、缺少维护和效率问题的痛点，是一款集百家之长，功能强大的全面快速子域收集终极神器。</p>
<h4 id="subfinder"><a href="#subfinder" class="headerlink" title="subfinder"></a>subfinder</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/projectdiscovery/subfinder">https://github.com/projectdiscovery/subfinder</a></p>
</blockquote>
<p>brew install subfinder</p>
<p>Subfinder 是一个子域发现工具，它通过使用被动在线资源来发现网站的有效子域。它具有简单的模块化架构，并针对速度进行了优化。 subfinder 是为只做一件事而构建的——被动子域枚举，它做得很好。</p>
<h4 id="ksubdomain"><a href="#ksubdomain" class="headerlink" title="ksubdomain"></a>ksubdomain</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/knownsec/ksubdomain">https://github.com/knownsec/ksubdomain</a></p>
</blockquote>
<p>ksubdomain 是一款基于无状态子域名爆破工具，支持在 Windows&#x2F;Linux&#x2F;Mac 上使用，它会很快的进行 DNS 爆破，在 Mac 和 Windows 上理论最大发包速度在 30w&#x2F;s,linux 上为 160w&#x2F;s 的速度。</p>
<h4 id="JSINFO-SCAN"><a href="#JSINFO-SCAN" class="headerlink" title="JSINFO-SCAN"></a>JSINFO-SCAN</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/p1g3/JSINFO-SCAN">https://github.com/p1g3/JSINFO-SCAN</a></p>
</blockquote>
<p>递归爬取域名 (netloc&#x2F;domain)，以及递归从 JS 中获取信息的工具</p>
<h4 id="URLFinder"><a href="#URLFinder" class="headerlink" title="URLFinder"></a>URLFinder</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/pingc0y/URLFinder">https://github.com/pingc0y/URLFinder</a></p>
</blockquote>
<p>URLFinder 是一款用于快速提取检测页面中 JS 与 URL 的工具。</p>
<p>功能类似于 JSFinder，但 JSFinder 好久没更新了。</p>
<h4 id="Layer-子域名挖掘机"><a href="#Layer-子域名挖掘机" class="headerlink" title="Layer 子域名挖掘机"></a>Layer 子域名挖掘机</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/euphrat1ca/LayerDomainFinder">https://github.com/euphrat1ca/LayerDomainFinder</a></p>
</blockquote>
<p>Layer 子域名挖掘机是一款子域名收集工具，拥有简洁的界面和简单的操作模式，支持服务接口查询和暴力枚举获取子域名信息，同时可以通过已获取的域名进行递归爆破。</p>
<h4 id="ESD"><a href="#ESD" class="headerlink" title="ESD"></a>ESD</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/FeeiCN/ESD">https://github.com/FeeiCN/ESD</a></p>
</blockquote>
<p>支持泛解析功能较全的枚举子域工具</p>
<h4 id="EyeWitness"><a href="#EyeWitness" class="headerlink" title="EyeWitness"></a>EyeWitness</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/FortyNorthSecurity/EyeWitness">https://github.com/FortyNorthSecurity/EyeWitness</a></p>
</blockquote>
<p>Eyewitness 可自动查询 URL 对应网站的截图、RDP 服务、Open VNC 服务器以及一些服务器 title、甚至是可识别的默认凭据等，最终会生成一个详细的 html 报告。</p>
<h2 id="0x03-IP-信息收集"><a href="#0x03-IP-信息收集" class="headerlink" title="0x03 IP 信息收集"></a>0x03 IP 信息收集</h2><p>通过 ip 或域名获取到一些基本信息（端口、服务、架构、目录等）后，也可以通过 ip 段目标扩大攻击面，也有可能找到一些未分配的边缘资产。</p>
<h3 id="1-绕过-CDN-获取真实-ip"><a href="#1-绕过-CDN-获取真实-ip" class="headerlink" title="1. 绕过 CDN 获取真实 ip"></a>1. 绕过 CDN 获取真实 ip</h3><h4 id="简述"><a href="#简述" class="headerlink" title="简述"></a>简述</h4><p>CDN 是 IP 信息探测或打点必不可绕过的一个话题。当目标使用了 CDN 加速，获取到的目标 ip 不一定是真实 ip。所以通常在实施端口、漏扫等测试之前，需判断下是否真实 IP，是否使用了 CDN 或其他代理等等，避免无效操作、蜜罐、非目标点。</p>
<blockquote>
<p>CDN 的全称是 Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN 系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet 网络拥挤的状况，提高用户访问网站的响应速度。</p>
</blockquote>
<h5 id="常见-CDN-服务商"><a href="#常见-CDN-服务商" class="headerlink" title="常见 CDN 服务商"></a>常见 CDN 服务商</h5><p><strong>一、国内 CDN 服务商</strong></p>
<ul>
<li>阿里云 CDN</li>
<li>百度云 CDN</li>
<li>七牛云 CDN</li>
<li>又拍云 CDN</li>
<li>腾讯云 CDN</li>
<li>Ucloud</li>
<li>360 CDN</li>
<li>网宿科技</li>
<li>ChinaCache</li>
<li>帝联科技</li>
</ul>
<p><strong>二、国外 CDN 服务商</strong></p>
<ul>
<li>CloudFlare</li>
<li>StackPath</li>
<li>Fastly</li>
<li>Akamai</li>
<li>CloudFront</li>
<li>Edgecast</li>
<li>CDNetworks</li>
<li>Google Cloud CDN</li>
<li>CacheFly</li>
<li>Keycdn</li>
<li>Udomain</li>
<li>CDN77</li>
</ul>
<h4 id="CDN-判断"><a href="#CDN-判断" class="headerlink" title="CDN 判断"></a>CDN 判断</h4><p>确定 CDN 加速解析后，那就要考虑如何绕过来获取真实 ip，以进一步攻击利用。</p>
<h5 id="0x01-多-ping"><a href="#0x01-多-ping" class="headerlink" title="0x01 多 ping"></a>0x01 多 ping</h5><p>通过多地 ping 目标域名，如果没有使用 CDN，只会显示一个 IP 地址，或者双线接入情况的两个不同运营商 ip。</p>
<p>多 ping 在线站点：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://ping.chinaz.com/">http://ping.chinaz.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://ping.aizhan.com/">https://ping.aizhan.com/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.webkaka.com/Ping.aspx">http://www.webkaka.com/Ping.aspx</a></li>
<li><a target="_blank" rel="noopener" href="https://www.host-tracker.com/v3/check/">https://www.host-tracker.com/v3/check/</a></li>
</ul>
<p>如图，不同地区访问有不同 ip，一般存在 CDN：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456841.png"></p>
<h5 id="0x02-nslookup"><a href="#0x02-nslookup" class="headerlink" title="0x02 nslookup"></a>0x02 nslookup</h5><p>获取到的 DNS 域名解析结果中返回多个 ip 的，一般都是存在 CDN 服务。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456842.png"></p>
<h5 id="0x03-header-头信息"><a href="#0x03-header-头信息" class="headerlink" title="0x03 header 头信息"></a>0x03 header 头信息</h5><ul>
<li>请求响应包 header 头中是否存在 cdn 服务商信息</li>
<li>报错信息</li>
<li>若 asp 或者 asp.net 网站返回头的 server 不是 IIS、而是 Nginx，则多半使用了 nginx 反向代理到 CDN</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456843.png"></p>
<h5 id="0x04-在线检测工具"><a href="#0x04-在线检测工具" class="headerlink" title="0x04 在线检测工具"></a>0x04 在线检测工具</h5><ul>
<li><a target="_blank" rel="noopener" href="https://www.cdnplanet.com/tools/cdnfinder/">https://www.cdnplanet.com/tools/cdnfinder/</a></li>
<li><a target="_blank" rel="noopener" href="https://tools.ipip.net/cdn.php">https://tools.ipip.net/cdn.php</a></li>
<li><a target="_blank" rel="noopener" href="https://whatsmycdn.com/">https://whatsmycdn.com/</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456844.png"></p>
<h4 id="获取真实-IP"><a href="#获取真实-IP" class="headerlink" title="获取真实 IP"></a>获取真实 IP</h4><h5 id="0x01-dns-历史绑定记录"><a href="#0x01-dns-历史绑定记录" class="headerlink" title="0x01 dns 历史绑定记录"></a>0x01 dns 历史绑定记录</h5><p>查询域名历史解析记录，可能会存在未使用 cdn 之前的真实 ip 记录：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://dnsdb.io/zh-cn/">https://dnsdb.io/zh-cn/</a></li>
<li><a target="_blank" rel="noopener" href="https://securitytrails.com/">https://securitytrails.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://x.threatbook.cn/">https://x.threatbook.cn/</a></li>
<li><a target="_blank" rel="noopener" href="http://toolbar.netcraft.com/site_report?url=">http://toolbar.netcraft.com/site_report?url&#x3D;</a></li>
<li><a target="_blank" rel="noopener" href="https://viewdns.info/iphistory/?domain=">https://viewdns.info/iphistory/?domain=</a></li>
<li><a target="_blank" rel="noopener" href="https://site.ip138.com/www.xxx.com/">https://site.ip138.com/www.xxx.com/</a></li>
</ul>
<p>CDN 判断：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456845.png"></p>
<p>存在 CDN，利用微步查询获取历史记录，然后将每个 ip 都测试一篇</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456846.png"></p>
<p>通过源代码获取，确定真实 ip</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456847.png"></p>
<h5 id="0x02-网络空间测绘搜索引擎"><a href="#0x02-网络空间测绘搜索引擎" class="headerlink" title="0x02 网络空间测绘搜索引擎"></a>0x02 <strong>网络空间测绘搜索引擎</strong></h5><blockquote>
<p>网络空间测绘，一般都会定时把全网资产扫一遍存在数据库里。</p>
</blockquote>
<p>通过网络空间测绘搜索引擎搜索其收录的目标相关信息，有概率获取到目标真实 IP。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://fofa.so/">fofa</a></li>
<li><a target="_blank" rel="noopener" href="https://www.shodan.io/">shodan</a></li>
<li><a target="_blank" rel="noopener" href="https://quake.360.cn/quake/#/index">quake</a></li>
<li><a target="_blank" rel="noopener" href="https://censys.io/">Censys.io</a></li>
</ul>
<p>大概从以下几个关键因素去搜索验证：</p>
<ul>
<li>ip</li>
<li>域名</li>
<li>title</li>
<li>logo</li>
<li>icp</li>
<li>body</li>
<li>js&#x2F;css&#x2F;html 等静态特征值</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456848.png"></p>
<p>通过获取 logo icon 指纹哈希特征，搜索其相同的主机结果，进一步探测真实 IP：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456849.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456850.png"></p>
<blockquote>
<p>未找到~</p>
</blockquote>
<h5 id="0x03-子域名"><a href="#0x03-子域名" class="headerlink" title="0x03 子域名"></a>0x03 子域名</h5><p>考虑到 CDN 成本问题，一些重要站点会采用 cdn 加速，而一些子域名则没有使用。一般情况下，一些子域名与主站的真实 ip 在同一 c 段或同一台服务器上，这时就可以通过发现子域名 c 段 ip、端口信息，逐个探测定位主站真实 ip 地址。</p>
<p>常见查找方法和工具：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://sousuo.org.cn/">各大搜索引擎</a></li>
<li><a target="_blank" rel="noopener" href="https://x.threatbook.cn/">微步在线</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/shmilylty/OneForAll">oneforall</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knownsec/ksubdomain">ksubdomain</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/p1g3/JSINFO-SCAN">Jsinfo-scan</a></li>
</ul>
<h5 id="0x04-异地-ping"><a href="#0x04-异地-ping" class="headerlink" title="0x04 异地 ping"></a>0x04 异地 ping</h5><p>部分国内 cdn 广商只做了国内的线路，而没有铺设对国外的线路，这时就可以通过海外解析直接获取到真实 IP。</p>
<p>可以使用：</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://ping.chinaz.com/">http://ping.chinaz.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://asm.ca.com/zh_cn/ping.php">https://asm.ca.com/zh_cn&#x2F;ping.php</a></li>
<li><a target="_blank" rel="noopener" href="http://host-tracker.com/">http://host-tracker.com/</a></li>
<li><a target="_blank" rel="noopener" href="http://www.webpagetest.org/">http://www.webpagetest.org/</a></li>
<li><a target="_blank" rel="noopener" href="https://dnscheck.pingdom.com/">https://dnscheck.pingdom.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://www.host-tracker.com/v3/check/">https://www.host-tracker.com/v3/check/</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456851.png"></p>
<h5 id="0x05-SSL-证书"><a href="#0x05-SSL-证书" class="headerlink" title="0x05 SSL 证书"></a>0x05 SSL 证书</h5><p>证书颁发机构 (CA) 必须将他们发布的每个 SSL&#x2F;TLS 证书发布到公共日志中，SSL&#x2F;TLS 证书通常包含域名、子域名和电子邮件地址。因此可以利用 SSL&#x2F;TLS 证书来发现目标站点的真实 IP 地址。</p>
<p>CDN 在提供保护的同时，也会与服务器之间进行加密通信（SSL）。当通过服 443 端口去访问服务器 ip 或域名时，就会暴露其 SSL 证书，也就可以通过证书比对发现服务器的真实 IP 地址。</p>
<h6 id="在线："><a href="#在线：" class="headerlink" title="在线："></a><strong>在线：</strong></h6><ul>
<li><a target="_blank" rel="noopener" href="https://crt.sh/">https://crt.sh/</a></li>
</ul>
<p>通过 <a target="_blank" rel="noopener" href="https://crt.sh/">https://crt.sh</a> 进行快速证书查询收集</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456852.png"></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://censys.io/">Censys 引擎</a></p>
<p>Censys 搜索引擎能够扫描整个互联网，每天都会扫描 IPv4 地址空间，以搜索所有联网设备并收集相关的信息，可以利用 Censys 进行全网方面的 SSL 证书搜索，找到匹配的真实 IP 。</p>
</li>
</ul>
<p>通过 Censys 引擎搜索证书信息，发现多个有效或无效的证书：</p>
<p><a target="_blank" rel="noopener" href="https://search.censys.io/certificates?q=www.roken-niji.jp">https://search.censys.io/certificates?q=www.roken-niji.jp</a></p>
<blockquote>
<p>ps: 并不是有效的证书才是有价值的，无效的证书中也会有很多服务器配置错误依然保留着的信息。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456853.png"></p>
<p>精准定位有效 SSL 证书：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parsed.names: xxx.com and tags.raw: trusted</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456854.png"></p>
<p>逐个打开，根据 sha1 签名反查主机</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456855.png"></p>
<p>无果~~~</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456856.png"></p>
<h6 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a><strong>命令行</strong></h6><ul>
<li>openssl</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">openssl s\_client -connect roken-niji.jp:443 | grep subject</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456857.png"></p>
<ul>
<li>curl</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -v https://www.roken-niji.jp/ | grep &#x27;subject&#x27;</span><br></pre></td></tr></table></figure>

<h6 id="工具：-1"><a href="#工具：-1" class="headerlink" title="工具："></a>工具：</h6><p><code>CloudFlair</code></p>
<p>项目地址：<a target="_blank" rel="noopener" href="https://github.com/christophetd/CloudFlair">https://github.com/christophetd/CloudFlair</a></p>
<blockquote>
<p>使用来自 Censys 的全网扫描数据查找 CloudFlare 背后网站的源服务器。</p>
</blockquote>
<h5 id="0x06-敏感文件泄露"><a href="#0x06-敏感文件泄露" class="headerlink" title="0x06 敏感文件泄露"></a>0x06 敏感文件泄露</h5><p>包括但不限于：</p>
<ul>
<li>服务器日志文件</li>
<li>探针文件，例如 phpinfo</li>
<li>网站备份压缩文件</li>
<li>.DS_Store</li>
<li>.hg</li>
<li>.git</li>
<li>SVN</li>
<li>Web.xml</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456858.png"></p>
<h5 id="0x07-CDN-配置问题"><a href="#0x07-CDN-配置问题" class="headerlink" title="0x07 CDN 配置问题"></a>0x07 CDN 配置问题</h5><p>某些站点只做了 www cname 到 CDN 上，导致 <a target="_blank" rel="noopener" href="https://forum.butian.net/share/1976/www.xxx.com">www.xxx.com</a> 和 xxx.com 是两条独立的解析记录，所以可以通过直接 ping 域名 xxx.com 获取到未加入 cdn 的真实 IP，同理 http 协议和 https 协议配置也是有可能出现这种问题。</p>
<h5 id="0x08-漏洞"><a href="#0x08-漏洞" class="headerlink" title="0x08 漏洞"></a>0x08 漏洞</h5><ul>
<li><p>网站本身存在一些漏洞时，如 XSS&#x2F;SSRF&#x2F;XXE &#x2F; 命令执行等，通过带外服务器地址注入，使服务器主动连接，被动获取连接记录。</p>
</li>
<li><p>部分本身功能，如 url 采集、远程 url 图片、编辑器问题等。</p>
</li>
<li><p>异常信息、调式信息等都有可能泄露真实 IP 或内网 ip 的。</p>
<ul>
<li>ThinkPHP 报错 &#x2F; SpringBoot 变量 &#x2F; phpinfo</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456859.png"></p>
<h5 id="0x09-邮件头信息"><a href="#0x09-邮件头信息" class="headerlink" title="0x09 邮件头信息"></a>0x09 邮件头信息</h5><p>一般邮件系统都在内部，没有经过 CDN 解析，通过邮件发送、RSS 订阅等 sendmail 功能去获取到服务器与邮箱系统交互的邮件源码，在源文件头信息或者源代码中就会包含服务器真实 ip。但需注意该 ip 是否第三方邮件服务器（如腾讯企业邮件、阿里企业邮箱），一般只有应用与网站在同一服务器上时，才获取到当前服务器的真实 ip。</p>
<p>常见交互功能点：</p>
<ul>
<li>RSS 订阅</li>
<li>邮箱注册、激活处</li>
<li>邮箱找回密码处</li>
<li>产品更新的邮件推送</li>
<li>某业务执行后发送的邮件通知</li>
<li>员工邮箱、邮件管理平台等入口处的忘记密码</li>
</ul>
<p>可以通过查 mx 记录确定下是否第三方邮件服务器，当然这里这个邮箱很明显了。。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456860.png"></p>
<blockquote>
<ul>
<li>大佬分享的<code>奇淫技巧</code>：通过发送邮件给一个不存在的邮箱地址，比如 <a href="mailto:000xxx@domain.com">000xxx@domain.com</a> ，因为该用户不存在，所以发送将失败，并且还会收到一个包含发送该电子邮件给你的服务器的真实 IP 通知。</li>
<li>foxmail 导出的邮件可以用编辑器打开查看其内容。</li>
</ul>
</blockquote>
<h5 id="0x10-vhost-碰撞"><a href="#0x10-vhost-碰撞" class="headerlink" title="0x10 vhost 碰撞"></a>0x10 vhost 碰撞</h5><p>只要字典够强大，数据够多，通过 IP 和子域的碰撞，总会有所收获。</p>
<p>在线工具：</p>
<p><a target="_blank" rel="noopener" href="https://pentest-tools.com/information-gathering/find-virtual-hosts#">https://pentest-tools.com/information-gathering/find-virtual-hosts#</a></p>
<h5 id="0x11-应用程序"><a href="#0x11-应用程序" class="headerlink" title="0x11 应用程序"></a>0x11 应用程序</h5><p>一些 app、小程序会直接采用 ip 进行通信交互，也可以通过一些历史版本探测真实 ip。</p>
<h5 id="0x12-通过-F5-LTM-解码"><a href="#0x12-通过-F5-LTM-解码" class="headerlink" title="0x12 通过 F5 LTM 解码"></a>0x12 <strong>通过 F5 LTM 解码</strong></h5><blockquote>
<p>一般常用的负载均衡实现方式：</p>
<ul>
<li>基于 cookie 的会话保持</li>
<li>基于 session 的会话保持，如 weblogic 的 session 复制机制</li>
<li>基于四层的负载，ip + 端口。</li>
</ul>
</blockquote>
<ul>
<li>LTM 是将所有的应用请求分配到多个节点服务器上。提高业务的处理能力，也就是负载均衡。F5 LTM 也就是 5 公司旗下的一种负载均衡方案。</li>
<li>当服务器使用 F5 LTM 做负载均衡时，通过对 <code>set-cookie</code> 关键字的解码，可以获取服务器真实 ip 地址。</li>
</ul>
<p><strong>例如：基于 cookie 会话保持情况：</strong></p>
<p>F5 在获取到客户端第一次请求时，会使用 set cookie 头，给客户端标记一个特定的 cookie。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: BIGipServerPool-i-am-na\_tcp443=2388933130.64288.0000; path=/;</span><br></pre></td></tr></table></figure>

<p>后续客户端请求时，F5 都会去校验 cookie 中得字段，判断交给那个服务器处理。那么就可以利用此机制，获取处理服务器的 ip 地址，大概率也是网站服务器真实 ip。具体解法如下：</p>
<ul>
<li>先把第一小节的十进制数，即 2388933130 取出来</li>
<li>将其转为十六进制数 8e643a0a</li>
<li>接着从后至前，取四个字节出来：0a.3a.64.8e</li>
<li>最后依次转为十进制数 10.58.100.142，即是服务器的真实 ip 地址。</li>
</ul>
<p>一般来说基本都是内网 ip，但也有例外，得看部署情况，无意间找到一个：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: BIGipServerpool-shibboleth3-dev-8080=3045805720.36895.0000; path=/; Httponly</span><br></pre></td></tr></table></figure>

<p>自动化解码工具：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/ezelf/f5_cookieLeaks">https://github.com/ezelf/f5_cookieLeaks</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: BIGipServerpool-shibboleth3-dev-8080=3045805720.36895.0000; path=/; Httponly</span><br></pre></td></tr></table></figure>

<h5 id="0x13-其他"><a href="#0x13-其他" class="headerlink" title="0x13 其他"></a>0x13 其他</h5><ul>
<li><p>扫全网</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/superfish9/hackcdn">https://github.com/superfish9/hackcdn</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/boy-hack/w8fuckcdn">https://github.com/boy-hack/w8fuckcdn</a></li>
</ul>
</li>
<li><p>流量攻击</p>
<ul>
<li>对不设防的 CDN 发起大量访问，导致出错或服务器更换时可能会泄露真实 ip。</li>
</ul>
</li>
<li><p>长期关注</p>
<ul>
<li>定期访问记录 ip 变化，业务变更或架构调整可能会有更换服务器更换 ip 的情况。</li>
</ul>
</li>
<li><p>流量包问题</p>
<ul>
<li>部分开发者会将真实 ip 记录到一些 header 响应头或者响应包中。</li>
</ul>
</li>
<li><p>403 绕过</p>
<ul>
<li>当目标地址放在标头（如 Location 头）中时，可通过抓包将 http 协议改为 1.0 并将请求中除第一行外的所有数据删掉，再发送请求有机会再相应包中 Location 头获取到真实 ip 地址。</li>
<li>……</li>
</ul>
</li>
</ul>
<p>更多方法可以参考 binmaker 大佬的总结：</p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIzNzMxMDkxNw==&mid=2247490046&idx=1&sn=994fc288c54907e7317c6818e2e2507b&chksm=e8cbdf54dfbc5642dd5ac26de38bfcf5749614d5bf6ba5bb61cb9078a59027d6ee7f5e183ad1#rd">渗透测试中最全的 CDN 绕过总结</a></p>
<h4 id="真实-ip-验证："><a href="#真实-ip-验证：" class="headerlink" title="真实 ip 验证："></a>真实 ip 验证：</h4><h5 id="cdn-节点判断"><a href="#cdn-节点判断" class="headerlink" title="cdn 节点判断"></a>cdn 节点判断</h5><p>对于一些 cdn 节点可以使用阿里云的 CDN 节点判断验证找到的 ip 是否为 CDN 节点：</p>
<p><a target="_blank" rel="noopener" href="https://www.alibabacloud.com/help/zh/alibaba-cloud-cdn/latest/query-ip-addresses">https://www.alibabacloud.com/help/zh/alibaba-cloud-cdn/latest/query-ip-addresses</a></p>
<h5 id="真实-IP-使用："><a href="#真实-IP-使用：" class="headerlink" title="真实 IP 使用："></a>真实 IP 使用：</h5><ul>
<li><p>通过修改 hosts 文件，将域名和 IP 绑定。</p>
</li>
<li><p>如使用 burpsuite 测试，可以在 Project options ——&gt; Connections ——&gt; Hostname Resolution 中增加域名和 IP 记录。</p>
</li>
<li><p>通过源代码获取，确定真实 ip</p>
<p>使用 view-source:xxx.xxx.xxx.xxx，表明这是真实 ip，如果是真，则返回网站源代码。</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456861.png"></p>
<p>如果是假，则返回 cdn 信息</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456862.png"></p>
<h3 id="2-组织-IP-段"><a href="#2-组织-IP-段" class="headerlink" title="2. 组织 IP 段"></a>2. 组织 IP 段</h3><p>当目标信息比较笼统时，可以通过 IP 地址注册信息查询运营商给目标组织所分配的 ip 段信息，继而对这个段进行测试。这样既可以扩大范围也有可能直接找到 CDN 后的真实服务器。</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://ipwhois.cnnic.net.cn/">CNNIC IP 地址注册信息查询系统</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456863.png"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://apps.db.ripe.net/">RIPE 数据库</a></li>
</ul>
<p>以阿里为例，收集组织对应 ip 信息</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456864.png"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://bgp.he.net/">Hurricane Electric BGP Toolkit</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456865.png"></p>
<h3 id="3-C-段"><a href="#3-C-段" class="headerlink" title="3. C 段"></a>3. C 段</h3><p>一般都是扫 C 段为主，B 段为辅。通过获取同在一个 ip 段的同类型网站或业务来扩大攻击面，往往同 ip 段中会存在一些后台、api 相关处理服务等。</p>
<h4 id="C-段主要收集点："><a href="#C-段主要收集点：" class="headerlink" title="C 段主要收集点："></a>C 段主要收集点：</h4><ul>
<li>ip</li>
<li>端口</li>
<li>容器类型</li>
<li>title</li>
</ul>
<h4 id="扫描常用工具："><a href="#扫描常用工具：" class="headerlink" title="扫描常用工具："></a>扫描常用工具：</h4><h5 id="网络空间搜索引擎（fofa、quake…"><a href="#网络空间搜索引擎（fofa、quake…" class="headerlink" title="网络空间搜索引擎（fofa、quake…)"></a>网络空间搜索引擎（fofa、quake…)</h5><blockquote>
<p>ps: 手工扫描都是实时的，相比空间搜索引擎较精准些。</p>
</blockquote>
<h5 id="nmap"><a href="#nmap" class="headerlink" title="nmap"></a>nmap</h5><ul>
<li><p>工具强大，速度有待优化。</p>
</li>
<li><p>六种扫描结果</p>
<ul>
<li>open(开放的)</li>
<li>filtered(被过滤的)</li>
<li>open|filtered(开放或者被过滤的)</li>
<li>closed(关闭的)</li>
<li>closed|filtered(关闭或者被过滤的)</li>
<li>unfiltered(未被过滤的)</li>
</ul>
</li>
<li><p>常用命令</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">nmap -vvv -Pn -p- ip/24 -n -T4  </span><br><span class="line">#-v 输出详细信息，-v/-vv/-vvv v越多信息越详细 上线3个v  </span><br><span class="line">#-Pn 扫描时不用ping  </span><br><span class="line">#-p-  扫描所有端口（65535个）。如果不使用 -p- ，nmap 将仅扫描1000个端口，GUI参数不可用  </span><br><span class="line">#-n 不做DNS解析  </span><br><span class="line">#-T4 设置时间模板,0-5部分做了扫描时间优化，默认3未作优化。4加速扫描又保持一定准确性</span><br></pre></td></tr></table></figure>

<ul>
<li>扫描全端口，并调用各种脚本</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env bash   </span><br><span class="line"></span><br><span class="line">read -p &quot;ip: &quot; ip  </span><br><span class="line">nmap -v -Pn -p- --open -sV $ip -n -T4 --max-scan-delay 10 --max-retries 3 --min-hostgroup 10 -oX $ip-result-\`date +%y-%m-%d-%H-%M-%S\`.xml --script=dns-zone-transfer,ftp-anon,ftp-proftpd-backdoor,ftp-vsftpd-backdoor,ftp-vuln-cve2010-4221,http-backup-finder,http-cisco-anyconnect,http-iis-short-name-brute,http-put,http-php-version,http-shellshock,http-robots.txt,http-svn-enum,http-webdav-scan,iax2-version,memcached-info,mongodb-info,msrpc-enum,ms-sql-info,mysql-info,nrpe-enum,pptp-version,redis-info,rpcinfo,samba-vuln-cve-2012-1182,smb-vuln-ms08-067,smb-vuln-ms17-010,snmp-info,sshv1,xmpp-info,tftp-enum,teamspeak2-version,ftp-brute,imap-brute,smtp-brute,pop3-brute,mongodb-brute,redis-brute,ms-sql-brute,rlogin-brute,rsync-brute,mysql-brute,pgsql-brute,oracle-sid-brute,oracle-brute,rtsp-url-brute,snmp-brute,svn-brute,telnet-brute,vnc-brute,xmpp-brute</span><br></pre></td></tr></table></figure>

<ul>
<li>快速扫描常见端口，并调用各种脚本</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env bash   </span><br><span class="line"></span><br><span class="line">read -p &quot;ip: &quot; ip  </span><br><span class="line">nmap -vvv -Pn -p 20,22,23,25,53,69,80-89,443,8440-8450,8080-8089,110,111,137,143,161,389,512,873,1194,1352,1433,1521,1500,1723,2082,2181,2601,3128,3312,3306,3389,3690,4848,5000,5432,5900,5984,6379,7001,7002,7003,7778,8000,8069,8888,9000,9002,9080-9081,9090,9200,10001,10002,11211,27017,50070 --open -sV $ip -n -T4 --max-scan-delay 10 --max-retries 3 --min-hostgroup 10 -oX $ip-result-\`date +%y-%m-%d-%H-%M-%S\`.xml --script=dns-zone-transfer,ftp-anon,ftp-proftpd-backdoor,ftp-vsftpd-backdoor,ftp-vuln-cve2010-4221,http-backup-finder,http-cisco-anyconnect,http-iis-short-name-brute,http-put,http-php-version,http-shellshock,http-robots.txt,http-svn-enum,http-webdav-scan,iax2-version,memcached-info,mongodb-info,msrpc-enum,ms-sql-info,mysql-info,nrpe-enum,pptp-version,redis-info,rpcinfo,samba-vuln-cve-2012-1182,smb-vuln-ms08-067,smb-vuln-ms17-010,snmp-info,sshv1,xmpp-info,tftp-enum,teamspeak2-version,ftp-brute,imap-brute,smtp-brute,pop3-brute,mongodb-brute,redis-brute,ms-sql-brute,rlogin-brute,rsync-brute,mysql-brute,pgsql-brute,oracle-sid-brute,oracle-brute,rtsp-url-brute,snmp-brute,svn-brute,telnet-brute,vnc-brute,xmpp-brute</span><br></pre></td></tr></table></figure>

<h5 id="msscan"><a href="#msscan" class="headerlink" title="msscan"></a>msscan</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/robertdavidgraham/masscan">https://github.com/robertdavidgraham/masscan</a></p>
</blockquote>
<ul>
<li><p>速度快，精确度有待优化 &#96;&#96;&#96;shell<br>masscan -p80,8000-8100 10.0.0.0&#x2F;8 –rate&#x3D;10000</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##### masscan\_to\_nmap</span><br></pre></td></tr></table></figure></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/7dog7/masscan_to_nmap">https://github.com/7dog7/masscan_to_nmap</a></p>
<ul>
<li>nmap+msscan 缝合怪</li>
</ul>
<h5 id="Goby"><a href="#Goby" class="headerlink" title="Goby"></a>Goby</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://cn.gobies.org/">https://cn.gobies.org/</a></p>
</blockquote>
<ul>
<li>资产扫描利器，支持图像化、方便快捷、可自定义 poc 漏扫。</li>
</ul>
<h5 id="shuize"><a href="#shuize" class="headerlink" title="shuize"></a>shuize</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/0x727/ShuiZe_0x727">https://github.com/0x727/ShuiZe_0x727</a></p>
</blockquote>
<ul>
<li>信息收集一键化 + 漏洞检验</li>
</ul>
<h5 id="fscan"><a href="#fscan" class="headerlink" title="fscan"></a>fscan</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/shadow1ng/fscan">https://github.com/shadow1ng/fscan</a></p>
</blockquote>
<h5 id="ALLin"><a href="#ALLin" class="headerlink" title="ALLin"></a>ALLin</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/P1-Team/AlliN">https://github.com/P1-Team/AlliN</a></p>
</blockquote>
<h3 id="4-旁站（ip-反查域名）"><a href="#4-旁站（ip-反查域名）" class="headerlink" title="4. 旁站（ip 反查域名）"></a>4. 旁站（ip 反查域名）</h3><p>一个服务器上存在多个站点，可通过 ip 查询相应站点，再从相应站点进一步突破获取服务器权限。</p>
<h5 id="常见查询方法："><a href="#常见查询方法：" class="headerlink" title="常见查询方法："></a>常见查询方法：</h5><p><strong>在线平台：</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.webscan.cc/">https://www.webscan.cc/</a><br><a target="_blank" rel="noopener" href="https://viewdns.info/reverseip/">https://viewdns.info/reverseip/</a><br><a target="_blank" rel="noopener" href="https://reverseip.domaintools.com/">https://reverseip.domaintools.com/</a><br><a target="_blank" rel="noopener" href="https://tools.ipip.net/ipdomain.php">https://tools.ipip.net/ipdomain.php</a><br><a target="_blank" rel="noopener" href="https://dnslytics.com/">https://dnslytics.com/</a></p>
<p><strong>网络空间搜索引擎：</strong></p>
<ul>
<li>fofa、zoomeye、hunte、quake 等</li>
</ul>
<p><strong>工具：</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/Sma11New/ip2domain">ip2domain - 批量查询 ip 对应域名、备案信息、百度权重</a></li>
<li>水泽</li>
<li>nmap</li>
<li>….</li>
</ul>
<h3 id="5-端口"><a href="#5-端口" class="headerlink" title="5. 端口"></a>5. 端口</h3><p>确定真实 ip 后，就可以进行端口扫描，比较常见的就是 nmap 和 masscan 了，masscan 相比 nmap 多了速度的优势，可以快速扫描全端口。扫描可以结合空间引擎结果发现更多目标端口。</p>
<blockquote>
<p>tips:</p>
<ul>
<li>大批量扫描时建议云上挂代理池进行。</li>
<li>查看端口出现频率</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/laconicwolf/Masscan-to-CSV">https://github.com/laconicwolf/Masscan-to-CSV</a></p>
<ul>
<li>masscan 扫描出的端口可以用 nmap 去确认</li>
</ul>
</blockquote>
<p>工具可参考 C 段章节</p>
<h4 id="端口渗透思路表"><a href="#端口渗透思路表" class="headerlink" title="端口渗透思路表"></a>端口渗透思路表</h4><p>引用下某大佬的端口渗透思路表，可以学习学习下。</p>
<table blockindex="489"><thead><tr><th>端口</th><th>服务</th><th>渗透用途</th></tr></thead><tbody><tr><td>tcp 20,21</td><td>FTP</td><td>允许匿名的上传下载, 爆破, 嗅探, win 提权, 远程执行 (proftpd 1.3.5), 各类后门 (proftpd,vsftp 2.3.4)</td></tr><tr><td>tcp 22</td><td>SSH</td><td>可根据已搜集到的信息尝试爆破, v1 版本可中间人, ssh 隧道及内网代理转发, 文件传输等等</td></tr><tr><td>tcp 23</td><td>Telnet</td><td>爆破, 嗅探, 一般常用于路由, 交换登陆, 可尝试弱口令</td></tr><tr><td>tcp 25</td><td>SMTP</td><td>邮件伪造, vrfy/expn 查询邮件用户信息, 可使用 smtp-user-enum 工具来自动跑</td></tr><tr><td>tcp/udp 53</td><td>DNS</td><td>允许区域传送, dns 劫持, 缓存投毒, 欺骗以及各种基于 dns 隧道的远控</td></tr><tr><td>tcp/udp 69</td><td>TFTP</td><td>尝试下载目标及其的各类重要配置文件</td></tr><tr><td>tcp 80-89,443,8440-8450,8080-8089</td><td>各种常用的 Web 服务端口</td><td>可尝试经典的 topn,vpn,owa,webmail, 目标 oa, 各类 Java 控制台, 各类服务器 Web 管理面板, 各类 Web 中间件漏洞利用, 各类 Web 框架漏洞利用等等……</td></tr><tr><td>tcp 110</td><td>POP3</td><td>可尝试爆破, 嗅探</td></tr><tr><td>tcp 111,2049</td><td>NFS</td><td>权限配置不当</td></tr><tr><td>tcp 137,139,445</td><td>Samba</td><td>可尝试爆破以及 smb 自身的各种远程执行类漏洞利用, 如, ms08-067,ms17-010, 嗅探等……</td></tr><tr><td>tcp 143</td><td>IMAP</td><td>可尝试爆破</td></tr><tr><td>udp 161</td><td>SNMP</td><td>爆破默认团队字符串, 搜集目标内网信息</td></tr><tr><td>tcp 389</td><td>LDAP</td><td>ldap 注入, 允许匿名访问, 弱口令</td></tr><tr><td>tcp 512,513,514</td><td>Linux rexec</td><td>可爆破, rlogin 登陆</td></tr><tr><td>tcp 873</td><td>Rsync</td><td>匿名访问, 文件上传</td></tr><tr><td>tcp 1194</td><td>OpenVPN</td><td>想办法钓 VPN 账号, 进内网</td></tr><tr><td>tcp 1352</td><td>Lotus</td><td>弱口令, 信息泄漏, 爆破</td></tr><tr><td>tcp 1433</td><td>SQL Server</td><td>注入, 提权, sa 弱口令, 爆破</td></tr><tr><td>tcp 1521</td><td>Oracle</td><td>tns 爆破, 注入, 弹 shell…</td></tr><tr><td>tcp 1500</td><td>ISPmanager</td><td>弱口令</td></tr><tr><td>tcp 1723</td><td>PPTP</td><td>爆破, 想办法钓 VPN 账号, 进内网</td></tr><tr><td>tcp 2082,2083</td><td>cPanel</td><td>弱口令</td></tr><tr><td>tcp 2181</td><td>ZooKeeper</td><td>未授权访问</td></tr><tr><td>tcp 2601,2604</td><td>Zebra</td><td>默认密码 zerbra</td></tr><tr><td>tcp 3128</td><td>Squid</td><td>弱口令</td></tr><tr><td>tcp 3312,3311</td><td>kangle</td><td>弱口令</td></tr><tr><td>tcp 3306</td><td>MySQL</td><td>注入, 提权, 爆破</td></tr><tr><td>tcp 3389</td><td>Windows rdp</td><td>shift 后门 [需要 03 以下的系统], 爆破, ms12-020</td></tr><tr><td>tcp 3690</td><td>SVN</td><td>svn 泄露, 未授权访问</td></tr><tr><td>tcp 4848</td><td>GlassFish</td><td>弱口令</td></tr><tr><td>tcp 5000</td><td>Sybase/DB2</td><td>爆破, 注入</td></tr><tr><td>tcp 5432</td><td>PostgreSQL</td><td>爆破, 注入, 弱口令</td></tr><tr><td>tcp 5900,5901,5902</td><td>VNC</td><td>弱口令爆破</td></tr><tr><td>tcp 5984</td><td>CouchDB</td><td>未授权导致的任意指令执行</td></tr><tr><td>tcp 6379</td><td>Redis</td><td>可尝试未授权访问, 弱口令爆破</td></tr><tr><td>tcp 7001,7002</td><td>WebLogic</td><td>Java 反序列化, 弱口令</td></tr><tr><td>tcp 7778</td><td>Kloxo</td><td>主机面板登录</td></tr><tr><td>tcp 8000</td><td>Ajenti</td><td>弱口令</td></tr><tr><td>tcp 8009</td><td>tomcat Ajp</td><td>Tomcat-Ajp 协议漏洞</td></tr><tr><td>tcp 8443</td><td>Plesk</td><td>弱口令</td></tr><tr><td>tcp 8069</td><td>Zabbix</td><td>远程执行, SQL 注入</td></tr><tr><td>tcp 8080-8089</td><td>Jenkins,JBoss</td><td>反序列化, 控制台弱口令</td></tr><tr><td>tcp 9080-9081,9090</td><td>WebSphere</td><td>Java 反序列化 / 弱口令</td></tr><tr><td>tcp 9200,9300</td><td>ElasticSearch</td><td>远程执行</td></tr><tr><td>tcp 11211</td><td>Memcached</td><td>未授权访问</td></tr><tr><td>tcp 27017,27018</td><td>MongoDB</td><td>爆破, 未授权访问</td></tr><tr><td>tcp 50070,50030</td><td>Hadoop</td><td>默认端口未授权访问</td></tr></tbody></table>

<hr>
<table blockindex="491"><thead><tr><th><strong>端口号</strong></th><th><strong>端口说明</strong></th><th><strong>渗透思路</strong></th></tr></thead><tbody><tr><td>21/69</td><td>FTP/TFTP：文件传输协议</td><td>爆破、内网嗅探</td></tr><tr><td>22</td><td>SSH：远程连接</td><td>用户名枚举、爆破</td></tr><tr><td>23</td><td>Telnet：远程连接</td><td>爆破、内网嗅探</td></tr><tr><td>25</td><td>SMTP：邮件服务</td><td>邮件伪造</td></tr><tr><td>53</td><td>DNS：域名系统</td><td>DNS 域传送 \ DNS 缓存投毒 \ DNS 欺骗 \ 利用 DNS 隧道技术刺透防火墙</td></tr><tr><td>389</td><td>LDAP</td><td>未授权访问（通过 LdapBrowser 工具直接连入）</td></tr><tr><td>443</td><td>https 服务</td><td>OpenSSL 心脏滴血（nmap -sV --script=ssl-heartbleed 目标）</td></tr><tr><td>445</td><td>SMB 服务</td><td>ms17_010 远程代码执行</td></tr><tr><td>873</td><td>rsync 服务</td><td>未授权访问</td></tr><tr><td>1090/1099</td><td>Java-rmi</td><td>JAVA 反序列化远程命令执行漏洞</td></tr><tr><td>1352</td><td>Lotus Domino 邮件服务</td><td>爆破：弱口令、信息泄漏：源代码</td></tr><tr><td>1433</td><td>MSSQL</td><td>注入、SA 弱口令爆破、提权</td></tr><tr><td>1521</td><td>Oracle</td><td>注入、TNS 爆破</td></tr><tr><td>2049</td><td>NFS</td><td>配置不当</td></tr><tr><td>2181</td><td>ZooKeeper 服务</td><td>未授权访问</td></tr><tr><td>3306</td><td>MySQL</td><td>注入、爆破、写 shell、提权</td></tr><tr><td>3389</td><td>RDP</td><td>爆破、Shift 后门、CVE-2019-0708 远程代码执行</td></tr><tr><td>4848</td><td>GlassFish 控制台</td><td>爆破：控制台弱口令、认证绕过</td></tr><tr><td>5000</td><td>Sybase/DB2 数据库</td><td>爆破、注入</td></tr><tr><td>5432</td><td>PostgreSQL</td><td>爆破弱口令、高权限执行系统命令</td></tr><tr><td>5632</td><td>PcAnywhere 服务</td><td>爆破弱口令</td></tr><tr><td>5900</td><td>VNC</td><td>爆破：弱口令、认证绕过</td></tr><tr><td>6379</td><td>Redis</td><td>未授权访问、爆破弱口令</td></tr><tr><td>7001</td><td>WebLogic 中间件</td><td>反序列化、控制台弱口令 + 部署 war 包、SSRF</td></tr><tr><td>8000</td><td>jdwp</td><td>JDWP 远程命令执行漏洞（<a target="_blank" rel="noopener" href="https://github.com/IOActive/jdwp-shellifier">工具</a>）</td></tr><tr><td>8080/8089</td><td>Tomcat/JBoss/Resin/Jetty/Jenkins</td><td>反序列化、控制台弱口令、未授权</td></tr><tr><td>8161</td><td>ActiveMQ</td><td>admin/admin、任意文件写入、反序列化</td></tr><tr><td>8069</td><td>Zabbix</td><td>远程命令执行</td></tr><tr><td>9043</td><td>WebSphere 控制台</td><td>控制台弱口令 <a target="_blank" rel="noopener" href="https://blog.gm7.org/%E4%B8%AA%E4%BA%BA%E7%9F%A5%E8%AF%86%E5%BA%93/01.%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/01.%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/1.%E8%B5%84%E4%BA%A7%E6%94%B6%E9%9B%86/03.IP%E6%AE%B5%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/07.%E7%AB%AF%E5%8F%A3%E5%AF%B9%E5%BA%94%E6%B8%97%E9%80%8F%EF%BC%88%E7%AB%AF%E5%8F%A3%E6%B8%97%E9%80%8F%E5%A4%87%E5%BF%98%E5%BD%95%EF%BC%89.html">https://:9043/ibm/console/logon.jsp、远程代码执行</a></td></tr><tr><td>9200/9300</td><td>Elasticsearch 服务</td><td>远程代码执行</td></tr><tr><td>11211</td><td>Memcache</td><td>未授权访问（nc -vv 目标 11211）</td></tr><tr><td>27017</td><td>MongoDB</td><td>未授权访问、爆破弱口令</td></tr><tr><td>50000</td><td>SAP</td><td>远程代码执行</td></tr><tr><td>50070</td><td>hadoop</td><td>未授权访问</td></tr></tbody></table>

<hr>
<table blockindex="493"><thead><tr><th><strong>端口号</strong></th><th><strong>服务</strong></th><th><strong>渗透思路</strong></th></tr></thead><tbody><tr><td>21</td><td>FTP/TFTP/VSFTPD</td><td>爆破 / 嗅探 / 溢出 / 后门</td></tr><tr><td>22</td><td>ssh 远程连接</td><td>爆破 / openssh 漏洞</td></tr><tr><td>23</td><td>Telnet 远程连接</td><td>爆破 / 嗅探 / 弱口令</td></tr><tr><td>25</td><td>SMTP 邮件服务</td><td>邮件伪造</td></tr><tr><td>53</td><td>DNS 域名解析系统</td><td>域传送 / 劫持 / 缓存投毒 / 欺骗</td></tr><tr><td>67/68</td><td>dhcp 服务</td><td>劫持 / 欺骗</td></tr><tr><td>110</td><td>pop3</td><td>爆破 / 嗅探</td></tr><tr><td>139</td><td>Samba 服务</td><td>爆破 / 未授权访问 / 远程命令执行</td></tr><tr><td>143</td><td>Imap 协议</td><td>爆破 161SNMP 协议爆破 / 搜集目标内网信息</td></tr><tr><td>389</td><td>Ldap 目录访问协议</td><td>注入 / 未授权访问 / 弱口令</td></tr><tr><td>445</td><td>smb</td><td>ms17-010 / 端口溢出</td></tr><tr><td>512/513/514</td><td>Linux Rexec 服务</td><td>爆破 / Rlogin 登陆</td></tr><tr><td>873</td><td>Rsync 服务</td><td>文件上传 / 未授权访问</td></tr><tr><td>1080</td><td>socket</td><td>爆破</td></tr><tr><td>1352</td><td>Lotus domino 邮件服务</td><td>爆破 / 信息泄漏</td></tr><tr><td>1433</td><td>mssql</td><td>爆破 / 注入 / SA 弱口令</td></tr><tr><td>1521</td><td>oracle</td><td>爆破 / 注入 / TNS 爆破 / 反弹 shell2049Nfs 服务配置不当</td></tr><tr><td>2181</td><td>zookeeper 服务</td><td>未授权访问</td></tr><tr><td>2375</td><td>docker remote api</td><td>未授权访问</td></tr><tr><td>3306</td><td>mysql</td><td>爆破 / 注入</td></tr><tr><td>3389</td><td>Rdp 远程桌面链接</td><td>爆破 / shift 后门</td></tr><tr><td>4848</td><td>GlassFish 控制台</td><td>爆破 / 认证绕过</td></tr><tr><td>5000</td><td>sybase/DB2 数据库</td><td>爆破 / 注入 / 提权</td></tr><tr><td>5432</td><td>postgresql</td><td>爆破 / 注入 / 缓冲区溢出</td></tr><tr><td>5632</td><td>pcanywhere 服务</td><td>抓密码 / 代码执行</td></tr><tr><td>5900</td><td>vnc</td><td>爆破 / 认证绕过</td></tr><tr><td>6379</td><td>Redis 数据库</td><td>未授权访问 / 爆破</td></tr><tr><td>7001/7002</td><td>weblogic</td><td>java 反序列化 / 控制台弱口令</td></tr><tr><td>80/443</td><td>http/https</td><td>web 应用漏洞 / 心脏滴血</td></tr><tr><td>8069</td><td>zabbix 服务</td><td>远程命令执行 / 注入</td></tr><tr><td>8161</td><td>activemq</td><td>弱口令 / 写文件</td></tr><tr><td>8080/8089</td><td>Jboss/Tomcat/Resin</td><td>爆破 / PUT 文件上传 / 反序列化</td></tr><tr><td>8083/8086</td><td>influxDB</td><td>未授权访问</td></tr><tr><td>9000</td><td>fastcgi</td><td>远程命令执行</td></tr><tr><td>9090</td><td>Websphere</td><td>控制台爆破 / java 反序列化 / 弱口令</td></tr><tr><td>9200/9300</td><td>elasticsearch</td><td>远程代码执行</td></tr><tr><td>11211</td><td>memcached</td><td>未授权访问</td></tr><tr><td>27017/27018</td><td>mongodb</td><td>未授权访问 / 爆破</td></tr></tbody></table>

<hr>
<table blockindex="495"><thead><tr><th><strong>端口号</strong></th><th><strong>服务</strong></th><th><strong>渗透思路</strong></th></tr></thead><tbody><tr><td>20</td><td>ftp_data</td><td>爆破、嗅探、溢出、后门</td></tr><tr><td>21</td><td>ftp_control</td><td>爆破、嗅探、溢出、后门</td></tr><tr><td>23</td><td>telnet</td><td>爆破、嗅探</td></tr><tr><td>25</td><td>smtp</td><td>邮件伪造</td></tr><tr><td>53</td><td>DNS</td><td>DNS 区域传输、DNS 劫持、DNS 缓存投毒、DNS 欺骗、深度利用：利用 DNS 隧道技术刺透防火墙</td></tr><tr><td>67</td><td>dhcp</td><td>劫持、欺骗</td></tr><tr><td>68</td><td>dhcp</td><td>劫持、欺骗</td></tr><tr><td>110</td><td>pop3</td><td>爆破</td></tr><tr><td>139</td><td>samba</td><td>爆破、未授权访问、远程代码执行</td></tr><tr><td>143</td><td>imap</td><td>爆破</td></tr><tr><td>161</td><td>snmp</td><td>爆破</td></tr><tr><td>389</td><td>ldap</td><td>注入攻击、未授权访问</td></tr><tr><td>512</td><td>linux r</td><td>直接使用 rlogin</td></tr><tr><td>513</td><td>linux r</td><td>直接使用 rlogin</td></tr><tr><td>514</td><td>linux r</td><td>直接使用 rlogin</td></tr><tr><td>873</td><td>rsync</td><td>未授权访问</td></tr><tr><td>888</td><td>BTLINUX</td><td>宝塔 Linux 主机管理后台 / 默认帐户：admin｜默认密码：admin</td></tr><tr><td>999</td><td>PMA</td><td>护卫神佩带的 phpmyadmin 管理后台，默认帐户：root｜默认密码：huweishen.com</td></tr><tr><td>1080</td><td>socket</td><td>爆破：进行内网渗透</td></tr><tr><td>1352</td><td>lotus</td><td>爆破：弱口令、信息泄露：源代码</td></tr><tr><td>1433</td><td>mssql</td><td>爆破：使用系统用户登录、注入攻击</td></tr><tr><td>1521</td><td>oracle</td><td>爆破：TNS、注入攻击</td></tr><tr><td>2049</td><td>nfs</td><td>配置不当</td></tr><tr><td>2181</td><td>zookeeper</td><td>未授权访问</td></tr><tr><td>3306</td><td>mysql</td><td>爆破、拒绝服务、注入</td></tr><tr><td>3389</td><td>rdp</td><td>爆破、Shift 后门</td></tr><tr><td>4848</td><td>glassfish</td><td>爆破：控制台弱口令、认证绕过</td></tr><tr><td>5000</td><td>sybase/DB2</td><td>爆破、注入</td></tr><tr><td>5432</td><td>postgresql</td><td>缓冲区溢出、注入攻击、爆破：弱口令</td></tr><tr><td>5632</td><td>pcanywhere</td><td>拒绝服务、代码执行</td></tr><tr><td>5900</td><td>vnc</td><td>爆破：弱口令、认证绕过</td></tr><tr><td>5901</td><td>vnc</td><td>爆破：弱口令、认证绕过</td></tr><tr><td>5902</td><td>vnc</td><td>爆破：弱口令、认证绕过</td></tr><tr><td>6379</td><td>redis</td><td>未授权访问、爆破：弱口令</td></tr><tr><td>7001</td><td>weblogic</td><td>JAVA 反序列化、控制台弱口令、控制台部署 webshell</td></tr><tr><td>7002</td><td>weblogic</td><td>JAVA 反序列化、控制台弱口令、控制台部署 webshell</td></tr><tr><td>80</td><td>web</td><td>常见 Web 攻击、控制台爆破、对应服务器版本漏洞</td></tr><tr><td>443</td><td>web</td><td>常见 Web 攻击、控制台爆破、对应服务器版本漏洞</td></tr><tr><td>8080</td><td>web｜Tomcat｜..</td><td>常见 Web 攻击、控制台爆破、对应服务器版本漏洞、Tomcat 漏洞</td></tr><tr><td>8069</td><td>zabbix</td><td>远程命令执行</td></tr><tr><td>9090</td><td>websphere</td><td>文件泄露、爆破：控制台弱口令、Java 反序列</td></tr><tr><td>9200</td><td>elasticsearch</td><td>未授权访问、远程代码执行</td></tr><tr><td>9300</td><td>elasticsearch</td><td>未授权访问、远程代码执行</td></tr><tr><td>11211</td><td>memcacache</td><td>未授权访问</td></tr><tr><td>27017</td><td>mongodb</td><td>爆破、未授权访问</td></tr><tr><td>27018</td><td>mongodb</td><td>爆破、未授权访问</td></tr><tr><td>50070</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>50075</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>14000</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>8480</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>8088</td><td>web</td><td>爆破、未授权访问</td></tr><tr><td>50030</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>50060</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>60010</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>60030</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>10000</td><td>Virtualmin/Webmin</td><td>服务器虚拟主机管理系统</td></tr><tr><td>10003</td><td>Hadoop</td><td>爆破、未授权访问</td></tr><tr><td>5984</td><td>couchdb</td><td>未授权访问</td></tr><tr><td>445</td><td>SMB</td><td>弱口令爆破，检测是否有 ms_08067 等溢出</td></tr><tr><td>1025</td><td>111</td><td>NFS</td></tr><tr><td>2082</td><td></td><td>cpanel 主机管理系统登陆 （国外用较多）</td></tr><tr><td>2083</td><td></td><td>cpanel 主机管理系统登陆 （国外用较多）</td></tr><tr><td>2222</td><td></td><td>DA 虚拟主机管理系统登陆 （国外用较多）</td></tr><tr><td>2601</td><td></td><td>zebra 路由</td></tr><tr><td>2604</td><td></td><td>zebra 路由</td></tr><tr><td>3128</td><td></td><td>代理默认端口, 如果没设置口令很可能就直接漫游内网了</td></tr><tr><td>3311</td><td></td><td>kangle 主机管理系统登陆</td></tr><tr><td>3312</td><td></td><td>kangle 主机管理系统登陆</td></tr><tr><td>4440</td><td></td><td>参考 WooYun: 借用新浪某服务成功漫游新浪内网</td></tr><tr><td>6082</td><td></td><td>参考 WooYun: Varnish HTTP accelerator CLI 未授权访问易导致网站被直接篡改或者作为代理进入内网</td></tr><tr><td>7778</td><td></td><td>主机控制面板登录</td></tr><tr><td>8083</td><td></td><td>主机管理系统 （国外用较多）</td></tr><tr><td>8649</td><td></td><td></td></tr><tr><td>8888</td><td></td><td>主机管理系统默认端口</td></tr><tr><td>9000</td><td></td><td>fcgi php 执行</td></tr><tr><td>50000</td><td>SAP</td><td>命令执行</td></tr></tbody></table>

<p><strong>Web 端口：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">80,81,82,443,5000,7001,7010,7100,7547,7777,7801,8000,8001,8002,8003,8005,8009,8010,8011,8060,8069,8070,8080,8081,8082,8083,8085,8086,8087,8088,8089,8090,8091,8161,8443,8880,8888,8970,8989,9000,9001,9002,9043,9090,9200,9300,9443,9898,9900,9998,10002,50000,50070</span><br></pre></td></tr></table></figure>

<p><strong>服务器：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">21,22,445,3389,5900</span><br></pre></td></tr></table></figure>

<p><strong>数据库：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1433,1521,3306,6379,11211,27017</span><br></pre></td></tr></table></figure>

<h3 id="6-IP-定位"><a href="#6-IP-定位" class="headerlink" title="6. IP 定位"></a>6. IP 定位</h3><p>这里提供几个不错的溯源定位工具：</p>
<p><a target="_blank" rel="noopener" href="https://www.opengps.cn/Default.aspx">https://www.opengps.cn/Default.aspx</a><br><a target="_blank" rel="noopener" href="https://www.chaipip.com/aiwen.html">https://www.chaipip.com/aiwen.html</a><br><a target="_blank" rel="noopener" href="https://cz88.net/">https://cz88.net/</a></p>
<h2 id="0x04-指纹信息"><a href="#0x04-指纹信息" class="headerlink" title="0x04 指纹信息"></a>0x04 指纹信息</h2><p>通过关键特征，去识别出目标指纹信息可以快速了解目标架构信息，调整攻击方向。</p>
<p>常见指纹信息：</p>
<ul>
<li><p>CMS</p>
<ul>
<li>Discuz、织梦、帝国 CMS、WordPress、ecshop、蝉知等</li>
</ul>
</li>
<li><p>前端技术</p>
<ul>
<li>HTML5、jquery、bootstrap、Vue 等</li>
</ul>
</li>
<li><p>开发语言</p>
<ul>
<li>PHP、JAVA、Ruby、Python、C# 等</li>
</ul>
</li>
<li><p>web 服务器</p>
<ul>
<li>Apache、Nginx、IIS、lighttpd 等</li>
</ul>
</li>
<li><p>应用服务器：</p>
<ul>
<li>Tomcat、Jboss、Weblogic、Websphere 等</li>
</ul>
</li>
<li><p>操作系统信息</p>
<ul>
<li>Linux、windows 等</li>
</ul>
</li>
<li><p>CDN 信息</p>
<ul>
<li>帝联、Cloudflare、网宿、七牛云、阿里云等</li>
</ul>
</li>
<li><p>WAF 信息</p>
<ul>
<li>创宇盾、宝塔、安全狗、D 盾、玄武盾等。</li>
</ul>
</li>
<li><p>其他组件信息</p>
<ul>
<li>fastjson、shiro、log4j 等</li>
<li>OA 协议办公</li>
</ul>
</li>
</ul>
<h3 id="1-CMS"><a href="#1-CMS" class="headerlink" title="1. CMS"></a>1. CMS</h3><p>已知目标 CMS 后，可以通过已知漏洞匹配利用，如果是开源 CMS，就可以进行审计精准发现问题点。</p>
<h4 id="开发语言识别思路"><a href="#开发语言识别思路" class="headerlink" title="开发语言识别思路"></a>开发语言识别思路</h4><ol>
<li><p>通过爬虫获取动态链接然后进行正则匹配判断</p>
</li>
<li><p>header 头中 X-Powered-By 信息</p>
</li>
<li><p>Set-Cookie 特征信息</p>
<p>如包含 PHPSSIONID 说明是 php、包含 JSESSIONID 说明是 java、包含 ASP.NET_SessionId 说明是 aspx。</p>
</li>
</ol>
<h4 id="服务器系统识别思路"><a href="#服务器系统识别思路" class="headerlink" title="服务器系统识别思路"></a>服务器系统识别思路</h4><ol>
<li>通过 ping 命令根据回显中的 ttl 值来判断是 win 还是 linux，但值可被修改精准度不高。默认 Linux 是 64，win 是 128</li>
<li>页面回显、报错回显、header 头等站点泄露的系统信息。</li>
<li>nmap</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -O IP</span><br></pre></td></tr></table></figure>

<h4 id="CMS-识别思路"><a href="#CMS-识别思路" class="headerlink" title="CMS 识别思路"></a>CMS 识别思路</h4><h5 id="特定文件的-MD5"><a href="#特定文件的-MD5" class="headerlink" title="特定文件的 MD5"></a><strong>特定文件的 MD5</strong></h5><p>一般来说，网站的特定图标、js、css 等静态文件不会去修改，通过爬虫对这些文件进行抓取并与规则库中 md5 值做对比，如果一致就是同一 CMS。这种情况不排除会出现二开导致的误报，但速度较快。</p>
<h5 id="页面关键字"><a href="#页面关键字" class="headerlink" title="页面关键字"></a><strong>页面关键字</strong></h5><p>正则匹配关键字或报错信息判断。如 Powered by Discuz、dedecms 等、tomcat 报错页面</p>
<h5 id="请求头信息关键字"><a href="#请求头信息关键字" class="headerlink" title="请求头信息关键字"></a><strong>请求头信息关键字</strong></h5><p>通过匹配 http 响应包中的 banner 信息来识别。</p>
<p>如：</p>
<ul>
<li>X-Powered-By 字段</li>
<li>Cookies 特征</li>
<li>Server 信息</li>
<li>WWW-Authenticate</li>
<li>Meta 特征</li>
<li>……</li>
</ul>
<h5 id="url-关键字"><a href="#url-关键字" class="headerlink" title="url 关键字"></a><strong>url 关键字</strong></h5><p>将 url 中存在路由、robots.txt、爬虫结果与规则库做对比分析来判断是否使用了某 CMS</p>
<p>如：</p>
<ul>
<li>wordpress 默认存在目录：wp-includes、wp-admin</li>
<li>织梦默认管理后台：dede</li>
<li>帝国常用目录：login&#x2F;loginjs.php</li>
<li>weblogic 常用目录：wls-wsat</li>
<li>jboss 常用目录：jmx-console</li>
<li>……</li>
</ul>
<h4 id="在线平台"><a href="#在线平台" class="headerlink" title="在线平台"></a>在线平台</h4><ul>
<li><a target="_blank" rel="noopener" href="http://whatweb.bugscaner.com/look/">bugscaner</a></li>
<li><a target="_blank" rel="noopener" href="https://fp.shuziguanxing.com/#/">数字观星</a></li>
<li><a target="_blank" rel="noopener" href="https://www.yunsee.cn/">云悉</a>（自从需要认证后就没有用过….. 还认证失败…..）</li>
<li><a target="_blank" rel="noopener" href="https://www.whatweb.net/">WhatWeb</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456866.png"></p>
<h4 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h4><ul>
<li>御剑 Web 指纹识别</li>
<li>WhatWeb</li>
<li>Test404 轻量 CMS 指纹识别</li>
<li>椰树</li>
<li>WTFScan</li>
<li><a target="_blank" rel="noopener" href="https://github.com/lcvvvv/kscan">Kscan</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Tuhinshubhra/CMSeeK">CMSeeK</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Dionach/CMSmap">CMSmap</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/aedoo/ACMSDiscovery">ACMSDiscovery</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/TideSec/TideFinger">TideFinger</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Lucifer1993/AngelSword">AngelSword</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/EdgeSecurityTeam/EHole">EHole(棱洞)2.0</a></li>
</ul>
<blockquote>
<p>ps: cms 识别主要还是在于指纹库的维护和更新。</p>
</blockquote>
<h4 id="浏览器插件"><a href="#浏览器插件" class="headerlink" title="浏览器插件"></a>浏览器插件</h4><p><a target="_blank" rel="noopener" href="https://www.wappalyzer.com/">wappalyzer</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456867.png"></p>
<p>插件开源指纹库：<a target="_blank" rel="noopener" href="https://github.com/AliasIO/wappalyzer/tree/master/src/technologies">https://github.com/AliasIO/wappalyzer/tree/master/src/technologies</a></p>
<h3 id="2-WAF"><a href="#2-WAF" class="headerlink" title="2. WAF"></a>2. WAF</h3><p>遇到 WAF 就得对症下药，总的来说识别分为两种手工和工具：</p>
<h4 id="手工"><a href="#手工" class="headerlink" title="手工"></a>手工</h4><p>一般直接输入敏感字段触发拦截规则库就行，如 XSS、SQL payload</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456868.png"></p>
<p>常见的 WAF 拦截页面可以参考下某大佬总结的 WAF 一图流：<a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1872310">https://cloud.tencent.com/developer/article/1872310</a></p>
<h4 id="工具-1"><a href="#工具-1" class="headerlink" title="工具"></a>工具</h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/EnableSecurity/wafw00f">https://github.com/EnableSecurity/wafw00f</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/Ekultek/WhatWaf">https://github.com/Ekultek/WhatWaf</a></li>
<li>nmap 的<code>http-waf-fingerprint.nse</code>脚本</li>
</ul>
<h3 id="3-组件"><a href="#3-组件" class="headerlink" title="3. 组件"></a>3. 组件</h3><p>一般通过异常报错、常用路由、常用 header 头来获取组件版本、配置等相关信息。</p>
<p>常见组件漏洞简记参考博客《组件漏洞简记》章</p>
<h3 id="4-信息处理"><a href="#4-信息处理" class="headerlink" title="4. 信息处理"></a>4. 信息处理</h3><p>对前期收集到的大量资产域名、ip 信息批量进行存活性、title、架构、服务等信息进行验证提取时，可以用一些自动化工具筛选出有价值的数据，从而提高漏洞发现效率。</p>
<h4 id="Ehole"><a href="#Ehole" class="headerlink" title="Ehole"></a>Ehole</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/EdgeSecurityTeam/EHole">https://github.com/EdgeSecurityTeam/EHole</a></p>
<p>EHole 是一款对资产中重点系统指纹识别的工具，在红队作战中，信息收集是必不可少的环节，如何才能从大量的资产中提取有用的系统 (如 OA、VPN、Weblogic…)。EHole 旨在帮助红队人员在信息收集期间能够快速从 C 段、大量杂乱的资产中精准定位到易被攻击的系统，从而实施进一步攻击。</p>
</blockquote>
<h4 id="AlliN"><a href="#AlliN" class="headerlink" title="AlliN"></a>AlliN</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/P1-Team/AlliN">https://github.com/P1-Team/AlliN</a></p>
<p>一个辅助平常渗透测试项目或者攻防项目快速打点的综合工具，由之前写的工具 AG3 改名而来。是一款轻便、小巧、快速、全面的扫描工具。多用于渗透前资产收集和渗透后内网横向渗透。工具从项目上迭代了一些懒人功能（比如提供扫描资产文件中，可以写绝大部分的各种形式的链接 &#x2F; CIDR, 并在此基础上可以添加任意端口和路径）</p>
</blockquote>
<h4 id="Bufferfly"><a href="#Bufferfly" class="headerlink" title="Bufferfly"></a>Bufferfly</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/dr0op/bufferfly">https://github.com/dr0op/bufferfly</a></p>
<p>攻防资产处理小工具，对攻防前的信息搜集到的大批量资产 &#x2F; 域名进行存活检测、获取标题头、语料提取、常见 web 端口检测、简单中间识别，去重等，便于筛选有价值资产。</p>
</blockquote>
<h4 id="HKTools"><a href="#HKTools" class="headerlink" title="HKTools"></a>HKTools</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/Security-Magic-Weapon/HKTools">https://github.com/Security-Magic-Weapon/HKTools</a></p>
<p>一款辅助安全研发在日常工作中渗透测试、安全研究、安全开发等工作的工具</p>
</blockquote>
<h4 id="EyeWitness-1"><a href="#EyeWitness-1" class="headerlink" title="EyeWitness"></a>EyeWitness</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/FortyNorthSecurity/EyeWitness">https://github.com/FortyNorthSecurity/EyeWitness</a></p>
</blockquote>
<p>Eyewitness 可自动查询 URL 对应网站的截图、RDP 服务、Open VNC 服务器以及一些服务器 title、甚至是可识别的默认凭据等，最终会生成一个详细的 html 报告。</p>
<h4 id="anew-去重"><a href="#anew-去重" class="headerlink" title="anew(去重)"></a>anew(去重)</h4><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/tomnomnom/anew">https://github.com/tomnomnom/anew</a></p>
<p>好用的去重对比工具</p>
</blockquote>
<h2 id="0x05-敏感信息"><a href="#0x05-敏感信息" class="headerlink" title="0x05 敏感信息"></a>0x05 敏感信息</h2><h3 id="1-目录结构及敏感文件"><a href="#1-目录结构及敏感文件" class="headerlink" title="1. 目录结构及敏感文件"></a>1. 目录结构及敏感文件</h3><p>常见的敏感目录及文件，会对渗透突破有着很大作用，收集思路一般是爬虫采集、递归扫描、Google Hacking。</p>
<h4 id="常见敏感目录及文件"><a href="#常见敏感目录及文件" class="headerlink" title="常见敏感目录及文件"></a>常见敏感目录及文件</h4><ul>
<li>备份文件：<code>www.zip</code>、<code>www.rar</code>、<code>blog.gm7.org.zip</code>等</li>
<li>代码仓库：<code>.git</code>、<code>.svn</code>等</li>
<li>敏感、隐藏 api 接口：<code>/swagger-ui.html</code>、<code>/env</code>等</li>
<li>站点配置文件：<code>crossdomain.xml</code>、<code>sitemap.xml</code>、<code>security.txt</code>等</li>
<li>robots 文件</li>
<li>网站后台管理页面</li>
<li>文件上传 &#x2F; 下载界面</li>
<li>…</li>
</ul>
<blockquote>
<p>tips:</p>
<ul>
<li>扫描核心主要在于字典价值</li>
<li>403、404 页面可能会存在一些信息，可以多 fuzz 下。</li>
<li>工具使用时善于关键字过滤，将会减少一些误报。</li>
</ul>
</blockquote>
<h4 id="工具推荐"><a href="#工具推荐" class="headerlink" title="工具推荐"></a>工具推荐</h4><h5 id="dirsearch"><a href="#dirsearch" class="headerlink" title="dirsearch"></a><a target="_blank" rel="noopener" href="https://github.com/maurosoria/dirsearch">dirsearch</a></h5><p>dirsearch 是一款使用 python3 编写的，用于暴力破解目录的工具，速度不错，支持随机代理、内容过滤。</p>
<h5 id="feroxbuster"><a href="#feroxbuster" class="headerlink" title="feroxbuster"></a><a target="_blank" rel="noopener" href="https://github.com/epi052/feroxbuster">feroxbuster</a></h5><p>用 Rust 编写的快速，简单，递归的内容发现工具</p>
<h5 id="yjdirscan"><a href="#yjdirscan" class="headerlink" title="yjdirscan"></a><a target="_blank" rel="noopener" href="https://github.com/foryujian/yjdirscan">yjdirscan</a></h5><p>御剑目录扫描专业版</p>
<h4 id="字典推荐"><a href="#字典推荐" class="headerlink" title="字典推荐"></a>字典推荐</h4><h5 id="fuzzDicts"><a href="#fuzzDicts" class="headerlink" title="fuzzDicts"></a><a target="_blank" rel="noopener" href="https://github.com/TheKingOfDuck/fuzzDicts">fuzzDicts</a></h5><p>庞大的 Web Pentesting Fuzz 字典，部分精准度不错，可惜更新是 2021 的时候了。</p>
<h5 id="Web-Fuzzing-Box"><a href="#Web-Fuzzing-Box" class="headerlink" title="Web-Fuzzing-Box"></a><a target="_blank" rel="noopener" href="https://github.com/gh0stkey/Web-Fuzzing-Box">Web-Fuzzing-Box</a></h5><p>Web Fuzzing Box - Web 模糊测试字典与一些 Payloads，主要包含：弱口令暴力破解、目录以及文件枚举、Web 漏洞…</p>
<p>字典运用于实战案例：<a target="_blank" rel="noopener" href="https://gh0st.cn/archives/2019-11-11/1">https://gh0st.cn/archives/2019-11-11/1</a></p>
<h5 id="XXE-暴力枚举字典"><a href="#XXE-暴力枚举字典" class="headerlink" title="XXE 暴力枚举字典"></a><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/7kUFx6VpCgNVomQ_e6H6HA">XXE 暴力枚举字典</a></h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456869.png"></p>
<h3 id="2-JS-信息收集"><a href="#2-JS-信息收集" class="headerlink" title="2. JS 信息收集"></a>2. JS 信息收集</h3><p>js 文件一般用于帮助网站执行某些功能，存储着客户端代码，可能会存在大量的敏感信息，通过阅读分析可能会找到宝藏。</p>
<h4 id="JS-信息查找方法"><a href="#JS-信息查找方法" class="headerlink" title="JS 信息查找方法"></a>JS 信息查找方法</h4><h5 id="1-手工"><a href="#1-手工" class="headerlink" title="1. 手工"></a>1. 手工</h5><p>通过查看页面源代码信息，找到. js 后筛选特定信息，但这种方法费时费力，一般网站都会存在大量的 js 文件，还多数为混淆后的信息。</p>
<p>关键信息查找可以使用浏览器自带的全局搜索：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456870.png"></p>
<p>如：通过 path: 来查 Vue 框架路由</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456871.png"></p>
<h5 id="2-半自动"><a href="#2-半自动" class="headerlink" title="2. 半自动"></a>2. 半自动</h5><p>通过抓包拦截获取 url 后使用脚本筛选，比如<code>Burp Suite</code>专业版，可以在<code>Target &gt; sitemap</code>下，选中目标网站选中<code>Engagement tools -&gt; Find scripts</code>，找到网站所有脚本内容。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456872.png"></p>
<p>也可以使用<code>Copy links in selected items</code>复制出选中脚本项目中所包含的 URL 链接。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456873.png"></p>
<p>粘贴下，然后就可以手工验证 url 信息价值，有时候可以发现一些未授权、敏感的 api 接口或者一些 GitHub 仓库、key 值等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456874.png"></p>
<p>这种方法因为结合手工，在一些深层目录架构中，通过<code>Burp Suite script</code>可以获取到一些工具跑不到的 js 信息。</p>
<h5 id="3-工具："><a href="#3-工具：" class="headerlink" title="3. 工具："></a>3. 工具：</h5><p><strong><a target="_blank" rel="noopener" href="https://github.com/Threezh1/JSFinder">JSFinder</a></strong></p>
<blockquote>
<p>JSFinder 是一款用作快速在网站的 js 文件中提取 URL，子域名的工具</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/p1g3/JSINFO-SCAN">JSINFO-SCAN</a></p>
<blockquote>
<p>递归爬取域名 (netloc&#x2F;domain)，以及递归从 JS 中获取信息的工具</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/pingc0y/URLFinder">URLFinder</a></p>
<blockquote>
<p>URLFinder 是一款用于快速提取检测页面中 JS 与 URL 的工具。</p>
<p>功能类似于 JSFinder，但 JSFinder 好久没更新了。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/gh0stkey/HaE">HAE</a></p>
<blockquote>
<p><strong>HaE</strong> 是基于 <code>BurpSuite Java插件API</code> 开发的请求高亮标记与信息提取的辅助型框架式插件，该插件可以通过自定义正则的方式匹配响应报文或请求报文，并对满足正则匹配的报文进行信息高亮与提取。如匹配敏感信息、提取页面中的链接信息等。</p>
</blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/auth0/repo-supervisor#"><strong>Repo-supervisor</strong></a></p>
<blockquote>
<p>Repo-supervisor 是一种工具，可帮助您检测代码中的秘密和密码。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/auth0/repo-supervisor#command-line-mode">command-line-mode</a> 功能：</p>
<p>CLI 模式允许使用源代码扫描本地目录以检测文件中的机密和密码。结果可能以明文或 JSON 格式返回。</p>
</blockquote>
<h5 id="4-其他辅助工具"><a href="#4-其他辅助工具" class="headerlink" title="4. 其他辅助工具"></a>4. 其他辅助工具</h5><p>信息收集过程中，js 文件不用仅限于当前网站版本，网站的历史版本中也可能会存在一些未失效的关键信息。</p>
<h6 id="历史界面"><a href="#历史界面" class="headerlink" title="历史界面"></a>历史界面</h6><p><a target="_blank" rel="noopener" href="https://archive.org/web/">wayback</a> 会记录网站版本更迭，可以获取到之前版本的网站，不仅可以用于收集历史 js 文件，也有可能找到一些后来删除的敏感资产信息，或者一些漏洞</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456875.png"></p>
<p><strong>历史信息查找工具：</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tomnomnom/waybackurls"><strong>waybackurls</strong></a></p>
<blockquote>
<p>获取 Wayback Machine 知道的域的所有 URL</p>
</blockquote>
<p>收集历史 js 文件</p>
<p>webbackurls target.com | grep “.js” | uniq |sort</p>
<p>通过<code>Wayback Machine</code>收集到的 url js 列表需要进行存活检验，避免误报，可以使用 curl 命令或者 <a target="_blank" rel="noopener" href="https://github.com/hakluke/hakcheckurl">hakcheckurl</a> 工具进行检验。最后在做 url 提取即可。</p>
<h6 id="反混肴"><a href="#反混肴" class="headerlink" title="反混肴"></a>反混肴</h6><p>对于存在混淆的代码需要进行反混淆美化下，使其更易看懂</p>
<p><a target="_blank" rel="noopener" href="https://github.com/beautify-web/js-beautify"><strong>js-beautify</strong></a></p>
<blockquote>
<p>这个小美化器将重新格式化和重新缩进书签、丑陋的 JavaScript、由 Dean Edward 的流行打包程序打包的解包脚本，以及由 npm 包 <a target="_blank" rel="noopener" href="https://github.com/javascript-obfuscator/javascript-obfuscator">javascript-obfuscator</a> 处理的部分去混淆脚本。</p>
</blockquote>
<p><strong><a target="_blank" rel="noopener" href="https://lelinhtinh.github.io/de4js/">de4js</a></strong></p>
<blockquote>
<p>在线 JavaScript 反混淆器和解包器</p>
</blockquote>
<h6 id="url-采集"><a href="#url-采集" class="headerlink" title="url 采集"></a>url 采集</h6><p><a target="_blank" rel="noopener" href="https://stack.chaitin.com/tool/detail?id=2"><strong>Rad</strong></a></p>
<p>一款专为安全扫描而生的浏览器爬虫。</p>
<p><a target="_blank" rel="noopener" href="https://github.com/winezer0/whatweb-plus">whatweb-plus</a></p>
<p>获取网站 title 头及 Web 指纹</p>
<p><a target="_blank" rel="noopener" href="http://www.bulkdachecker.com/url-extractor/">url-extractor</a></p>
<p>在线 url 提取</p>
<h4 id="js-中关键信息简记"><a href="#js-中关键信息简记" class="headerlink" title="js 中关键信息简记"></a>js 中关键信息简记</h4><ul>
<li><p>密码、api 密钥、secretKey 等硬编码</p>
</li>
<li><p>隐藏的 api 接口，如后台、业务测试、某服务等，可能会存在未授权。</p>
</li>
<li><p>注释信息，注释为代码时，可能会通过修改注释改变业务逻辑，实现机制绕过，如 xss 绕过、登录绕过等。</p>
</li>
<li><p>Webpack 打包静态资源、js.map 后缀文件，是 jQuery 中的一个新功能，支持 Source Map, 储存着各种 api 接口信息，而 Webpack 打包的信息很多都会放在 js.map 文件中，通过还原代码可能会找到一些未授权的 api 接口。相关处理工具如下：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/denandz/sourcemapper">sourcemapper</a></li>
<li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/restore-source-tree">https://www.npmjs.com/package/restore-source-tree</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/paazmaya/shuji">https://github.com/paazmaya/shuji</a></li>
</ul>
</li>
<li><p>子域名信息</p>
</li>
<li><p>依赖或框架，对于旧依赖或框架可以直接使用 <a target="_blank" rel="noopener" href="https://retirejs.github.io/retire.js/">retire.js</a> 扫描相关漏洞。</p>
</li>
<li><p>……</p>
</li>
</ul>
<h3 id="3-Google-Hacking"><a href="#3-Google-Hacking" class="headerlink" title="3. Google Hacking"></a>3. Google Hacking</h3><p>Google 作为一款全球通用的发达搜索引擎，爬取的和收录的数据量也是庞大无比，善用搜索引擎语法可以帮忙我们发现更多敏感信息。</p>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><table blockindex="643"><thead><tr><th>指令</th><th>用法</th><th>示例</th></tr></thead><tbody><tr><td>“”（引号）</td><td>用引号来查询一个确切的单词或短语</td><td>查找有关《百年孤独》这本书的网页，语法：“百年孤独”</td></tr><tr><td>OR（或者）</td><td>用 OR 分隔搜索词，同时执行两个搜索查询，这将找到包含多个单词之一的页面。</td><td>搜索引用了 “Google Drive”、“Dropbox” 或“OneDrive”的页面，语法：Google Drive OR Dropbox OR OneDrive</td></tr><tr><td>-（减号、连字符）</td><td>在单词或网站前使用连字符将其从搜索结果中排除</td><td>从搜索结果中排除 www 主机名，语法：-www site:wikipedia.org</td></tr><tr><td>allintext:</td><td>使用 allintext:[搜索短语] 查找正文中包含这些单词的页面</td><td>查找正文中有关 Roth、IRA 投资讯息的页面，语法：allintext:Roth IRA 投资</td></tr><tr><td>allintitle:</td><td>使用 allintitle:[搜索短语] 查找标题中包含这些单词的页面</td><td>查找标题中同时包含 “Apple” 和“notebook”的页面，语法：allintitle:Apple notebook</td></tr><tr><td>allinurl:</td><td>使用 allinurl:[搜索短语] 查找 URL 中包含这些单词的页面</td><td>查找 URL 中同时包含”Microsoft” and “Surface” 的页面，语法：allinurl:Microsoft Surface</td></tr><tr><td>site:</td><td>使用 site:[URL] 将搜索结果限制到特定网站</td><td>查找云点 SEO 网关于谷歌 SEO 的页面，语法：site:yundianseo.com 谷歌 SEO</td></tr><tr><td>~（波浪号）</td><td>使用波浪号获得目标关键词及其近似词的搜索结果</td><td>查找 SEO 方面的策略或者教程，语法：SEO ~ 教程</td></tr><tr><td>related:</td><td>使用 related:[URL] 查找与特定网站类似的网站</td><td>查找与云点 SEO 类似的网站，语法：related:yundianseo.com</td></tr><tr><td>define:</td><td>使用 define:[搜索短语] 查找其定义</td><td>查找 SEO 的定义，语法：define:SEO</td></tr><tr><td>$</td><td>使用 $ 查找特定价格的商品</td><td>查找一款售价在 99 美金的手机，语法：mobile phone $99</td></tr><tr><td>location:</td><td>使用 location:[地点] 查看某个地区内的相关信息</td><td>查询南京的酒店，语法：hotel location:Nanjing</td></tr><tr><td>*（星号）</td><td>添加星号作为未知单词或事实的占位符</td><td>查找以 “生活就像一个” 开头的引语，语法：生活就像一个 *</td></tr><tr><td>filetype:</td><td>使用 filetype:[后缀] 将结果限制为特定的文件格式，如 PDF 或 DOC。</td><td>查找 PDF 格式的 Microsoft Office 键盘快捷键相关文件，语法：filetype:pdf Microsoft Office 键盘快捷键</td></tr><tr><td>..（两点）</td><td>用两个句点分隔数字，不带空格，以搜索该范围内的数字</td><td>查找 1950 年至 2000 年间发生的计算机里程碑，语法：” 计算机里程碑” 1950..2000</td></tr><tr><td>AROUND(n)</td><td>在两个搜索词之间加上 AROUND(n)，以查找两个词间有特定距离的页面。用数字 n 设置术语之间的最大距离，这对于查找两个搜索词之间的关系很有用。</td><td>查找在同一句话或段落中提到 Facebook 和 Microsoft 的页面，语法：Facebook AROUND(7) Microsoft</td></tr></tbody></table>

<h4 id="hacking-常用语法"><a href="#hacking-常用语法" class="headerlink" title="hacking 常用语法"></a>hacking 常用语法</h4><ul>
<li><a target="_blank" rel="noopener" href="https://www.exploit-db.com/google-hacking-database">Google Hacking Database</a></li>
<li><a target="_blank" rel="noopener" href="https://cxsecurity.com/dorks/">cxsecurity-hacking-dorks</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/BullsEye0/google_dork_list/blob/master/google_Dorks.txt">Github Google Hacking</a></li>
</ul>
<h5 id="管理后台地址"><a href="#管理后台地址" class="headerlink" title="管理后台地址"></a>管理后台地址</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">site:target.com intext:管理 | 后台 | 后台管理 | 登陆 | 登录 | 用户名 | 密码 | 系统 | 账号 | login | system  </span><br><span class="line">site:target.com inurl:login | inurl:admin | inurl:manage | inurl:manager | inurl:admin_login | inurl:system | inurl:backend  </span><br><span class="line">site:target.com intitle:管理 | 后台 | 后台管理 | 登陆 | 登录</span><br></pre></td></tr></table></figure>

<h5 id="上传类漏洞地址"><a href="#上传类漏洞地址" class="headerlink" title="上传类漏洞地址"></a>上传类漏洞地址</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">site:target.com inurl:file  </span><br><span class="line">site:target.com inurl:upload</span><br></pre></td></tr></table></figure>

<h5 id="注入页面"><a href="#注入页面" class="headerlink" title="注入页面"></a>注入页面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">site:target.com inurl:?id=  </span><br><span class="line">site:target.com inurl:php?id=</span><br></pre></td></tr></table></figure>

<h5 id="编辑器页面"><a href="#编辑器页面" class="headerlink" title="编辑器页面"></a>编辑器页面</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:target.com inurl:ewebeditor</span><br></pre></td></tr></table></figure>

<h5 id="目录遍历漏洞"><a href="#目录遍历漏洞" class="headerlink" title="目录遍历漏洞"></a>目录遍历漏洞</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:target.com intitle: &quot;index of&quot;</span><br></pre></td></tr></table></figure>

<h5 id="SQL-错误"><a href="#SQL-错误" class="headerlink" title="SQL 错误"></a>SQL 错误</h5><p>&#96;&#96;<br>site:target.com intext:”sql syntax near” | intext:”syntax error has occurred” | intext:”incorrect syntax near” | intext:”unexpected end of SQL command” | intext:”Warning: mysql_connect()” | intext:”Warning: mysql_query()”| intext:”Warning: pg_connect()”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##### phpinfo</span><br></pre></td></tr></table></figure>

<p>site:target.com ext:php intitle:phpinfo “published by the PHP Group”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##### 配置文件泄露</span><br></pre></td></tr></table></figure>

<p>site:target.com ext:.xml | .conf | .cnf | .reg | .inf | .rdp | .cfg | .txt | .ora | .ini</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##### 数据库文件泄露</span><br></pre></td></tr></table></figure>

<p>site:target.com ext:.sql | .dbf | .mdb | .db</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">##### 日志文件泄露</span><br></pre></td></tr></table></figure>

<p>site:target.com ext:.log</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">##### 备份和历史文件泄露</span><br><span class="line">```bash</span><br><span class="line">site:target.com ext:.bkf | .bkp | .old | .backup | .bak | .swp | .rar | .txt | .zip | .7z | .sql | .tar.gz | .tgz | .tar</span><br></pre></td></tr></table></figure>

<h5 id="公开文件泄露"><a href="#公开文件泄露" class="headerlink" title="公开文件泄露"></a>公开文件泄露</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:target.com filetype:.doc | .docx | .xls | .xlsx | .ppt | .pptx | .odt | .pdf | .rtf | .sxw | .psw | .csv</span><br></pre></td></tr></table></figure>

<h5 id="邮箱信息"><a href="#邮箱信息" class="headerlink" title="邮箱信息"></a>邮箱信息</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">site:target.com intext:@target.com  </span><br><span class="line">site:target.com 邮件  </span><br><span class="line">site:target.com email</span><br></pre></td></tr></table></figure>

<h5 id="社工信息"><a href="#社工信息" class="headerlink" title="社工信息"></a>社工信息</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">site:target.com intitle:账号 | 密码 | 工号 | 学号 | 身份证</span><br></pre></td></tr></table></figure>

<h4 id="tips："><a href="#tips：" class="headerlink" title="tips："></a><strong>tips：</strong></h4><ul>
<li>判断目标是否被黑过。（如 html 寄生虫）</li>
</ul>
<p>site:xx.com 指定搜索发现多个垃圾数据，大概率中招过。（黑帽 SEO 劫持）</p>
<ul>
<li><p>可搜索渗透特征痕迹（如遗留 webshell、执行命令接口、黑页）</p>
</li>
<li><p>搜索常见的敏感文件、路由</p>
</li>
<li><p>发现其他人正在搜索的内容</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.yundianseo.com/google-trends/">Google Trends</a></li>
</ul>
</li>
<li><p>搜索结果别忘了快照信息。</p>
</li>
<li><p>Google 搜索会追踪 ip 和地址，想要隐私可以试试私密搜索 <em>（代理访问其他搜索引擎内容）</em>：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.startpage.com/">startpage.com</a></li>
<li><a target="_blank" rel="noopener" href="https://mijisou.com/">秘迹搜索</a></li>
</ul>
</li>
</ul>
<blockquote>
<p>ps: 百度、搜狗、bing 也是可以使用语法精确搜索，但限于 seo 逻辑、广告、资源等多个因素，经常不如 Google，但有时候结合又有不错的收获。</p>
</blockquote>
<h4 id="百度语法"><a href="#百度语法" class="headerlink" title="百度语法"></a>百度语法</h4><ul>
<li><strong><code>site</code>:</strong> 搜索特定网站的内容</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456876.png"></p>
<ul>
<li><strong><code>intitle</code>:</strong> 搜索网页标题的内容</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456877.png"></p>
<ul>
<li><p><strong><code>inurl</code>:</strong> 搜索网址中的内容</p>
<ul>
<li>可以用<code>-</code>减号忽略掉关键词网页</li>
</ul>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456878.png"></p>
<ul>
<li><strong><code>“ ”</code>：</strong> 搜索关键不可拆分</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456879.png"></p>
<h4 id="图片反查"><a href="#图片反查" class="headerlink" title="图片反查"></a>图片反查</h4><h5 id="百度识图、googleimage、tineye-等识图引擎"><a href="#百度识图、googleimage、tineye-等识图引擎" class="headerlink" title="百度识图、googleimage、tineye 等识图引擎"></a>百度识图、googleimage、tineye 等识图引擎</h5><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456880.png"></p>
<h5 id="从图片原图获取坐标"><a href="#从图片原图获取坐标" class="headerlink" title="从图片原图获取坐标"></a>从图片原图获取坐标</h5><h6 id="在线查看器"><a href="#在线查看器" class="headerlink" title="在线查看器"></a>在线查看器</h6><p>改图宝<br><a target="_blank" rel="noopener" href="https://www.gaitubao.com/exif">https://www.gaitubao.com/exif</a><br>图虫 EXIF 查看器<br><a target="_blank" rel="noopener" href="https://exif.tuchong.com/">https://exif.tuchong.com/</a><br>我爱斗图<br><a target="_blank" rel="noopener" href="https://www.52doutu.cn/tools/exif">https://www.52doutu.cn/tools/exif</a><br>python-exifread 库<br><a target="_blank" rel="noopener" href="https://link.zhihu.com/?target%5C=https://pypi.python.org/pypi/ExifRead">https://link.zhihu.com/?target=https%3A&#x2F;&#x2F;pypi.python.org&#x2F;pypi&#x2F;ExifRead</a></p>
<h6 id="经纬度转地址"><a href="#经纬度转地址" class="headerlink" title="经纬度转地址"></a>经纬度转地址</h6><p>GPS 查询网址 1<br><a target="_blank" rel="noopener" href="http://www.gpsspg.com/maps.htm">http://www.gpsspg.com/maps.htm</a><br>GPS 查询网址 2<br><a target="_blank" rel="noopener" href="http://www.gzhatu.com/dingwei.html">http://www.gzhatu.com/dingwei.html</a><br>地球在线<br><a target="_blank" rel="noopener" href="https://www.earthol.com/">https://www.earthol.com/</a><br>python-geopy 库<br><a target="_blank" rel="noopener" href="https://www.osgeo.cn/geopy/">https://www.osgeo.cn/geopy/</a></p>
<h3 id="4-Github-信息收集"><a href="#4-Github-信息收集" class="headerlink" title="4. Github 信息收集"></a>4. Github 信息收集</h3><p>自从学会使用 github 并在上面乱捣鼓找到一些站点账号或源码后，就此走上不归路，各种 Github 监控搞上，又发现一些阿里 key，简直是宝了……</p>
<h4 id="Github-搜索语法"><a href="#Github-搜索语法" class="headerlink" title="Github 搜索语法"></a>Github 搜索语法</h4><p><strong>高级搜索：</strong><a target="_blank" rel="noopener" href="https://github.com/search/advanced">https://github.com/search/advanced</a></p>
<p><strong>Github 高级搜索语法：<a target="_blank" rel="noopener" href="https://docs.github.com/cn/search-github/getting-started-with-searching-on-github/understanding-the-search-syntax?spm=a2c6h.12873639.article-detail.6.55db74b8e8hJQq">https://docs.github.com/cn/search-github/getting-started-with-searching-on-github/understanding-the-search-syntax?spm=a2c6h.12873639.article-detail.6.55db74b8e8hJQq</a></strong></p>
<p>Github 有着自己的搜索语法，善用搜索语法能发现更多的有用信息。一般来说，Github 搜索都是以域名、备案、js 路径、网站技术支持等关键内容为主。</p>
<p>搜索包含 “<code>AccessKey ID</code>“ 和<code>password</code>内容的代码。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456881.png"></p>
<p>一些工具中总结了一些常见的搜索语法：</p>
<p><a target="_blank" rel="noopener" href="https://github.com/obheda12/GitDorker/tree/master/Dorks">https://github.com/obheda12/GitDorker/tree/master/Dorks</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456882.png"></p>
<p>搜索常用语法，可以搜索到一些敏感的私钥，一些 SSH 登录私钥，mysql 的数据库密码，API key 等等</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&quot;token&quot;  </span><br><span class="line">&quot;password&quot;  </span><br><span class="line">&quot;secret&quot;  </span><br><span class="line">&quot;passwd&quot;  </span><br><span class="line">&quot;username&quot;  </span><br><span class="line">&quot;key&quot;  </span><br><span class="line">&quot;apidocs&quot;  </span><br><span class="line">&quot;appspot&quot;  </span><br><span class="line">&quot;auth&quot;  </span><br><span class="line">&quot;aws\_access&quot;  </span><br><span class="line">&quot;config&quot;  </span><br><span class="line">&quot;credentials&quot;  </span><br><span class="line">&quot;dbuser&quot;  </span><br><span class="line">&quot;ftp&quot;  </span><br><span class="line">&quot;login&quot;  </span><br><span class="line">&quot;mailchimp&quot;  </span><br><span class="line">&quot;mailgun&quot;  </span><br><span class="line">&quot;mysql&quot;  </span><br><span class="line">&quot;pass&quot;  </span><br><span class="line">&quot;pem private&quot;  </span><br><span class="line">&quot;prod&quot;  </span><br><span class="line">&quot;pwd&quot;  </span><br><span class="line">&quot;secure&quot;  </span><br><span class="line">&quot;ssh&quot;  </span><br><span class="line">&quot;staging&quot;  </span><br><span class="line">&quot;stg&quot;  </span><br><span class="line">&quot;stripe&quot;  </span><br><span class="line">&quot;swagger&quot;  </span><br><span class="line">&quot;testuser&quot;  </span><br><span class="line">&quot;jdbc&quot;  </span><br><span class="line">extension:pem private  </span><br><span class="line">extension:ppk private  </span><br><span class="line">extension:sql mysql dump password  </span><br><span class="line">extension:json api.forecast.io  </span><br><span class="line">extension:json mongolab.com  </span><br><span class="line">extension:yaml mongolab.com  </span><br><span class="line">extension:ica \[WFClient\] Password\=  </span><br><span class="line">extension:avastlic “support.avast.com”  </span><br><span class="line">extension:js jsforce conn.login  </span><br><span class="line">extension:json googleusercontent client\_secret  </span><br><span class="line">“target.com” send\_keys  </span><br><span class="line">“target.com” password  </span><br><span class="line">“target.com” api\_key  </span><br><span class="line">“target.com” apikey  </span><br><span class="line">“target.com” jira\_password  </span><br><span class="line">“target.com” root\_password  </span><br><span class="line">“target.com” access\_token  </span><br><span class="line">“target.com” config  </span><br><span class="line">“target.com” client\_secret  </span><br><span class="line">“target.com” user auth</span><br></pre></td></tr></table></figure>

<h4 id="收集工具"><a href="#收集工具" class="headerlink" title="收集工具"></a>收集工具</h4><h5 id="GitDorker"><a href="#GitDorker" class="headerlink" title="GitDorker"></a>GitDorker</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/obheda12/GitDorker">https://github.com/obheda12/GitDorker</a></p>
</blockquote>
<p>GitDorker 是一款 github 自动信息收集工具，它利用 GitHub 搜索 API 和作者从各种来源编译的大量 GitHub dorks 列表，以提供给定搜索查询的 github 上存储的敏感信息的概述。</p>
<h5 id="trufflehog"><a href="#trufflehog" class="headerlink" title="trufflehog"></a>trufflehog</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/trufflesecurity/trufflehog">https://github.com/trufflesecurity/trufflehog</a></p>
</blockquote>
<p>Truffle Hog 是一款采用 Python 开发的工具，它可以检索 GitHub 代码库的所有代码提交记录以及分支，并搜索出可以表示密钥 (例如 AWS 密钥) 的高熵字符串。一般用来探测泄漏密钥的工具，支持扫描的数据源包括 git、github、gitlab、S3、文件系统、文件和标准输入。</p>
<h5 id="其他检索方法："><a href="#其他检索方法：" class="headerlink" title="其他检索方法："></a>其他检索方法：</h5><p><a target="_blank" rel="noopener" href="https://github.com/BishopFox/GitGot">https://github.com/BishopFox/GitGot</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/UKHomeOffice/repo-security-scanner">https://github.com/UKHomeOffice/repo-security-scanner</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/gwen001/github-search">https://github.com/gwen001/github-search</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/eth0izzle/shhgit">https://github.com/eth0izzle/shhgit</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/lightless233/geye">https://github.com/lightless233/geye</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/cve-search/git-vuln-finder">https://github.com/cve-search/git-vuln-finder</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/Securityautomation/DumpTheGit">https://github.com/Securityautomation/DumpTheGit</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/4x99/code6">https://github.com/4x99/code6</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/tillson/git-hound">https://github.com/tillson/git-hound</a></p>
<h4 id="代码仓库在线搜索平台"><a href="#代码仓库在线搜索平台" class="headerlink" title="代码仓库在线搜索平台"></a>代码仓库在线搜索平台</h4><h5 id="pinatahub"><a href="#pinatahub" class="headerlink" title="pinatahub"></a>pinatahub</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://pinatahub.incognita.tech/">https://pinatahub.incognita.tech</a></p>
<p>github 敏感信息搜索引擎，有时候 github 搜索查看不方便，可以直接在这个网站搜索。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456883.png"></p>
<h5 id="searchcode"><a href="#searchcode" class="headerlink" title="searchcode"></a>searchcode</h5><blockquote>
<p><a target="_blank" rel="noopener" href="https://searchcode.com/">https://searchcode.com/</a></p>
<p>SearchCode 从 Github、BitBucket、CodePlex、SourceForge、Fedora 等代码仓库里筛选了近 160 亿行开源代码，你能够使用文件扩展、特定代码库名字、URL、正则表达式、特殊字符等过滤器对源代码进行过滤，以便搜到你想要的代码。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456884.png"></p>
<h4 id="其他仓库"><a href="#其他仓库" class="headerlink" title="其他仓库"></a>其他仓库</h4><p>GitLab: <a target="_blank" rel="noopener" href="https://about.gitlab.com/">https://about.gitlab.com/</a></p>
<p>gitee: <a target="_blank" rel="noopener" href="https://gitee.com/">https://gitee.com/</a></p>
<p>csdn：<a target="_blank" rel="noopener" href="https://gitcode.net/explore">https://gitcode.net/explore</a></p>
<h3 id="5-邮箱信息收集"><a href="#5-邮箱信息收集" class="headerlink" title="5. 邮箱信息收集"></a>5. 邮箱信息收集</h3><p>有时候不仅是正面硬刚就可以的，还需要迂回战术配合出击，正如攻防中社工一样，总会有一些意想不到的成果。随着办公网络的发展，邮箱也成为了常用的办公方式之一。攻防也是从信息收集逐渐延伸到钓鱼上，只要钓鱼技术好，轻轻松松混入内部，而要想社工钓鱼玩得溜，邮件方面是一个重要的突破口。</p>
<blockquote>
<p>tips: 邮箱建议做筛选，把一些疑是网络管理员、运维人员、安全部门的人员提取出来，单独发送或者不发，由于这部分人员安全意识偏高，容易打草惊蛇，一般多针对非技术人员，容易下手。</p>
</blockquote>
<h4 id="邮箱入口查找方法"><a href="#邮箱入口查找方法" class="headerlink" title="邮箱入口查找方法"></a>邮箱入口查找方法</h4><blockquote>
<p>邮件服务器主要从端口和 title 标识两个信息点去确认的。</p>
</blockquote>
<p>邮件服务器常见端口：</p>
<ul>
<li>25</li>
<li>109</li>
<li>110</li>
<li>143</li>
<li>465</li>
<li>995</li>
<li>993</li>
</ul>
<p>邮件服务器常见 title：</p>
<ul>
<li>邮箱登录</li>
<li>Coremail</li>
<li>eYou 邮件系统</li>
<li>TurboMail</li>
<li>Exchange</li>
<li>……</li>
</ul>
<h5 id="C-段扫描寻找入口"><a href="#C-段扫描寻找入口" class="headerlink" title="C 段扫描寻找入口"></a>C 段扫描寻找入口</h5><ul>
<li>获取到目标后，从目标 mx 记录域名找到他的真实 ip，若是第三方邮件服务器，MX 记录就没啥参考价值了。</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456885.png"></p>
<ul>
<li>对获取到的真实 ip 这个段进行 C 段扫描，有时候也可以进行 B 段扫描。然后通过端口、title 去确定邮件服务器信息。C 段扫描方法可以参考上文 C 段收集章节。</li>
</ul>
<h5 id="通过子域名扫描寻找入口"><a href="#通过子域名扫描寻找入口" class="headerlink" title="通过子域名扫描寻找入口"></a>通过子域名扫描寻找入口</h5><p>主要通过一些子域名收集工具去确认，如：Subdomainbrute、ksubdomain、Oneforall、Sublist3r、TeeMO、LangSrcCurise、Layer 挖掘机等。</p>
<h5 id="通过搜索引擎寻找入口"><a href="#通过搜索引擎寻找入口" class="headerlink" title="通过搜索引擎寻找入口"></a>通过搜索引擎寻找入口</h5><p>战场主力也还是 Google hacking 和网络空间搜索引擎</p>
<ol>
<li><strong>Google Hacking</strong></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">site:target.com intitle:&quot;Outlook Web App&quot;  </span><br><span class="line">site:target.com intitle:&quot;mail&quot;  </span><br><span class="line">site:target.com intitle:&quot;邮箱&quot;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456886.png"></p>
<ol start="2">
<li><strong>网络空间搜索引擎</strong></li>
</ol>
<ul>
<li>Shodan</li>
<li>fofa</li>
<li>zoomeye</li>
<li>0.zone</li>
</ul>
<p><code>(group\==阿里&amp;&amp;title\==邮箱)</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456887.png"></p>
<h4 id="邮箱收集方法"><a href="#邮箱收集方法" class="headerlink" title="邮箱收集方法"></a>邮箱收集方法</h4><h5 id="搜索引擎"><a href="#搜索引擎" class="headerlink" title="搜索引擎"></a>搜索引擎</h5><h6 id="Google-Hacking"><a href="#Google-Hacking" class="headerlink" title="Google Hacking"></a>Google Hacking</h6><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456888.png"></p>
<blockquote>
<ul>
<li>有时候 github 一些仓库代码中也会存在邮箱信息。</li>
<li>一般都会有邮箱、手机号等官方联系方式信息。</li>
</ul>
</blockquote>
<h6 id="网络空间搜索引擎"><a href="#网络空间搜索引擎" class="headerlink" title="网络空间搜索引擎"></a>网络空间搜索引擎</h6><p><strong>0.zone 邮箱收集</strong></p>
<p><code>email\_type\==邮箱&amp;&amp;(group\==阿里)</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456889.png"></p>
<h5 id="在线收集平台"><a href="#在线收集平台" class="headerlink" title="在线收集平台"></a>在线收集平台</h5><blockquote>
<p>ps: 基本都需要注册，注册获取的信息比游客多好多，有些还需要绑定手机号。</p>
</blockquote>
<h6 id="Snov-io"><a href="#Snov-io" class="headerlink" title="Snov.io"></a><a target="_blank" rel="noopener" href="https://app.snov.io/">Snov.io</a></h6><p>Snovio 是一个集成了 “LinkedIn、GitHub、Moz、StackOverflow、Indeed、Behance、Upwork、Google 页面邮箱采集”+“邮箱验证”+“联系人管理”+“邮件发送” 为一身的网站。在 Snovio 只要输入一个域名，就可以采集到该域名在以上平台中暴露的所有邮箱地址，还支持 API 批量读取。</p>
<p>强大的邮箱收集，可单个收集也可以批量收集，还支持 api 调用。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456890.png"></p>
<blockquote>
<ul>
<li><p>免费版每月可以有 100 条收集数量，也就是 50 信用。</p>
</li>
<li><p>该站点的 Google 插件更方便</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://snov.io/knowledgebase/how-to-use-snovio-extension-for-chrome/">https://snov.io/knowledgebase/how-to-use-snovio-extension-for-chrome/</a></li>
</ul>
</li>
</ul>
</blockquote>
<h6 id="hunter-1"><a href="#hunter-1" class="headerlink" title="hunter"></a><a target="_blank" rel="noopener" href="https://hunter.io/">hunter</a></h6><p>Hunter 可让您在几秒钟内找到专业的电子邮件地址，并与对您的业务重要的人建立联系。</p>
<blockquote>
<p>打码信息需要注册绑定手机号后才能看到。</p>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456891.png"></p>
<h6 id="phonebook"><a href="#phonebook" class="headerlink" title="phonebook"></a><a target="_blank" rel="noopener" href="https://phonebook.cz/">phonebook</a></h6><p>Phonebook 例举所有的域名，邮件地址，或者是所予域名的 url，支持 *.gov.uk 的通配符，有 340 亿条记录。可以批量下载想要的域名。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456892.png"></p>
<h6 id="intelx"><a href="#intelx" class="headerlink" title="intelx"></a><a target="_blank" rel="noopener" href="https://intelx.io/">intelx</a></h6><p>intelx 是一个搜索引擎和数据存档。通过电子邮件，域名，IP, CIDR，比特币地址等等查找数据泄露信息。随便搜一下好像搜索出了一个泄露的邮箱数据库：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456893.png"></p>
<h6 id="skymem"><a href="#skymem" class="headerlink" title="skymem"></a><a target="_blank" rel="noopener" href="http://www.skymem.info/">skymem</a></h6><p>一款可查找公司和人员的电子邮件地址在线邮箱查找平台，数据量较少，准确度高，大批量的需要购买。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456894.png"></p>
<h6 id="爱企查、企查查等批量查询"><a href="#爱企查、企查查等批量查询" class="headerlink" title="爱企查、企查查等批量查询"></a>爱企查、企查查等批量查询</h6><p>如通过爱企查的爱番番寻宝客 “获取更多的联系方式”</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456895.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456896.png"></p>
<p>如使用八爪鱼采集器进行批量查询</p>
<p><a target="_blank" rel="noopener" href="https://www.bazhuayu.com/tutorial/qccqyemailcj">https://www.bazhuayu.com/tutorial/qccqyemailcj</a></p>
<h6 id="邮箱泄露信息查询"><a href="#邮箱泄露信息查询" class="headerlink" title="邮箱泄露信息查询"></a>邮箱泄露信息查询</h6><ul>
<li><a target="_blank" rel="noopener" href="https://monitor.firefox.com/">https://monitor.firefox.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://haveibeenpwned.com/">https://haveibeenpwned.com/</a></li>
<li><a target="_blank" rel="noopener" href="https://ghostproject.fr/">https://ghostproject.fr/</a></li>
</ul>
<h6 id="其他-2"><a href="#其他-2" class="headerlink" title="其他"></a>其他</h6><ul>
<li><a target="_blank" rel="noopener" href="https://app.apollo.io/">https://app.apollo.io</a></li>
<li><a target="_blank" rel="noopener" href="https://contactout.com/">https://contactout.com</a></li>
<li><a target="_blank" rel="noopener" href="https://www.datanyze.com/">https://www.datanyze.com</a></li>
<li><a target="_blank" rel="noopener" href="https://www.email-format.com/">https://www.email-format.com</a></li>
<li>TG 社工库、其他社工库</li>
</ul>
<h5 id="工具收集"><a href="#工具收集" class="headerlink" title="工具收集"></a>工具收集</h5><h6 id="theHarvester"><a href="#theHarvester" class="headerlink" title="theHarvester"></a><a target="_blank" rel="noopener" href="https://github.com/laramies/theHarvester">theHarvester</a></h6><blockquote>
<p>theHarvester 是 Kali 自带的一款社会工程学工具，默认集成了多个 api，利用网络爬虫技术通过 Google、Bing、PGP、LinkedIn、Baidu、Yandex、People123、Jigsaw、Shodan、PGP 服务器等不同公开源整理收集，能够收集 e-mail、用户名、主机名、子域名、雇员、开放端口和 Banner 等信息。</p>
</blockquote>
<p>theHarvester 参数详解</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">-h, \--help            show this help message and exit    #显示帮助信息并退出  </span><br><span class="line">  -d, \--domain          DOMAIN Company name or domain to search.    #要搜索的公司名称或域名  </span><br><span class="line">  -l, \--limit           LIMIT Limit the number of search results, default\=500.  #采集特定数量的结果，不指定情况下，默认为500  </span><br><span class="line">  -S, \--start           START Start with result number X, default\=0.    #从采集到的信息编号“X”处开始执行采集，默认从0开始  </span><br><span class="line">  -g, \--google-dork     Use Google Dorks for Google search.     #使用google Dorks进行google搜索。 （一般情况下不用，你懂的）  </span><br><span class="line">  -p, \--proxies         Use proxies for requests, enter proxies in proxies.yaml.    #对信息采集的请求使用代理  </span><br><span class="line">  -s, \--shodan          Use Shodan to query discovered hosts.       #使用shodan查询发现的主机  </span><br><span class="line">  --screenshot Take screenshots of resolved domains specify output directory:       #对解析域的页面进行截图，需指定截图文件存放目录  </span><br><span class="line">        \--screenshot output\_directory      \# 截图保存目录  </span><br><span class="line">  -v, \--virtual-host    Verify host name via DNS resolution and search for virtual hosts.       #通过DNS解析主机名并搜索虚拟主机  </span><br><span class="line">  -e, \--dns-server DNS\_SERVER DNS server to use for lookup.     #指定DNS解析服务器  </span><br><span class="line">  -t, \--dns-tld DNS\_TLD  Perform a DNS TLD expansion discovery, default False.      #执行DNS TLD扩展发现，默认为False状态  </span><br><span class="line">  -r, \--take-over       Check for takeovers.    #检查接管  </span><br><span class="line">  -n, \--dns-lookup      Enable DNS server lookup, default False.       \# 启用DNS服务器查找，默认为False状态                                                                                                       </span><br><span class="line">  -c, \--dns-brute       Perform a DNS brute force on the domain.       \# 进行DNS域解析暴力破解                                                                                                           </span><br><span class="line">  -f, \--filename        Save the results to an HTML and/or XML file.    #指定输出文件名，格式支持HTML和XML                                                                                                         </span><br><span class="line">  -b SOURCE, \--source SOURCE                                                                                                                                                     </span><br><span class="line">                        baidu, bing, bingapi, bufferoverun, certspotter, crtsh, dnsdumpster, duckduckgo, exalead, github-code, google, hackertarget, hunter, intelx,             </span><br><span class="line">                        linkedin, linkedin\_links, netcraft, otx, pentesttools, projectdiscovery, qwant, rapiddns, securityTrails, spyse, sublist3r, threatcrowd, threatminer,    </span><br><span class="line">                        trello, twitter, urlscan, virustotal, yahoo     #指定采集信息的源</span><br></pre></td></tr></table></figure>

<p><strong>常用参数</strong></p>
<p>-d：指定搜索的域名或网址<br>-b：指定采集信息的源（如 baidu，biying，google）<br>-l：指定采集信息的返回数量，默认 500<br>-f：输出文件名并保存采集结果，可以保存为 HTML 或 XML 格式；如果不指定，采集信息仅作屏幕显示</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456897.png"></p>
<blockquote>
<p>api key 没有配置的时候，结果较少。</p>
</blockquote>
<h4 id="验证邮箱"><a href="#验证邮箱" class="headerlink" title="验证邮箱"></a>验证邮箱</h4><p>收集到邮箱后，就要对其进行存活性验证，避免出现被弃用、不可用的邮箱。</p>
<h5 id="在线平台-1"><a href="#在线平台-1" class="headerlink" title="在线平台"></a>在线平台</h5><ul>
<li><a target="_blank" rel="noopener" href="http://tool.chacuo.net/mailverify">Email 地址检查、检测 Email 地址真实性、检测电子邮件地址真实性 – 查错网</a></li>
<li><a target="_blank" rel="noopener" href="https://verify-email.org/">Verify Email Address Online - Free Email Verifier - Free Email Address Verification</a></li>
<li><a target="_blank" rel="noopener" href="http://www.emailcamel.com/">免费在线批量验证邮箱有效性 - EmailCamel.com</a></li>
<li><a target="_blank" rel="noopener" href="https://www.verifyemailaddress.org/">Email Verifier - Verify Email Address For Free With Our Verifier Tool</a></li>
<li><a target="_blank" rel="noopener" href="https://app.snov.io/verify/individual-emails">snov.io 电子邮箱验证</a></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456898.png"></p>
<h5 id="工具-2"><a href="#工具-2" class="headerlink" title="工具"></a>工具</h5><p><strong>verifyemail</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/Tzeross/verifyemail">https://github.com/Tzeross/verifyemail</a></p>
<p>Python 在线验证邮箱真实性，支持批量验证，支持全部域名邮箱，支持全部域名邮箱，支持全部域名邮箱，支持全部域名邮箱</p>
</blockquote>
<h4 id="邮箱爆破"><a href="#邮箱爆破" class="headerlink" title="邮箱爆破"></a>邮箱爆破</h4><blockquote>
<p>弱口令爆破方式只适用于目标企业自己的邮件服务器如 owa 等，对第三方邮箱不优先考虑</p>
</blockquote>
<h5 id="常用字典组合"><a href="#常用字典组合" class="headerlink" title="常用字典组合"></a>常用字典组合</h5><blockquote>
<p>员工名称拼音 &#x2F; 首字母</p>
<p>员工名称拼音 &#x2F; 首字母 + 日期</p>
<p>公司简称 + 年份</p>
<p>员工名称 + 公司名</p>
<p>passwd + 日期</p>
<p>P@sswd!+ 日期</p>
</blockquote>
<p><strong>爆破字典</strong></p>
<p><a target="_blank" rel="noopener" href="https://github.com/rootphantomer/Blasting_dictionary">https://github.com/rootphantomer/Blasting_dictionary</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/TheKingOfDuck/fuzzDicts">https://github.com/TheKingOfDuck/fuzzDicts</a></p>
<h5 id="工具-3"><a href="#工具-3" class="headerlink" title="工具"></a>工具</h5><p>爆破邮箱大概分为两种情况</p>
<ul>
<li><p>网页邮箱爆破</p>
<ul>
<li>burpsuite 等</li>
</ul>
</li>
<li><p>STMP 协议等邮箱端口爆破</p>
<ul>
<li>medusa、hydra、SNETCracker、<a target="_blank" rel="noopener" href="https://github.com/nodauf/GoMapEnum">GoMapEnum</a>、APT34 组织 owa 爆破工具等（多数工具 kali 都自带）</li>
</ul>
</li>
</ul>
<blockquote>
<p>邮箱相关端口：</p>
<p>SMTP 默认端口：25</p>
<p>POP3 默认端口：110</p>
<p>IMAP 默认端口：143</p>
</blockquote>
<h4 id="临时邮箱"><a href="#临时邮箱" class="headerlink" title="临时邮箱"></a>临时邮箱</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#所谓的十分钟邮箱类  </span><br><span class="line">http://www.yopmail.com/zh/  </span><br><span class="line">https://10minutemail.com/  </span><br><span class="line">https://10minutemail.net/  </span><br><span class="line">https://www.guerrillamail.com/zh/inbox  </span><br><span class="line">http://www.fakemailgenerator.com/  </span><br><span class="line">https://temp-mail.org/en/  </span><br><span class="line">https://www.guerrillamail.com/  </span><br><span class="line">http://tool.chacuo.net/mailsend  </span><br><span class="line">https://maildrop.cc/  </span><br><span class="line">http://tool.chacuo.net/mailanonymous  </span><br><span class="line">https://tempmail.altmails.com/  </span><br><span class="line">https://www.snapmail.cc/  </span><br><span class="line">https://www.linshi-email.com/</span><br></pre></td></tr></table></figure>

<h4 id="匿名邮箱"><a href="#匿名邮箱" class="headerlink" title="匿名邮箱"></a>匿名邮箱</h4><ul>
<li><a target="_blank" rel="noopener" href="https://mail.protonmail.com/inbox">ProtonMail</a></li>
<li><a target="_blank" rel="noopener" href="https://www.fastmail.com/">Get secure, reliable email hosting – FastMail</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/xyfir/ptorx">xyfir&#x2F;ptorx</a></li>
<li><a target="_blank" rel="noopener" href="https://tutanota.com/">Tutanota</a></li>
</ul>
<h3 id="6-网盘信息收集"><a href="#6-网盘信息收集" class="headerlink" title="6. 网盘信息收集"></a>6. 网盘信息收集</h3><p>一些安全意识薄弱的人员对于上传到网盘上的资源未作加密限制或者密码泄露，然后又被一些云盘爬虫给收集到，最终导致信息泄露。通过一些网盘引擎可以获取到其中的泄露信息。</p>
<h4 id="在线平台-2"><a href="#在线平台-2" class="headerlink" title="在线平台"></a>在线平台</h4><p><a target="_blank" rel="noopener" href="https://lzpan.com/">https://lzpan.com/</a><br>凌风云：<a target="_blank" rel="noopener" href="https://www.lingfengyun.com/">https://www.lingfengyun.com/</a><br>蓝菊花：<a target="_blank" rel="noopener" href="http://www.lanjuhua.com/">http://www.lanjuhua.com/</a><br>大力盘：<a target="_blank" rel="noopener" href="https://www.dalipan.com/">https://www.dalipan.com/</a><br>猪猪盘：<a target="_blank" rel="noopener" href="http://www.zhuzhupan.com/">http://www.zhuzhupan.com/</a><br>PanSou：<a target="_blank" rel="noopener" href="http://www.pansou.com/">http://www.pansou.com/</a><br>盘飞飞：<a target="_blank" rel="noopener" href="https://panfeifei.com/">https://panfeifei.com/</a></p>
<p>由于网盘搜索工具的时效性，可以通过搜索引擎去获取一些。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456899.png"></p>
<h5 id="搜索关键词"><a href="#搜索关键词" class="headerlink" title="搜索关键词"></a>搜索关键词</h5><p>关键词一般以单位名称、别称、产品业务等</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456900.png"></p>
<h4 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h4><ul>
<li><p><a target="_blank" rel="noopener" href="https://github.com/search?q=%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E7%88%AC%E8%99%AB">百度网盘爬虫脚本搜索</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.yzzpan.com/#sharefile=trOPDGQC_54416">网盘搜索工具</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456901.png"></p>
</li>
</ul>
<blockquote>
<ul>
<li>网盘有时候会存在一些简历信息泄露，如手机号、邮箱、部门等。</li>
</ul>
</blockquote>
<h2 id="0x06-其他信息"><a href="#0x06-其他信息" class="headerlink" title="0x06 其他信息"></a>0x06 其他信息</h2><h3 id="1-APP"><a href="#1-APP" class="headerlink" title="1. APP"></a>1. APP</h3><p>通过获取 App 配置、数据包，去获取 url、api、osskey、js 等敏感信息。</p>
<h4 id="App-查找入口"><a href="#App-查找入口" class="headerlink" title="App 查找入口"></a>App 查找入口</h4><h5 id="搜索引擎-1"><a href="#搜索引擎-1" class="headerlink" title="搜索引擎"></a>搜索引擎</h5><ul>
<li>Google Hacking</li>
<li>网络空间搜索引擎</li>
</ul>
<h5 id="在线聚合平台"><a href="#在线聚合平台" class="headerlink" title="在线聚合平台"></a>在线聚合平台</h5><ul>
<li><a target="_blank" rel="noopener" href="https://www.xiaolanben.com/pc">小蓝本</a></li>
<li><a target="_blank" rel="noopener" href="https://www.qimai.cn/">七麦</a></li>
<li><a target="_blank" rel="noopener" href="https://www.apple.com/app-store">AppStore</a></li>
<li><a target="_blank" rel="noopener" href="https://www.diandian.com/">点点</a></li>
<li><a target="_blank" rel="noopener" href="https://www.wandoujia.com/">豌豆荚</a></li>
<li><a target="_blank" rel="noopener" href="https://www.tianyancha.com/">天眼查</a> &#x2F; <a target="_blank" rel="noopener" href="https://aiqicha.baidu.com/">爱企查</a>等</li>
<li>App 应用商城</li>
</ul>
<h4 id="App-敏感信息收集"><a href="#App-敏感信息收集" class="headerlink" title="App 敏感信息收集"></a>App 敏感信息收集</h4><blockquote>
<p>ps：App 关联打算另写一篇。</p>
</blockquote>
<h5 id="手工收集"><a href="#手工收集" class="headerlink" title="手工收集"></a>手工收集</h5><p>一般是通过抓包收集接口数据或者逆向获取配置数据。</p>
<ul>
<li><p>抓包可能会需要进行证书绕过、绕过抓包限制等。</p>
<ul>
<li><p>常用的软件简记</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://developer.android.google.cn/studio/releases/platform-tools?hl=zh_cn">Fastboot &amp; ADB</a></li>
<li><a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1-4YrEuNYAS_g7o34NO26xg?pwd=p7o3">HttpCanary</a></li>
<li><a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=app.greyshirts.sslcapture">Packet Capture</a></li>
<li><a target="_blank" rel="noopener" href="https://nalankang.lanzoui.com/b00usn8te">Wicap</a></li>
<li><a target="_blank" rel="noopener" href="https://www.telerik.com/fiddler">Fildder</a>+<a target="_blank" rel="noopener" href="https://portswigger.net/burp">Burpsuite</a></li>
<li><a target="_blank" rel="noopener" href="https://mitmproxy.org/">Mitmproxy</a></li>
<li><a target="_blank" rel="noopener" href="https://www.charlesproxy.com/">Charles</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/frida/frida">Frida</a></li>
<li>SSL 相关：<a target="_blank" rel="noopener" href="https://github.com/JunGe-Y/JustTrustMePP">JustTrustMe++</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/ViRb3/TrustMeAlready">TrustMeAlready</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/ac-pm/SSLUnpinning_Xposed">SSLUnpinning</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/ac-pm/Inspeckage">Inspeckage</a></li>
<li>强制走代理：<a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=org.proxydroid&hl=en_SG&gl=US">ProxyDroid</a>&#x2F;<a target="_blank" rel="noopener" href="https://play.google.com/store/apps/details?id=org.sandrob.drony">Droni</a>+<a target="_blank" rel="noopener" href="https://portswigger.net/burp">Burpsuite</a></li>
<li>综合性安卓抓包 &#x2F; 逆向 &#x2F; HOOK 自动化脚本工具：<a target="_blank" rel="noopener" href="https://github.com/rev1si0n/lamda">lamda</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/r0ysue/r0capture">r0capture</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/dqzg12300/fridaUiTools">fridaUiTools</a>&#x2F;<a target="_blank" rel="noopener" href="https://github.com/lasting-yang/frida_hook_libart">frida_hook_libart</a></li>
</ul>
</li>
</ul>
</li>
<li><p>逆向可能会需要进行脱壳 &#x2F; 解码等。</p>
<ul>
<li><p>常用软件简记</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://pan.quark.cn/s/e597d624dd23#/list/share/c978afeb1cdc48ed9e51745006cfea6e-Lucky%20Patcher">幸运破解器</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/Xposed-Modules-Repo/com.coderstory.toolkit">核心破解</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/CodingGay/BlackDex">BlackDex</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/CodingGay/BlackDex">fdex2</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/hanbinglengyue/FART">FART</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/liaojack8/AndroidKiller">Android Killer</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://www.yuque.com/docs/share/c0691a64-3b55-4ae3-ab20-90e1daff12cd">午夜神大佬应用集</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/localimages/202305291456902.png"></p>
</li>
<li><p>grep 筛选</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">grep \-EHirn &quot;accesskey|admin|aes|api\_key|apikey|checkClientTrusted|crypt|http:|https:|password|pinning|secret|SHA256|SharedPreferences|superuser|token|X509TrustManager|insert into|setJavaScriptEnabled|root|JavascriptInterface|MODE\_WORLD\_READABLE|MODE\_WORLD\_WRITEABLE|Pinner|checkServerTrusted|api\_secret|api/v1|api/v2&quot; \--color APKfolder/  </span><br><span class="line">\# https://twitter.com/AmitMDubey/status/1272982285277491200</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="工具推荐："><a href="#工具推荐：" class="headerlink" title="工具推荐："></a><strong>工具推荐：</strong></h5><p><strong>AppInfoScanner</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/kelvinBen/AppInfoScanner">https://github.com/kelvinBen/AppInfoScanner</a></p>
<p>一款适用于以 HW 行动 &#x2F; 红队 &#x2F; 渗透测试团队为场景的移动端 (Android、iOS、WEB、H5、静态网站) 信息收集扫描工具，可以帮助渗透测试工程师、攻击队成员、红队成员快速收集到移动端或者静态 WEB 站点中关键的资产信息并提供基本的信息输出, 如：Title、Domain、CDN、指纹信息、状态信息等。</p>
</blockquote>
<p><strong>ApkAnalyser</strong></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/TheKingOfDuck/ApkAnalyser">https://github.com/TheKingOfDuck/ApkAnalyser</a></p>
<p>一键提取安卓应用中可能存在的敏感信息。</p>
<p>目前可提取 APK 内：</p>
<ul>
<li>所有字符串</li>
<li>所有 URLs</li>
<li>所有 ip</li>
<li>可能是 hash 值的字符串</li>
<li>存在的敏感词（如 oss.aliyun）</li>
<li>可能是 accessKey 的值</li>
</ul>
</blockquote>
<h3 id="2-OSINT"><a href="#2-OSINT" class="headerlink" title="2. OSINT"></a>2. OSINT</h3><blockquote>
<p>OSINT(Open-source intelligence) 指开源情报, 一项从媒体、网络、博客、视频，等公开来源中进行信息收集、提取的技术。</p>
</blockquote>
<h4 id="情报相关资源"><a href="#情报相关资源" class="headerlink" title="情报相关资源"></a>情报相关资源</h4><ul>
<li><a target="_blank" rel="noopener" href="https://start.me/p/GE7JQb/osint">OSINT-CN</a> 一款在线分享国内外 OSINT 资源和工具的网站</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ffffffff0x/Digital-Privacy">Digital-Privacy</a> Information Protection &amp; OSINT resources | 一个关于数字隐私搜集、保护、清理集一体的方案, 外加开源信息收集 (OSINT) 对抗</li>
<li><a target="_blank" rel="noopener" href="http://dingba.top/">丁爸网</a></li>
<li>微信公众号 情报小蜜蜂 little_bee007</li>
<li><a target="_blank" rel="noopener" href="https://www.iyouport.org/category/osint/">iYouPort OSINT 专栏</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sinwindie/OSINT">sinwindie&#x2F;OSINT</a> - 各种平台的 OSINT “一张图” 系列</li>
<li><a target="_blank" rel="noopener" href="https://github.com/blaCCkHatHacEEkr/OSINT_TIPS">blaCCkHatHacEEkr&#x2F;OSINT_TIPS</a> - OSINT 技巧合集</li>
<li><a target="_blank" rel="noopener" href="https://inteltechniques.com/podcast.html">The Privacy, Security, &amp; OSINT Show</a> - 讲述、介绍各类 OSINT 技能的博客</li>
<li><a target="_blank" rel="noopener" href="https://osintframework.com/">OSINT Framework</a> - 非常著名的 OSINT 框架, 有着非常丰富的 OSINT 资源</li>
</ul>
<h4 id="OSINT-情报工具"><a href="#OSINT-情报工具" class="headerlink" title="OSINT 情报工具"></a><strong>OSINT 情报工具</strong></h4><ul>
<li><a target="_blank" rel="noopener" href="https://intelx.io/tools">https://intelx.io/tools</a> - 在线使用的开源情报和取证工具清单</li>
<li><a target="_blank" rel="noopener" href="https://recontool.org/#mindmap">OSINT Recon Tool</a> - 在线的 osint 工具集合，加上思维脑图</li>
<li><a target="_blank" rel="noopener" href="https://github.com/woj-ciech/SocialPath">woj-ciech&#x2F;SocialPath</a> - 跟踪社交媒体平台上的用户</li>
<li><a target="_blank" rel="noopener" href="https://github.com/Greenwolf/social_mapper">Greenwolf&#x2F;social_mapper</a> - 通过面部识别跟踪不同社交平台目标的工具</li>
<li><a target="_blank" rel="noopener" href="https://github.com/bhavsec/reconspider">bhavsec&#x2F;reconspider</a> - 可用于扫描 IP 地址，电子邮件，网站，组织的 OSINT 工具</li>
<li><a target="_blank" rel="noopener" href="https://www.spiderfoot.net/">SpiderFoot</a></li>
</ul>
<h3 id="3-个人隐私信息"><a href="#3-个人隐私信息" class="headerlink" title="3. 个人隐私信息"></a>3. 个人隐私信息</h3><h4 id="从邮箱查询"><a href="#从邮箱查询" class="headerlink" title="从邮箱查询"></a><strong>从邮箱查询</strong></h4><ul>
<li><a target="_blank" rel="noopener" href="https://www.reg007.com/">你注册过哪些网站？一搜便知</a></li>
<li><a target="_blank" rel="noopener" href="https://hunter.io/">Find email addresses in seconds • Hunter (Email Hunter)</a> - email 信息查询工具</li>
</ul>
<h4 id="从用户名查询"><a href="#从用户名查询" class="headerlink" title="从用户名查询"></a>从用户名查询</h4><ul>
<li><a target="_blank" rel="noopener" href="https://instantusername.com/#/">Instant Username Search</a> - 实时搜索 100 多个社交媒体网站的用户名。</li>
<li><a target="_blank" rel="noopener" href="https://checkusernames.com/">CheckUsernames</a> - 测某账号是否在全球 500 多个社交媒体中是否有注册。</li>
<li><a target="_blank" rel="noopener" href="https://whatsmyname.app/">WhatsMyName Web</a> - 搜索许多网站上存在的用户名。</li>
<li><a target="_blank" rel="noopener" href="https://namecheckup.com/">NameCheckup</a> - 查找可用的用户名</li>
<li><a target="_blank" rel="noopener" href="https://namechk.com/">Namechk</a></li>
<li><a target="_blank" rel="noopener" href="https://knowem.com/">KnowEm Username Search</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/sherlock-project/sherlock">sherlock-project&#x2F;sherlock</a> - 在不同的社交网络上通过用户名搜寻账户</li>
</ul>
<h4 id="从-IP-查询"><a href="#从-IP-查询" class="headerlink" title="从 IP 查询"></a>从 IP 查询</h4><ul>
<li><a target="_blank" rel="noopener" href="http://iknowwhatyoudownload.com/">Torrent downloads and distributions for IP</a> - 查你这个 IP 下载过哪些磁力链接?</li>
</ul>
<h4 id="混合查询"><a href="#混合查询" class="headerlink" title="混合查询"></a>混合查询</h4><ul>
<li><a target="_blank" rel="noopener" href="https://usersearch.org/">Username Search</a> - 找到用户名、电子邮件地址或电话号码背后的人。</li>
<li><a target="_blank" rel="noopener" href="https://github.com/n0tr00t/Sreg">n0tr00t&#x2F;Sreg</a> - 使用者通过输入 email、phone、username 的返回用户注册的所有互联网信息.</li>
<li><a target="_blank" rel="noopener" href="https://data.humdata.org/organization/facebook">Humanitarian Data Exchange</a> - Facebook 的公开数据查询平台</li>
<li><a target="_blank" rel="noopener" href="http://cha.yinhangkadata.com/">银行卡号归属地查询</a></li>
<li><a target="_blank" rel="noopener" href="http://fapiao.youshang.com/">友商发 · 票查询</a></li>
<li>TG 库、四件套等。</li>
</ul>
<h4 id="从注册信息查询"><a href="#从注册信息查询" class="headerlink" title="从注册信息查询"></a>从注册信息查询</h4><p>Sms<br><a target="_blank" rel="noopener" href="https://www.materialtools.com/">https://www.materialtools.com/</a><br><a target="_blank" rel="noopener" href="http://receivefreesms.com/">http://receivefreesms.com/</a><br>Email<br><a target="_blank" rel="noopener" href="https://10minutemail.net/">https://10minutemail.net/</a><br><a target="_blank" rel="noopener" href="http://24mail.chacuo.net/">http://24mail.chacuo.net/</a><br><a target="_blank" rel="noopener" href="https://zh.mytrashmailer.com/">https://zh.mytrashmailer.com/</a><br><a target="_blank" rel="noopener" href="http://24mail.chacuo.net/enus">http://24mail.chacuo.net/enus</a><br><a target="_blank" rel="noopener" href="https://www.linshiyouxiang.net/">https://www.linshiyouxiang.net/</a><br>Fake id<br><a target="_blank" rel="noopener" href="https://www.fakenamegenerator.com/">https://www.fakenamegenerator.com/</a><br><a target="_blank" rel="noopener" href="http://www.haoweichi.com/">http://www.haoweichi.com/</a><br><a target="_blank" rel="noopener" href="https://www.fakeaddressgenerator.com/">https://www.fakeaddressgenerator.com/</a></p>
<h3 id="4-历史漏洞"><a href="#4-历史漏洞" class="headerlink" title="4. 历史漏洞"></a>4. 历史漏洞</h3><ul>
<li><p>wooyun 历史漏洞库：<a target="_blank" rel="noopener" href="http://www.anquan.us/">http://www.anquan.us/</a></p>
</li>
<li><p>漏洞银行：<a target="_blank" rel="noopener" href="https://www.bugbank.cn/">https://www.bugbank.cn/</a></p>
</li>
<li><p>360 补天：<a target="_blank" rel="noopener" href="https://www.butian.net/">https://www.butian.net/</a></p>
</li>
<li><p>教育行业漏洞报告平台：<a target="_blank" rel="noopener" href="https://src.edu-info.edu.cn/login/">https://src.edu-info.edu.cn/login/</a></p>
</li>
<li><p>seebug：<a target="_blank" rel="noopener" href="https://paper.seebug.org/">https://paper.seebug.org/</a></p>
</li>
<li><p>CNVD：<a target="_blank" rel="noopener" href="http://www.cnnvd.org.cn/">http://www.cnnvd.org.cn/</a></p>
</li>
<li><p>Exploit Database: <a target="_blank" rel="noopener" href="https://www.exploit-db.com/">https://www.exploit-db.com</a></p>
</li>
<li><p>Vulners: <a target="_blank" rel="noopener" href="https://vulners.com/">https://vulners.com</a></p>
</li>
<li><p>zone-h：<a target="_blank" rel="noopener" href="http://zone-h.org/archive?hz=1">http://zone-h.org/archive?hz=1</a></p>
</li>
<li><p>Sploitus: <a target="_blank" rel="noopener" href="https://sploitus.com/">https://sploitus.com</a></p>
</li>
<li><p>历史界面：<a target="_blank" rel="noopener" href="https://archive.org/web/">wayback</a></p>
<ul>
<li>工具：<a target="_blank" rel="noopener" href="https://github.com/tomnomnom/waybackurls"><strong>waybackurls</strong></a></li>
</ul>
</li>
</ul>
<h3 id="5-蜜罐识别"><a href="#5-蜜罐识别" class="headerlink" title="5. 蜜罐识别"></a>5. 蜜罐识别</h3><blockquote>
<p>通常<strong>将蜜罐 (honeypot) 定义为一种安全资源，它不需要提供实际的应用，蜜罐的存在价值就是诱导和记录攻击行为，从而了解攻击者的入侵方法和手段，并能够延缓其攻击进程</strong>，进而根据捕获的攻击行为数据，分析攻击者使用的攻击方法和工具，从而让防御方针对性地增强系统的安全防护能力</p>
</blockquote>
<p><strong>简单识别</strong></p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://honeyscore.shodan.io/">honeyscore shodan</a></p>
<ul>
<li>网络空间搜索引擎</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://send-safe-honeypot-hunter.apponic.com/">Honeypot Hunter</a></p>
<ul>
<li>Send-Safe Honeypot Hunter 是一种工具，用于检查所谓的 “蜜罐” 的 HTTPS 和 SOCKS 代理列表。“蜜罐”是由试图通过使用这些虚假代理记录流量，然后向其 ISP 发送投诉的人运行的虚假代理。</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/iiiusky/AntiHoneypot-Chrome-simple">Chrome 蜜罐检测插件</a></p>
<ul>
<li>需要自己完善规则的 Chrome 蜜罐检测插件</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/cnrstar/anti-honeypot">anti-honeypot</a></p>
<ul>
<li>一款可以检测 WEB 蜜罐并阻断请求的 Chrome 插件</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/Monyer/antiHoneypot">AntiHoneypot</a></p>
<ul>
<li>一个拦截 XSSI &amp; 识别 Web 蜜罐的 Chrome 扩展</li>
</ul>
</li>
</ul>
<blockquote>
<p>持续更新……</p>
</blockquote>
<ul>
<li><strong>水泽 信息收集自动化工具</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/0x727/ShuiZe_0x727">https://github.com/0x727/ShuiZe_0x727</a></p>
<blockquote>
<p>作者：<a target="_blank" rel="noopener" href="https://github.com/SkewwG">Ske</a></p>
<p>团队：<a target="_blank" rel="noopener" href="https://github.com/0x727">0x727</a>，未来一段时间将陆续开源工具，地址：<a target="_blank" rel="noopener" href="https://github.com/0x727">https://github.com/0x727</a></p>
<p>定位：协助红队人员快速的信息收集，测绘目标资产，寻找薄弱点</p>
<p>语言：python3 开发</p>
<p>功能：一条龙服务，只需要输入根域名即可全方位收集相关资产，并检测漏洞。也可以输入多个域名、C 段 IP 等，具体案例见下文。</p>
<p>调用：脚本借用了 ksubdomain 爆破子域名和 theHarvester 收集邮箱，感谢 ksubdomain 和 theHarvester 作者</p>
</blockquote>
<ul>
<li><strong>ARL 资产侦察灯塔系统</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/TophantTechnology/ARL">https://github.com/TophantTechnology/ARL</a></p>
<blockquote>
<p>旨在快速侦察与目标关联的互联网资产，构建基础资产信息库。 协助甲方安全团队或者渗透测试人员有效侦察和检索资产，发现存在的薄弱点和攻击面。</p>
</blockquote>
<ul>
<li><strong>ENScanGo</strong></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/wgpsec/ENScan_GO">https://github.com/wgpsec/ENScan_GO</a></p>
<blockquote>
<p>由狼组安全团队的 Keac 师傅写的专门用来解决企业信息收集难的问题的工具，可以一键收集目标及其控股公司的 ICP 备案、APP、小程序、微信公众号等信息然后聚合导出。</p>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/OJ/gobuster"><strong>gobuster</strong></a></li>
</ul>
<blockquote>
<p>一个用于暴力破解的工具：</p>
<ul>
<li>网站中的 URI（目录和文件）。</li>
<li>DNS 子域（支持通配符）。</li>
<li>目标 Web 服务器上的虚拟主机名。</li>
<li>打开 Amazon S3 存储桶</li>
</ul>
</blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/danielmiessler/SecLists"><strong>SecLists</strong></a></li>
</ul>
<blockquote>
<p>SecLists 是安全测试人员的伴侣。它是安全评估期间使用的多种类型列表的集合，收集在一个地方。列表类型包括用户名、密码、URL、敏感数据模式、模糊测试负载、Web Shell 等等。目标是使安全测试人员能够将此存储库拉到一个新的测试框上，并可以访问可能需要的每种类型的列表。</p>
</blockquote>
<ul>
<li>OSINT 开源情报与侦察工具</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://www.osint-labs.org/tools/">https://www.osint-labs.org/tools/</a></p>
<ul>
<li>本机 ip 地址查询</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://ip.skk.moe/">https://ip.skk.moe/</a></p>
<ul>
<li><p>空间搜索引擎</p>
<ul>
<li>FOFA <a target="_blank" rel="noopener" href="https://fofa.info/">https://fofa.info</a></li>
<li>Quake <a target="_blank" rel="noopener" href="https://quake.360.cn/quake/#/index">https://quake.360.cn/quake/#/index</a></li>
<li>Hunter <a target="_blank" rel="noopener" href="https://hunter.qianxin.com/">https://hunter.qianxin.com</a></li>
<li>Censys <a target="_blank" rel="noopener" href="https://search.censys.io/">https://search.censys.io/</a></li>
<li>Shadon <a target="_blank" rel="noopener" href="https://www.shodan.io/">https://www.shodan.io</a></li>
<li>ZoomEye <a target="_blank" rel="noopener" href="https://www.zoomeye.org/">https://www.zoomeye.org</a></li>
<li>Sumap <a target="_blank" rel="noopener" href="https://sumap.dbappsecurity.com.cn/">https://sumap.dbappsecurity.com.cn/</a></li>
<li>Soall <a target="_blank" rel="noopener" href="https://soall.org/login">https://soall.org/login</a></li>
<li>0.zone <a target="_blank" rel="noopener" href="https://0.zone/">https://0.zone/</a></li>
</ul>
</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/11112">https://xz.aliyun.com/t/11112</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/MSLwTsfahF2NSSdDznvetw">https://mp.weixin.qq.com/s/MSLwTsfahF2NSSdDznvetw</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_53577336/article/details/122828715">https://blog.csdn.net/qq_53577336&#x2F;article&#x2F;details&#x2F;122828715</a></p>
<p><a target="_blank" rel="noopener" href="https://www.lijiejie.com/dns-zone-transfer-1/">https://www.lijiejie.com/dns-zone-transfer-1/</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/bin-maker/2021CDN/">https://github.com/bin-maker/2021CDN/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/articles/web/265016.html">https://www.freebuf.com/articles/web/265016.html</a></p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Jack hou</div><div class="post-copyright__author_desc"></div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/')">信息收集道道之外网信息收集</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div><div class="reward-link mode"><a class="reward-link-button" href="/wechat/"><i class="anzhiyufont anzhiyu-icon-plant-fill"></i>运营模式与责任</a></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=信息收集道道之外网信息收集&amp;url=http://www.houyanbin.com/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/&amp;pic=https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://www.houyanbin.com" target="_blank">Jackhou Blog</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/%E5%AE%89%E5%85%A8/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>安全<span class="tagsPageCount">20</span></a><a class="post-meta__box__tags" href="/tags/%E6%94%BB%E9%98%B2/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>攻防<span class="tagsPageCount">1</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/05/24/%E5%AE%89%E5%85%A8/sqlmap%E4%BD%BF%E7%94%A8/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Sqlmap使用</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">故宫记</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2023/04/10/Articles/Security%20Copilot%20%E5%88%86%E6%9E%90/" title="Security Copilot 分析"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-10</div><div class="title">Security Copilot 分析</div></div></a></div><div><a href="/2023/05/04/Articles/APT%E7%BB%84%E7%BB%87/" title="APT 组织介绍"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-05-04</div><div class="title">APT 组织介绍</div></div></a></div><div><a href="/2023/04/21/%E5%AE%89%E5%85%A8/Burp%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/" title="Burp使用技巧"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover2.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-21</div><div class="title">Burp使用技巧</div></div></a></div><div><a href="/2023/04/21/%E5%AE%89%E5%85%A8/CSRF%E8%B7%A8%E7%AB%99%E8%AF%B7%E6%B1%82%E4%BC%AA%E9%80%A0%E6%94%BB%E5%87%BB/" title="CSRF跨站请求伪造攻击"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover4.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-21</div><div class="title">CSRF跨站请求伪造攻击</div></div></a></div><div><a href="/2023/04/21/%E5%AE%89%E5%85%A8/Centos7%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/" title="Centos7 超详细安装教程"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-21</div><div class="title">Centos7 超详细安装教程</div></div></a></div><div><a href="/2023/04/21/%E5%AE%89%E5%85%A8/SQL%E6%B3%A8%E5%85%A5%E8%AF%A6%E8%A7%A3/" title="SQL注入详解"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover3.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2023-04-21</div><div class="title">SQL注入详解</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="anzhiyufont anzhiyu-icon-comments"></i><span> 评论</span></div><div class="comment-randomInfo"><a onclick="anzhiyu.addRandomCommentInfo()" href="javascript:void(0)">匿名评论</a><a href="/privacy" style="margin-left: 4px">隐私政策</a></div><div class="comment-tips" id="comment-tips"><span>✅ 你无需删除空行，直接评论以获取最佳展示效果</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div></div></div><div class="comment-barrage"></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://img02.anzhiy.cn/adminuploads/1/2022/09/15/63232b7d91d22.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__description"><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">Hi，这是我的博客网站，欢迎你能到访~</div><div style="line-height:1.38;margin:0.6rem 0;text-align:justify;color:rgba(255, 255, 255, 0.8);">我会在这里分享我的<b style="color:#fff">技术知识</b>、<b style="color:#fff">日常生活</b>和<b style="color:#fff">人生经验。</b></div></div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Jack hou</h1><div class="author-info__desc"></div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://github.com/Hou-yanbin" target="_blank" title="Github"><i class="fab fa-github faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://space.bilibili.com/478589474" target="_blank" title="BiliBili"><i class="fa-brands fa-bilibili faa-tada"></i></a><a class="social-icon faa-parent animated-hover" href="https://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&amp;email=jackhou921@qq.com" target="_blank" title="Email"><i class="anzhiyufont anzhiyu-icon-envelope"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/index/wxgzh1.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#0x00-%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%E3%80%81%E8%B5%84%E6%BA%90%E7%AE%80%E8%AE%B0%EF%BC%9A"><span class="toc-text">0x00 常用工具、资源简记：</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x01-%E4%B8%BB%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-text">0x01 主域名信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-ICP-%E5%A4%87%E6%A1%88"><span class="toc-text">1. ICP 备案</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E6%A1%88%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">备案信息查询：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%87%E6%A1%88%E5%8F%8D%E6%9F%A5%E4%B8%BB%E5%9F%9F%E5%90%8D"><span class="toc-text">备案反查主域名</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Whois"><span class="toc-text">2. Whois</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-IP-%E5%8F%8D%E6%9F%A5"><span class="toc-text">3. IP 反查</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E6%9F%A5%E8%AF%A2"><span class="toc-text">如何查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-HOST-%E7%A2%B0%E6%92%9E"><span class="toc-text">4. HOST 碰撞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-DNS-%E5%85%B1%E4%BA%AB%E8%AE%B0%E5%BD%95"><span class="toc-text">5. DNS 共享记录</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E-DNS"><span class="toc-text">关于 DNS</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A9%E7%94%A8%E4%BB%B7%E5%80%BC"><span class="toc-text">利用价值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%8B%E6%B3%95"><span class="toc-text">手法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-Google"><span class="toc-text">6. Google</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF"><span class="toc-text">7. 配置信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-%E4%BC%97%E6%B5%8B"><span class="toc-text">8. 众测</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9-%E4%BC%81%E4%B8%9A%E8%B5%84%E4%BA%A7%E4%BF%A1%E6%81%AF"><span class="toc-text">9. 企业资产信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%82%A1%E6%9D%83%E6%8A%95%E8%B5%84%E4%BF%A1%E6%81%AF"><span class="toc-text">股权投资信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BF%A1%E6%81%AF"><span class="toc-text">公众号信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-text">小程序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%94%E7%94%A8%E4%BF%A1%E6%81%AF"><span class="toc-text">应用信息</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%B7%A5%E5%85%B7"><span class="toc-text">关于工具</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x02-%E5%AD%90%E5%9F%9F%E5%90%8D%E4%BF%A1%E6%81%AF"><span class="toc-text">0x02 子域名信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9E%9A%E4%B8%BE%E7%88%86%E7%A0%B4"><span class="toc-text">1. 枚举爆破</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E6%B3%95%E4%BB%8B%E7%BB%8D"><span class="toc-text">手法介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E6%B3%9B%E8%A7%A3%E6%9E%90"><span class="toc-text">关于泛解析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%9A%E4%B8%BE%E7%88%86%E7%A0%B4%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-text">枚举爆破常用工具：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%AD%97%E5%85%B8"><span class="toc-text">关于字典</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-DNS-%E5%9F%9F%E4%BC%A0%E9%80%81"><span class="toc-text">2. DNS 域传送</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">检测方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#nslookup"><span class="toc-text">nslookup</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Dig"><span class="toc-text">Dig</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">其他</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E8%AF%81%E4%B9%A6%E9%80%8F%E6%98%8E%E5%BA%A6%E6%94%B6%E9%9B%86%E5%AD%90%E5%9F%9F"><span class="toc-text">3. 证书透明度收集子域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">收集方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-text">在线查询：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">浏览器查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-text">工具：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%85%AC%E5%BC%80%E6%95%B0%E6%8D%AE%E9%9B%86"><span class="toc-text">4. 公开数据集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%AC%AC%E4%B8%89%E6%96%B9%E8%81%9A%E5%90%88%E6%9C%8D%E5%8A%A1"><span class="toc-text">5. 第三方聚合服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">6. 搜索引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">搜索方法：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BB%E6%B5%81%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">主流搜索引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Goolge%EF%BC%9A"><span class="toc-text">Goolge：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E5%BC%95%E6%93%8E"><span class="toc-text">网络空间引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#fofa"><span class="toc-text">fofa</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#Shodan"><span class="toc-text">Shodan</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#0-zone"><span class="toc-text">0.zone</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#hunter"><span class="toc-text">hunter</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B6%E4%BB%96-1"><span class="toc-text">其他</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-%E5%B7%A5%E5%85%B7%E8%87%AA%E5%8A%A8%E5%8C%96"><span class="toc-text">7. 工具自动化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#OneForAll"><span class="toc-text">OneForAll</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#subfinder"><span class="toc-text">subfinder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ksubdomain"><span class="toc-text">ksubdomain</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#JSINFO-SCAN"><span class="toc-text">JSINFO-SCAN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#URLFinder"><span class="toc-text">URLFinder</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Layer-%E5%AD%90%E5%9F%9F%E5%90%8D%E6%8C%96%E6%8E%98%E6%9C%BA"><span class="toc-text">Layer 子域名挖掘机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ESD"><span class="toc-text">ESD</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EyeWitness"><span class="toc-text">EyeWitness</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x03-IP-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">0x03 IP 信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%BB%95%E8%BF%87-CDN-%E8%8E%B7%E5%8F%96%E7%9C%9F%E5%AE%9E-ip"><span class="toc-text">1. 绕过 CDN 获取真实 ip</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%80%E8%BF%B0"><span class="toc-text">简述</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81-CDN-%E6%9C%8D%E5%8A%A1%E5%95%86"><span class="toc-text">常见 CDN 服务商</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CDN-%E5%88%A4%E6%96%AD"><span class="toc-text">CDN 判断</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#0x01-%E5%A4%9A-ping"><span class="toc-text">0x01 多 ping</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x02-nslookup"><span class="toc-text">0x02 nslookup</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x03-header-%E5%A4%B4%E4%BF%A1%E6%81%AF"><span class="toc-text">0x03 header 头信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x04-%E5%9C%A8%E7%BA%BF%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7"><span class="toc-text">0x04 在线检测工具</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%9C%9F%E5%AE%9E-IP"><span class="toc-text">获取真实 IP</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#0x01-dns-%E5%8E%86%E5%8F%B2%E7%BB%91%E5%AE%9A%E8%AE%B0%E5%BD%95"><span class="toc-text">0x01 dns 历史绑定记录</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x02-%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E6%B5%8B%E7%BB%98%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">0x02 网络空间测绘搜索引擎</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x03-%E5%AD%90%E5%9F%9F%E5%90%8D"><span class="toc-text">0x03 子域名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x04-%E5%BC%82%E5%9C%B0-ping"><span class="toc-text">0x04 异地 ping</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x05-SSL-%E8%AF%81%E4%B9%A6"><span class="toc-text">0x05 SSL 证书</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%EF%BC%9A"><span class="toc-text">在线：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C"><span class="toc-text">命令行</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%EF%BC%9A-1"><span class="toc-text">工具：</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x06-%E6%95%8F%E6%84%9F%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2"><span class="toc-text">0x06 敏感文件泄露</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x07-CDN-%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98"><span class="toc-text">0x07 CDN 配置问题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x08-%E6%BC%8F%E6%B4%9E"><span class="toc-text">0x08 漏洞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x09-%E9%82%AE%E4%BB%B6%E5%A4%B4%E4%BF%A1%E6%81%AF"><span class="toc-text">0x09 邮件头信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x10-vhost-%E7%A2%B0%E6%92%9E"><span class="toc-text">0x10 vhost 碰撞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x11-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F"><span class="toc-text">0x11 应用程序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x12-%E9%80%9A%E8%BF%87-F5-LTM-%E8%A7%A3%E7%A0%81"><span class="toc-text">0x12 通过 F5 LTM 解码</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#0x13-%E5%85%B6%E4%BB%96"><span class="toc-text">0x13 其他</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9C%9F%E5%AE%9E-ip-%E9%AA%8C%E8%AF%81%EF%BC%9A"><span class="toc-text">真实 ip 验证：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#cdn-%E8%8A%82%E7%82%B9%E5%88%A4%E6%96%AD"><span class="toc-text">cdn 节点判断</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9C%9F%E5%AE%9E-IP-%E4%BD%BF%E7%94%A8%EF%BC%9A"><span class="toc-text">真实 IP 使用：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%BB%84%E7%BB%87-IP-%E6%AE%B5"><span class="toc-text">2. 组织 IP 段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-C-%E6%AE%B5"><span class="toc-text">3. C 段</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#C-%E6%AE%B5%E4%B8%BB%E8%A6%81%E6%94%B6%E9%9B%86%E7%82%B9%EF%BC%9A"><span class="toc-text">C 段主要收集点：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%AB%E6%8F%8F%E5%B8%B8%E7%94%A8%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-text">扫描常用工具：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%EF%BC%88fofa%E3%80%81quake%E2%80%A6"><span class="toc-text">网络空间搜索引擎（fofa、quake…)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#nmap"><span class="toc-text">nmap</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#msscan"><span class="toc-text">msscan</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Goby"><span class="toc-text">Goby</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#shuize"><span class="toc-text">shuize</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#fscan"><span class="toc-text">fscan</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ALLin"><span class="toc-text">ALLin</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%97%81%E7%AB%99%EF%BC%88ip-%E5%8F%8D%E6%9F%A5%E5%9F%9F%E5%90%8D%EF%BC%89"><span class="toc-text">4. 旁站（ip 反查域名）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">常见查询方法：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E7%AB%AF%E5%8F%A3"><span class="toc-text">5. 端口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E6%B8%97%E9%80%8F%E6%80%9D%E8%B7%AF%E8%A1%A8"><span class="toc-text">端口渗透思路表</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-IP-%E5%AE%9A%E4%BD%8D"><span class="toc-text">6. IP 定位</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x04-%E6%8C%87%E7%BA%B9%E4%BF%A1%E6%81%AF"><span class="toc-text">0x04 指纹信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-CMS"><span class="toc-text">1. CMS</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E8%AF%AD%E8%A8%80%E8%AF%86%E5%88%AB%E6%80%9D%E8%B7%AF"><span class="toc-text">开发语言识别思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%B3%BB%E7%BB%9F%E8%AF%86%E5%88%AB%E6%80%9D%E8%B7%AF"><span class="toc-text">服务器系统识别思路</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CMS-%E8%AF%86%E5%88%AB%E6%80%9D%E8%B7%AF"><span class="toc-text">CMS 识别思路</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%89%B9%E5%AE%9A%E6%96%87%E4%BB%B6%E7%9A%84-MD5"><span class="toc-text">特定文件的 MD5</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">页面关键字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%A4%B4%E4%BF%A1%E6%81%AF%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">请求头信息关键字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#url-%E5%85%B3%E9%94%AE%E5%AD%97"><span class="toc-text">url 关键字</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%B9%B3%E5%8F%B0"><span class="toc-text">在线平台</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7"><span class="toc-text">工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%8F%92%E4%BB%B6"><span class="toc-text">浏览器插件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-WAF"><span class="toc-text">2. WAF</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5"><span class="toc-text">手工</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7-1"><span class="toc-text">工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E7%BB%84%E4%BB%B6"><span class="toc-text">3. 组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E4%BF%A1%E6%81%AF%E5%A4%84%E7%90%86"><span class="toc-text">4. 信息处理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Ehole"><span class="toc-text">Ehole</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AlliN"><span class="toc-text">AlliN</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Bufferfly"><span class="toc-text">Bufferfly</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HKTools"><span class="toc-text">HKTools</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#EyeWitness-1"><span class="toc-text">EyeWitness</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#anew-%E5%8E%BB%E9%87%8D"><span class="toc-text">anew(去重)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x05-%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF"><span class="toc-text">0x05 敏感信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84%E5%8F%8A%E6%95%8F%E6%84%9F%E6%96%87%E4%BB%B6"><span class="toc-text">1. 目录结构及敏感文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%95%8F%E6%84%9F%E7%9B%AE%E5%BD%95%E5%8F%8A%E6%96%87%E4%BB%B6"><span class="toc-text">常见敏感目录及文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90"><span class="toc-text">工具推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#dirsearch"><span class="toc-text">dirsearch</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#feroxbuster"><span class="toc-text">feroxbuster</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#yjdirscan"><span class="toc-text">yjdirscan</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E5%85%B8%E6%8E%A8%E8%8D%90"><span class="toc-text">字典推荐</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#fuzzDicts"><span class="toc-text">fuzzDicts</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Web-Fuzzing-Box"><span class="toc-text">Web-Fuzzing-Box</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#XXE-%E6%9A%B4%E5%8A%9B%E6%9E%9A%E4%B8%BE%E5%AD%97%E5%85%B8"><span class="toc-text">XXE 暴力枚举字典</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-JS-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">2. JS 信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#JS-%E4%BF%A1%E6%81%AF%E6%9F%A5%E6%89%BE%E6%96%B9%E6%B3%95"><span class="toc-text">JS 信息查找方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E6%89%8B%E5%B7%A5"><span class="toc-text">1. 手工</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%8D%8A%E8%87%AA%E5%8A%A8"><span class="toc-text">2. 半自动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%B7%A5%E5%85%B7%EF%BC%9A"><span class="toc-text">3. 工具：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96%E8%BE%85%E5%8A%A9%E5%B7%A5%E5%85%B7"><span class="toc-text">4. 其他辅助工具</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8E%86%E5%8F%B2%E7%95%8C%E9%9D%A2"><span class="toc-text">历史界面</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8F%8D%E6%B7%B7%E8%82%B4"><span class="toc-text">反混肴</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#url-%E9%87%87%E9%9B%86"><span class="toc-text">url 采集</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#js-%E4%B8%AD%E5%85%B3%E9%94%AE%E4%BF%A1%E6%81%AF%E7%AE%80%E8%AE%B0"><span class="toc-text">js 中关键信息简记</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Google-Hacking"><span class="toc-text">3. Google Hacking</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E"><span class="toc-text">说明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hacking-%E5%B8%B8%E7%94%A8%E8%AF%AD%E6%B3%95"><span class="toc-text">hacking 常用语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0%E5%9C%B0%E5%9D%80"><span class="toc-text">管理后台地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%8A%E4%BC%A0%E7%B1%BB%E6%BC%8F%E6%B4%9E%E5%9C%B0%E5%9D%80"><span class="toc-text">上传类漏洞地址</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E5%85%A5%E9%A1%B5%E9%9D%A2"><span class="toc-text">注入页面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BC%96%E8%BE%91%E5%99%A8%E9%A1%B5%E9%9D%A2"><span class="toc-text">编辑器页面</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9B%AE%E5%BD%95%E9%81%8D%E5%8E%86%E6%BC%8F%E6%B4%9E"><span class="toc-text">目录遍历漏洞</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#SQL-%E9%94%99%E8%AF%AF"><span class="toc-text">SQL 错误</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%AC%E5%BC%80%E6%96%87%E4%BB%B6%E6%B3%84%E9%9C%B2"><span class="toc-text">公开文件泄露</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E4%BF%A1%E6%81%AF"><span class="toc-text">邮箱信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A4%BE%E5%B7%A5%E4%BF%A1%E6%81%AF"><span class="toc-text">社工信息</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tips%EF%BC%9A"><span class="toc-text">tips：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E8%AF%AD%E6%B3%95"><span class="toc-text">百度语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%8F%8D%E6%9F%A5"><span class="toc-text">图片反查</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%99%BE%E5%BA%A6%E8%AF%86%E5%9B%BE%E3%80%81googleimage%E3%80%81tineye-%E7%AD%89%E8%AF%86%E5%9B%BE%E5%BC%95%E6%93%8E"><span class="toc-text">百度识图、googleimage、tineye 等识图引擎</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BB%8E%E5%9B%BE%E7%89%87%E5%8E%9F%E5%9B%BE%E8%8E%B7%E5%8F%96%E5%9D%90%E6%A0%87"><span class="toc-text">从图片原图获取坐标</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E6%9F%A5%E7%9C%8B%E5%99%A8"><span class="toc-text">在线查看器</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%8F%E7%BA%AC%E5%BA%A6%E8%BD%AC%E5%9C%B0%E5%9D%80"><span class="toc-text">经纬度转地址</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Github-%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">4. Github 信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Github-%E6%90%9C%E7%B4%A2%E8%AF%AD%E6%B3%95"><span class="toc-text">Github 搜索语法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B6%E9%9B%86%E5%B7%A5%E5%85%B7"><span class="toc-text">收集工具</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#GitDorker"><span class="toc-text">GitDorker</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#trufflehog"><span class="toc-text">trufflehog</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E6%A3%80%E7%B4%A2%E6%96%B9%E6%B3%95%EF%BC%9A"><span class="toc-text">其他检索方法：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E4%BB%93%E5%BA%93%E5%9C%A8%E7%BA%BF%E6%90%9C%E7%B4%A2%E5%B9%B3%E5%8F%B0"><span class="toc-text">代码仓库在线搜索平台</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#pinatahub"><span class="toc-text">pinatahub</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#searchcode"><span class="toc-text">searchcode</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%BB%93%E5%BA%93"><span class="toc-text">其他仓库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%82%AE%E7%AE%B1%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">5. 邮箱信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E5%85%A5%E5%8F%A3%E6%9F%A5%E6%89%BE%E6%96%B9%E6%B3%95"><span class="toc-text">邮箱入口查找方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#C-%E6%AE%B5%E6%89%AB%E6%8F%8F%E5%AF%BB%E6%89%BE%E5%85%A5%E5%8F%A3"><span class="toc-text">C 段扫描寻找入口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E5%AD%90%E5%9F%9F%E5%90%8D%E6%89%AB%E6%8F%8F%E5%AF%BB%E6%89%BE%E5%85%A5%E5%8F%A3"><span class="toc-text">通过子域名扫描寻找入口</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%80%9A%E8%BF%87%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%AF%BB%E6%89%BE%E5%85%A5%E5%8F%A3"><span class="toc-text">通过搜索引擎寻找入口</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E6%94%B6%E9%9B%86%E6%96%B9%E6%B3%95"><span class="toc-text">邮箱收集方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">搜索引擎</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Google-Hacking"><span class="toc-text">Google Hacking</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%A9%BA%E9%97%B4%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E"><span class="toc-text">网络空间搜索引擎</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E6%94%B6%E9%9B%86%E5%B9%B3%E5%8F%B0"><span class="toc-text">在线收集平台</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#Snov-io"><span class="toc-text">Snov.io</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#hunter-1"><span class="toc-text">hunter</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#phonebook"><span class="toc-text">phonebook</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#intelx"><span class="toc-text">intelx</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#skymem"><span class="toc-text">skymem</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%88%B1%E4%BC%81%E6%9F%A5%E3%80%81%E4%BC%81%E6%9F%A5%E6%9F%A5%E7%AD%89%E6%89%B9%E9%87%8F%E6%9F%A5%E8%AF%A2"><span class="toc-text">爱企查、企查查等批量查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E6%B3%84%E9%9C%B2%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2"><span class="toc-text">邮箱泄露信息查询</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%B6%E4%BB%96-2"><span class="toc-text">其他</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%94%B6%E9%9B%86"><span class="toc-text">工具收集</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#theHarvester"><span class="toc-text">theHarvester</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E9%82%AE%E7%AE%B1"><span class="toc-text">验证邮箱</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%B9%B3%E5%8F%B0-1"><span class="toc-text">在线平台</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7-2"><span class="toc-text">工具</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%82%AE%E7%AE%B1%E7%88%86%E7%A0%B4"><span class="toc-text">邮箱爆破</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%AD%97%E5%85%B8%E7%BB%84%E5%90%88"><span class="toc-text">常用字典组合</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7-3"><span class="toc-text">工具</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%B4%E6%97%B6%E9%82%AE%E7%AE%B1"><span class="toc-text">临时邮箱</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8C%BF%E5%90%8D%E9%82%AE%E7%AE%B1"><span class="toc-text">匿名邮箱</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E7%BD%91%E7%9B%98%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">6. 网盘信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E5%B9%B3%E5%8F%B0-2"><span class="toc-text">在线平台</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%85%B3%E9%94%AE%E8%AF%8D"><span class="toc-text">搜索关键词</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%88%AC%E8%99%AB"><span class="toc-text">爬虫</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#0x06-%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF"><span class="toc-text">0x06 其他信息</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-APP"><span class="toc-text">1. APP</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#App-%E6%9F%A5%E6%89%BE%E5%85%A5%E5%8F%A3"><span class="toc-text">App 查找入口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E-1"><span class="toc-text">搜索引擎</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E7%BA%BF%E8%81%9A%E5%90%88%E5%B9%B3%E5%8F%B0"><span class="toc-text">在线聚合平台</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#App-%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="toc-text">App 敏感信息收集</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%89%8B%E5%B7%A5%E6%94%B6%E9%9B%86"><span class="toc-text">手工收集</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%85%B7%E6%8E%A8%E8%8D%90%EF%BC%9A"><span class="toc-text">工具推荐：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-OSINT"><span class="toc-text">2. OSINT</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%83%85%E6%8A%A5%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90"><span class="toc-text">情报相关资源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#OSINT-%E6%83%85%E6%8A%A5%E5%B7%A5%E5%85%B7"><span class="toc-text">OSINT 情报工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E4%B8%AA%E4%BA%BA%E9%9A%90%E7%A7%81%E4%BF%A1%E6%81%AF"><span class="toc-text">3. 个人隐私信息</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E9%82%AE%E7%AE%B1%E6%9F%A5%E8%AF%A2"><span class="toc-text">从邮箱查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E7%94%A8%E6%88%B7%E5%90%8D%E6%9F%A5%E8%AF%A2"><span class="toc-text">从用户名查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E-IP-%E6%9F%A5%E8%AF%A2"><span class="toc-text">从 IP 查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%B7%E5%90%88%E6%9F%A5%E8%AF%A2"><span class="toc-text">混合查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8E%E6%B3%A8%E5%86%8C%E4%BF%A1%E6%81%AF%E6%9F%A5%E8%AF%A2"><span class="toc-text">从注册信息查询</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%8E%86%E5%8F%B2%E6%BC%8F%E6%B4%9E"><span class="toc-text">4. 历史漏洞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E8%9C%9C%E7%BD%90%E8%AF%86%E5%88%AB"><span class="toc-text">5. 蜜罐识别</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="做情人真的没有好下场吗？"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="做情人真的没有好下场吗？"/></a><div class="content"><a class="title" href="/2023/08/15/%E5%8C%BF%E5%90%8D/%E6%83%85%E4%BA%BA/" title="做情人真的没有好下场吗？">做情人真的没有好下场吗？</a><time datetime="2023-08-14T16:00:00.000Z" title="发表于 2023-08-15 00:00:00">2023-08-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="不爱前行"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="不爱前行"/></a><div class="content"><a class="title" href="/2023/07/30/%E5%8C%BF%E5%90%8D/%E4%B8%8D%E7%88%B1%E6%80%8E%E4%B9%88%E8%B5%B0%E4%B8%8B%E5%8E%BB/" title="不爱前行">不爱前行</a><time datetime="2023-07-29T16:00:00.000Z" title="发表于 2023-07-30 00:00:00">2023-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="租房时光"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover7.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="租房时光"/></a><div class="content"><a class="title" href="/2023/07/22/%E5%8C%BF%E5%90%8D/%E7%A7%9F%E6%88%BF%E6%97%B6%E5%85%89/" title="租房时光">租房时光</a><time datetime="2023-07-21T16:00:00.000Z" title="发表于 2023-07-22 00:00:00">2023-07-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="故宫记"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="故宫记"/></a><div class="content"><a class="title" href="/2023/06/11/%E6%97%85%E8%A1%8C/%E6%95%85%E5%AE%AB%E8%AE%B0/" title="故宫记">故宫记</a><time datetime="2023-06-10T16:00:00.000Z" title="发表于 2023-06-11 00:00:00">2023-06-11</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集道道之外网信息收集"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://imagesblog.oss-cn-hangzhou.aliyuncs.com/themes/post/default_cover9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="信息收集道道之外网信息收集"/></a><div class="content"><a class="title" href="/2023/05/29/%E5%AE%89%E5%85%A8/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86%E9%81%93%E9%81%93%E4%B9%8B%E5%A4%96%E7%BD%91%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/" title="信息收集道道之外网信息收集">信息收集道道之外网信息收集</a><time datetime="2023-05-28T16:00:00.000Z" title="发表于 2023-05-29 00:00:00">2023-05-29</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div id="workboard"><img class="workSituationImg boardsign" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-上班摸鱼中.svg" alt="距离月入25k也就还差一个大佬带我~" title="距离月入25k也就还差一个大佬带我~"/><div id="runtimeTextTip"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2023 By <a class="footer-bar-link" href="/" title="Jack hou" target="_blank">Jack hou</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">58</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">19</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">11</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://www.houyanbin.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 友链</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/link/"><i class="anzhiyufont anzhiyu-icon-link faa-tada" style="font-size: 0.9em;"></i><span> 友人帐</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/comments/"><i class="anzhiyufont anzhiyu-icon-envelope faa-tada" style="font-size: 0.9em;"></i><span> 留言板</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/music/?id=8868465080&amp;server=tencent&amp;type=0"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/bangumis/"><i class="anzhiyufont anzhiyu-icon-bilibili faa-tada" style="font-size: 0.9em;"></i><span> 追番页</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于本人</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Article/" style="font-size: 0.88rem; color: rgb(115, 42, 143);">Article<sup>4</sup></a><a href="/tags/CSRF/" style="font-size: 0.88rem; color: rgb(11, 162, 98);">CSRF<sup>1</sup></a><a href="/tags/Git/" style="font-size: 0.88rem; color: rgb(99, 102, 101);">Git<sup>1</sup></a><a href="/tags/Java/" style="font-size: 0.88rem; color: rgb(89, 174, 72);">Java<sup>3</sup></a><a href="/tags/JavaScript/" style="font-size: 0.88rem; color: rgb(165, 134, 55);">JavaScript<sup>17</sup></a><a href="/tags/Linux/" style="font-size: 0.88rem; color: rgb(145, 99, 187);">Linux<sup>1</sup></a><a href="/tags/Pikachu/" style="font-size: 0.88rem; color: rgb(187, 30, 148);">Pikachu<sup>1</sup></a><a href="/tags/SQL/" style="font-size: 0.88rem; color: rgb(30, 128, 29);">SQL<sup>2</sup></a><a href="/tags/XAUUSD/" style="font-size: 0.88rem; color: rgb(33, 146, 124);">XAUUSD<sup>1</sup></a><a href="/tags/XSS/" style="font-size: 0.88rem; color: rgb(121, 122, 163);">XSS<sup>2</sup></a><a href="/tags/%E3%80%8AJavaScript%E6%9D%83%E5%A8%81%E6%8C%87%E5%8D%97%E3%80%8B/" style="font-size: 0.88rem; color: rgb(27, 15, 129);">《JavaScript权威指南》<sup>17</sup></a><a href="/tags/%E5%8C%BF%E5%90%8D/" style="font-size: 0.88rem; color: rgb(134, 88, 7);">匿名<sup>3</sup></a><a href="/tags/%E5%8D%9A%E5%AE%A2/" style="font-size: 0.88rem; color: rgb(91, 117, 189);">博客<sup>10</sup></a><a href="/tags/%E5%AE%89%E5%85%A8/" style="font-size: 0.88rem; color: rgb(194, 12, 109);">安全<sup>20</sup></a><a href="/tags/%E6%94%AF%E4%BB%98/" style="font-size: 0.88rem; color: rgb(55, 6, 45);">支付<sup>1</sup></a><a href="/tags/%E6%94%BB%E9%98%B2/" style="font-size: 0.88rem; color: rgb(99, 97, 121);">攻防<sup>1</sup></a><a href="/tags/%E6%97%85%E8%A1%8C/" style="font-size: 0.88rem; color: rgb(197, 198, 13);">旅行<sup>1</sup></a><a href="/tags/%E8%99%9A%E6%8B%9F%E6%9C%BA/" style="font-size: 0.88rem; color: rgb(114, 148, 141);">虚拟机<sup>4</sup></a><a href="/tags/%E8%B6%8A%E6%9D%83/" style="font-size: 0.88rem; color: rgb(46, 94, 153);">越权<sup>2</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="anzhiyufont anzhiyu-icon-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8868465080" server="tencent" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="anzhiyufont anzhiyu-icon-xmark"></i></button></nav><div class="is-center" id="loading-database"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-pulse-icon"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8868465080&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.20/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.4/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("4/15/2023 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2023 By 安知鱼 V1.6.8",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Jack hou 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><script async="async">(function () {
  var grt = new Date("4/15/2023 00:00:00"); //设置网站上线时间
  var now = new Date();
  var dnum;
  var hnum;
  var mnum;
  var snum;
  var nowHour;

  // 计算并更新天数、小时数、分钟数和秒数
  function updateTime() {
    now = new Date(); // 更新 now 的值
    nowHour = now.getHours(); // 更新 nowHour 的值
    var days = (now - grt) / 1000 / 60 / 60 / 24;
    dnum = Math.floor(days);
    var hours = (now - grt) / 1000 / 60 / 60 - 24 * dnum;
    hnum = Math.floor(hours);
    if (String(hnum).length == 1) {
      hnum = "0" + hnum;
    }
    var minutes = (now - grt) / 1000 / 60 - 24 * 60 * dnum - 60 * hnum;
    mnum = Math.floor(minutes);
    if (String(mnum).length == 1) {
      mnum = "0" + mnum;
    }
    var seconds = (now - grt) / 1000 - 24 * 60 * 60 * dnum - 60 * 60 * hnum - 60 * mnum;
    snum = Math.round(seconds);
    if (String(snum).length == 1) {
      snum = "0" + snum;
    }
  }

  // 更新网页中显示的网站运行时间
  function updateHtml() {
    const footer = document.getElementById("footer");
    if (!footer) return
    let currentTimeHtml = "";
    if (nowHour < 18 && nowHour >= 9) {
      // 如果是上班时间，默认就是"安知鱼-上班摸鱼中.svg"图片，不需要更改
      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    } else {
      // 如果是下班时间，插入"安知鱼-下班啦.svg"图片
      let img = document.querySelector("#workboard .workSituationImg");
      img.src = "https://npm.elemecdn.com/anzhiyu-blog@2.0.4/img/badge/安知鱼-下班啦.svg";
      img.title = "下班了就该开开心心的玩耍，嘿嘿~";
      img.alt = "下班了就该开开心心的玩耍，嘿嘿~";

      currentTimeHtml = `本站居然运行了 ${dnum} 天<span id='runtime'> ${hnum} 小时 ${mnum} 分 ${snum} 秒 </span><i class='anzhiyufont anzhiyu-icon-heartbeat' style='color:red'></i>`;
    }

    if (document.getElementById("runtimeTextTip")) {
      document.getElementById("runtimeTextTip").innerHTML = currentTimeHtml;
    }
  }

  setInterval(() => {
    updateTime();
    updateHtml();
  }, 1000);
})();</script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>(() => {
  const init = () => {
    twikoo.init(Object.assign({
      el: '#twikoo-wrap',
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      onCommentLoaded: () => {
        anzhiyu.loadLightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
      }
    }, null))
  }

  const loadTwikoo = () => {
    if (typeof twikoo === 'object') setTimeout(runFn,0)
    else getScript('https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js').then(runFn)
  }

  const getCount = () => {
    const countELement = document.getElementById('twikoo-count')
    if(!countELement) return
    twikoo.getCommentsCount({
      envId: 'https://twikoo.houyanbin.com/',
      region: '',
      urls: [window.location.pathname],
      includeReply: false
    }).then(res => {
      countELement.textContent = res[0].count
    }).catch(err => {
      console.error(err)
    })
  }

  const runFn = () => {
    init();
    
  }

  if ('Twikoo' === 'Twikoo' || !true) {
    if (true) anzhiyu.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
    else {
      loadTwikoo()
    }
  } else {
    window.loadOtherComment = loadTwikoo
  }
})()</script><input type="hidden" name="page-type" id="page-type" value="post"></div><script>window.addEventListener('load', () => {
  const changeContent = (content) => {
    if (content === '') return content

    content = content.replace(/<img.*?src="(.*?)"?[^\>]+>/ig, '[图片]') // replace image link
    content = content.replace(/<a[^>]+?href=["']?([^"']+)["']?[^>]*>([^<]+)<\/a>/gi, '[链接]') // replace url
    content = content.replace(/<pre><code>.*?<\/pre>/gi, '[代码]') // replace code
    content = content.replace(/<[^>]+>/g,"") // remove html tag

    if (content.length > 150) {
      content = content.substring(0,150) + '...'
    }
    return content
  }

  const getComment = () => {
    const runTwikoo = () => {
      twikoo.getRecentComments({
        envId: 'https://twikoo.houyanbin.com/',
        region: '',
        pageSize: 6,
        includeReply: true
      }).then(function (res) {
        const twikooArray = res.map(e => {
          return {
            'content': changeContent(e.comment),
            'avatar': e.avatar,
            'nick': e.nick,
            'url': e.url + '#' + e.id,
            'date': new Date(e.created).toISOString()
          }
        })

        saveToLocal.set('twikoo-newest-comments', JSON.stringify(twikooArray), 10/(60*24))
        generateHtml(twikooArray)
      }).catch(function (err) {
        const $dom = document.querySelector('#card-newest-comments .aside-list')
        $dom.textContent= "无法获取评论，请确认相关配置是否正确"
      })
    }

    if (typeof twikoo === 'object') {
      runTwikoo()
    } else {
      getScript('https://cdn.cbd.int/twikoo@1.6.21/dist/twikoo.all.min.js').then(runTwikoo)
    }
  }

  const generateHtml = array => {
    let result = ''

    if (array.length) {
      for (let i = 0; i < array.length; i++) {
        result += '<div class=\'aside-list-item\'>'

        if (true) {
          const name = 'data-lazy-src'
          result += `<a href='${array[i].url}' class='thumbnail'><img ${name}='${array[i].avatar}' alt='${array[i].nick}'><div class='name'><span>${array[i].nick} </span></div></a>`
        }
        
        result += `<div class='content'>
        <a class='comment' href='${array[i].url}' title='${array[i].content}'>${array[i].content}</a>
        <time datetime="${array[i].date}">${anzhiyu.diffDate(array[i].date, true)}</time></div>
        </div>`
      }
    } else {
      result += '没有评论'
    }

    let $dom = document.querySelector('#card-newest-comments .aside-list')
    $dom.innerHTML= result
    window.lazyLoadInstance && window.lazyLoadInstance.update()
    window.pjax && window.pjax.refresh($dom)
  }

  const newestCommentInit = () => {
    if (document.querySelector('#card-newest-comments .aside-list')) {
      const data = saveToLocal.get('twikoo-newest-comments')
      if (data) {
        generateHtml(JSON.parse(data))
      } else {
        getComment()
      }
    }
  }

  newestCommentInit()
  document.addEventListener('pjax:complete', newestCommentInit)
})</script><script async data-pjax src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.1/bubble/bubble.js"></script><script>var visitorMail = "visitor@anzhiy.cn";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["meta[property=\"og:image\"]","meta[property=\"og:title\"]","meta[property=\"og:url\"]","meta[property=\"og:type\"]","meta[property=\"og:site_name\"]","meta[property=\"og:description\"]","head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>